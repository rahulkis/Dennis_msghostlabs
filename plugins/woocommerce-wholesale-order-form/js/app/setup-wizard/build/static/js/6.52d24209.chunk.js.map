{"version":3,"sources":["components/FirstStep/index.tsx","components/SecondStep/index.tsx","components/ThirdStep/index.tsx","components/MigrationSteps/index.tsx"],"names":["connect","store","props","setupWizardSteps","setupWizard","steps","index","useState","perks","setPerks","useEffect","dangerouslySetInnerHTML","__html","bordered","dataSource","renderItem","item","Item","CheckOutlined","style","color","generateAPIKeys","setupWizardActions","DisplayKeys","lazy","dispatch","actions","bindActionCreators","displayKeys","setDisplayKeys","step2Data","setStep2Data","step2","find","x","id","data","is_valid","display","justifyContent","type","onClick","marginTop","fallback","className","GenerateOrderForm","fetchSteps","setupDone","Step","Steps","i18n","current","setCurrent","isDisabled","setIsDisabled","buttonDone","setButtonDone","i18nTexts","setI18nTexts","setSteps","secondStep","length","wizardSteps","forEach","arr","push","title","content","console","log","map","src","alt","textAlign","disabled","loading","successCB","response","message","success","setTimeout","window","location","replace","redirect","failCB","error","href","target","rel"],"mappings":"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","file":"static/js/6.52d24209.chunk.js","sourcesContent":["import { CheckOutlined } from \"@ant-design/icons\";\nimport { List } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\n\nconst FirstStep = (props: any) => {\n  const { setupWizardSteps, index } = props;\n  const [perks, setPerks] = useState([]);\n\n  useEffect(() => {\n    setPerks(setupWizardSteps?.[index]?.[\"perks\"] ?? []);\n  }, [setupWizardSteps, index]);\n\n  return (\n    <div>\n      <h1>{setupWizardSteps?.[index]?.[\"page_title\"]}</h1>\n      <div\n        dangerouslySetInnerHTML={{\n          __html: setupWizardSteps?.[index]?.[\"content\"]\n        }}\n      />\n      <List\n        bordered\n        dataSource={perks}\n        renderItem={(item) => (\n          <List.Item>\n            <CheckOutlined style={{ color: \"green\" }} />\n            {` ${item}`}\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  setupWizardSteps: store.setupWizard.steps\n});\n\nexport default connect(mapStateToProps)(FirstStep);\n","import { Button, Spin } from \"antd\";\n\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { setupWizardActions } from \"store/actions\";\nimport { lazy, Suspense, useEffect, useState } from \"react\";\n\nconst { generateAPIKeys } = setupWizardActions;\n\nconst DisplayKeys = lazy(() => import(\"./DisplayKeys\"));\n\nconst SecondStep = (props: any) => {\n  const { setupWizardSteps, actions, index } = props;\n  const { generateAPIKeys } = actions;\n  const [displayKeys, setDisplayKeys] = useState(false);\n  const [step2Data, setStep2Data] = useState([]);\n\n  useEffect(() => {\n    const step2 = setupWizardSteps.find((x: any) => x.id === \"step2\");\n    if (typeof step2 !== \"undefined\") {\n      setDisplayKeys(step2?.data?.is_valid);\n      setStep2Data(step2);\n    }\n  }, [setupWizardSteps]);\n\n  const autoGenerateKeys = () => {\n    generateAPIKeys();\n  };\n\n  return (\n    <div>\n      <h1>{setupWizardSteps?.[index]?.[\"page_title\"]}</h1>\n      <div\n        dangerouslySetInnerHTML={{\n          __html: setupWizardSteps?.[index]?.[\"content\"],\n        }}\n      />\n\n      <div id=\"api_keys\" style={{ display: \"flex\", justifyContent: \"center\" }}>\n        {!displayKeys ? (\n          <Button\n            type=\"primary\"\n            onClick={autoGenerateKeys}\n            style={{ marginTop: \"20px\" }}\n          >\n            {setupWizardSteps?.[index]?.[\"auto_generate\"]}\n          </Button>\n        ) : (\n          <></>\n        )}\n        <Suspense\n          fallback={\n            <div className=\"loading-spinner\" style={{ marginTop: \"40px\" }}>\n              <Spin /> &nbsp;{setupWizardSteps?.[index]?.[\"loading\"]}\n            </div>\n          }\n        >\n          <DisplayKeys\n            displayKeys={displayKeys}\n            step2Data={step2Data}\n            setupWizardSteps={setupWizardSteps}\n            index={index}\n          />\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  setupWizardSteps: store.setupWizard.steps,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      generateAPIKeys,\n    },\n    dispatch\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SecondStep);\n","import { lazy } from \"react\";\nimport { connect } from \"react-redux\";\nconst GenerateOrderForm = lazy(() => import(\"./GenerateOrderForm\"));\n\nconst ThirdStep = (props: any) => {\n  const { setupWizardSteps, index } = props;\n  return (\n    <div>\n      <h1>{setupWizardSteps?.[index]?.[\"page_title\"]}</h1>\n      <div\n        dangerouslySetInnerHTML={{\n          __html: setupWizardSteps?.[index]?.[\"content\"],\n        }}\n      />\n\n      <GenerateOrderForm index={index} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  setupWizardSteps: store.setupWizard.steps,\n});\n\nexport default connect(mapStateToProps)(ThirdStep);\n","import { Steps, Button, message } from \"antd\";\nimport { useState, useEffect } from \"react\";\nimport FirstStep from \"components/FirstStep\";\nimport SecondStep from \"components/SecondStep\";\nimport ThirdStep from \"components/ThirdStep\";\n\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { setupWizardActions } from \"store/actions\";\n\nconst { fetchSteps, setupDone } = setupWizardActions;\nconst { Step } = Steps;\n\nconst MigrationSteps = (props: any) => {\n  const { setupWizardSteps, i18n, actions } = props;\n  const [current, setCurrent] = useState(0);\n  const [isDisabled, setIsDisabled] = useState(false);\n  const [buttonDone, setButtonDone] = useState(false);\n  const [i18nTexts, setI18nTexts] = useState(i18n);\n\n  const next = () => {\n    setCurrent(current + 1);\n  };\n\n  const [steps, setSteps] = useState<any>([]);\n\n  useEffect(() => {\n    setI18nTexts(i18n);\n  }, [i18n]);\n\n  useEffect(() => {\n    actions.fetchSteps();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (current === 1) {\n      const secondStep = setupWizardSteps.find((x: any) => x.id === \"step2\");\n      if (typeof secondStep !== \"undefined\")\n        setIsDisabled(!secondStep?.data?.is_valid);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [current, setupWizardSteps]);\n\n  useEffect(() => {\n    if (setupWizardSteps.length > 0) {\n      let wizardSteps: any[] = [];\n\n      setupWizardSteps.forEach((item: any, index: number, arr: any) => {\n        switch (item.id) {\n          case \"step1\":\n            wizardSteps.push({\n              title: item.title,\n              content: <FirstStep index={index} />\n            });\n            break;\n          case \"step2\":\n            wizardSteps.push({\n              title: item.title,\n              content: <SecondStep index={index} />\n            });\n            break;\n          case \"step3\":\n            wizardSteps.push({\n              title: item.title,\n              content: <ThirdStep index={index} />\n            });\n            break;\n        }\n      });\n\n      setSteps(wizardSteps);\n    }\n  }, [setupWizardSteps]);\n  console.log(i18nTexts?.[\"need_support_link\"]);\n  return steps.length === 0 ? (\n    <></>\n  ) : (\n    <>\n      <Steps current={current}>\n        {steps.map((item: any) => (\n          <Step key={item.title} title={item.title} />\n        ))}\n      </Steps>\n      <div className=\"steps-content\">\n        <div className=\"wws-logo\">\n          <img src={i18nTexts?.[\"wws_logo\"]} alt=\"Wholesale Suite Logo\" />\n        </div>\n        {steps[current].content}\n      </div>\n      <div\n        className=\"steps-action\"\n        style={{ textAlign: \"center\", marginTop: \"20px\" }}\n      >\n        {current < steps.length - 1 && (\n          <Button type=\"primary\" onClick={() => next()} disabled={isDisabled}>\n            {i18nTexts?.[\"continue\"]}\n          </Button>\n        )}\n        {current === steps.length - 1 && (\n          <>\n            <Button\n              type=\"primary\"\n              loading={buttonDone}\n              onClick={() => {\n                setButtonDone(true);\n                actions.setupDone({\n                  successCB: (response: any) => {\n                    message.success(i18nTexts?.[\"process_complete\"]);\n                    setTimeout(() => {\n                      window.location.replace(response?.data?.data?.redirect);\n                    }, 1500);\n                  },\n                  failCB: (response: any) => {\n                    console.log(response);\n                    message.error(i18nTexts?.[\"fail\"]);\n                  }\n                });\n              }}\n            >\n              {i18nTexts?.[\"done\"]}\n            </Button>\n            <br />\n            <a\n              href={i18nTexts?.[\"need_support_link\"]}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{\n                marginTop: \"100px\",\n                display: \"inline-block\",\n                color: \"gray\"\n              }}\n            >\n              <span\n                dangerouslySetInnerHTML={{\n                  __html: i18nTexts?.[\"need_support_text\"]\n                }}\n              />\n            </a>\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  setupWizardSteps: store?.setupWizard?.steps,\n  i18n: store?.setupWizard?.i18n\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      fetchSteps,\n      setupDone\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MigrationSteps);\n"],"sourceRoot":""}