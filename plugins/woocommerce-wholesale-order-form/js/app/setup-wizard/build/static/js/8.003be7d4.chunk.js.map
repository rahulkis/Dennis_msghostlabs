{"version":3,"sources":["helpers/useGeneratedOrderForms.tsx","components/ThirdStep/GenerateOrderForm.tsx"],"names":["useGeneratedOrderForms","generatedOrderForms","setupWizardSteps","index","useState","data","setData","columns","Boolean","setup_wizard_options","migration","title","dataIndex","key","render","text","record","size","href","edit_form","target","rel","view_form","useEffect","length","forEach","item","arr","old","shortcode","new","new_shortcode","default","QuestionCircleOutlined","migrateOldForms","setupWizardActions","connect","store","props","setupWizard","steps","i18n","dispatch","actions","bindActionCreators","fetching","setFetching","dataSource","i18nTexts","setI18nTexts","successCB","response","failCB","console","log","className","style","marginTop","dangerouslySetInnerHTML","__html","pagination","bordered","marginBottom","StarOutlined","color","fontWeight"],"mappings":"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","file":"static/js/8.003be7d4.chunk.js","sourcesContent":["import { Space, Tooltip } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { ISetupWizardOptions } from \"types/index\";\nimport { QuestionCircleOutlined } from \"@ant-design/icons\";\ndeclare var setup_wizard_options: ISetupWizardOptions;\n\nconst useGeneratedOrderForms = (\n  generatedOrderForms: any,\n  setupWizardSteps: any,\n  index: number\n) => {\n  const [data, setData] = useState([]);\n  let columns: any = [];\n\n  // FOR MIGRATION\n  if (Boolean(setup_wizard_options.migration)) {\n    columns = [\n      {\n        title:\n          setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n            \"old_shortcode\"\n          ],\n        dataIndex: \"old\",\n        key: \"old\"\n      },\n      {\n        title:\n          setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n            \"new_shortcode\"\n          ],\n        dataIndex: \"new\",\n        key: \"new\"\n      },\n      {\n        title: setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\"action\"],\n        key: \"action\",\n        render: (text: any, record: any) => (\n          <Space size=\"middle\">\n            <a href={record?.edit_form ?? \"\"} target=\"_blank\" rel=\"noreferrer\">\n              {\n                setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n                  \"edit_form\"\n                ]\n              }\n            </a>\n            <a href={record?.view_form ?? \"\"} target=\"_blank\" rel=\"noreferrer\">\n              {\n                setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n                  \"view_form\"\n                ]\n              }\n            </a>\n          </Space>\n        )\n      }\n    ];\n  } else {\n    // FOR FIRST INSTALLS\n    columns = [\n      {\n        title:\n          setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\"shortcode\"],\n        dataIndex: \"shortcode\",\n        key: \"shortcode\"\n      },\n      {\n        title: setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\"action\"],\n        key: \"action\",\n        render: (text: any, record: any) => (\n          <Space size=\"middle\">\n            <a href={record?.edit_form ?? \"\"} target=\"_blank\" rel=\"noreferrer\">\n              {\n                setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n                  \"edit_form\"\n                ]\n              }\n            </a>\n            <a href={record?.view_form ?? \"\"} target=\"_blank\" rel=\"noreferrer\">\n              {\n                setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n                  \"view_form\"\n                ]\n              }\n            </a>\n          </Space>\n        )\n      }\n    ];\n  }\n\n  useEffect(() => {\n    let data: any = [];\n\n    if (generatedOrderForms.length > 0) {\n      if (Boolean(setup_wizard_options.migration)) {\n        generatedOrderForms.forEach((item: any, key: number, arr: any) => {\n          data = [\n            ...data,\n            {\n              key: key,\n              old: item?.shortcode,\n              new: (\n                <>\n                  {`${item?.new_shortcode} ${\n                    item.default\n                      ? setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n                          \"default\"\n                        ]\n                      : \"\"\n                  }`}\n                  &nbsp;\n                  {item.default ? (\n                    <Tooltip\n                      title={\n                        setupWizardSteps?.[index]?.[\"generated_forms_table\"]?.[\n                          \"tooltip\"\n                        ]\n                      }\n                    >\n                      <QuestionCircleOutlined />\n                    </Tooltip>\n                  ) : (\n                    \"\"\n                  )}\n                </>\n              ),\n              edit_form: item?.edit_form,\n              view_form: item?.view_form\n            }\n          ];\n        });\n      } else {\n        generatedOrderForms.forEach((item: any, key: number, arr: any) => {\n          data = [\n            ...data,\n            {\n              key: key,\n              shortcode: item?.shortcode,\n              edit_form: item?.edit_form,\n              view_form: item?.view_form\n            }\n          ];\n        });\n      }\n    }\n\n    setData(data);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [generatedOrderForms]);\n\n  return [data, columns];\n};\n\nexport default useGeneratedOrderForms;\n","import { Spin, Table } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { setupWizardActions } from \"store/actions\";\nimport { useEffect, useState } from \"react\";\nimport useGeneratedOrderForms from \"helpers/useGeneratedOrderForms\";\nimport { StarOutlined } from \"@ant-design/icons\";\n\nconst { migrateOldForms } = setupWizardActions;\n\nconst GenerateOrderForms = (props: any) => {\n  const { generatedOrderForms, actions, setupWizardSteps, i18n, index } = props;\n  const { migrateOldForms } = actions;\n  const [fetching, setFetching] = useState(true);\n  const [dataSource, columns] = useGeneratedOrderForms(\n    generatedOrderForms,\n    setupWizardSteps,\n    index\n  );\n  const [i18nTexts, setI18nTexts] = useState(i18n);\n\n  useEffect(() => {\n    setI18nTexts(i18n);\n  }, [i18n]);\n\n  useEffect(() => {\n    migrateOldForms({\n      successCB: (response: any) => {\n        setFetching(false);\n      },\n      failCB: () => {\n        console.log(\"Data cannot be fetched!\");\n        setFetching(false);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return fetching ? (\n    <div className=\"loading-spinner\" style={{ marginTop: \"40px\" }}>\n      <Spin /> &nbsp;{setupWizardSteps?.[index]?.[\"generating_forms\"]}\n    </div>\n  ) : (\n    <>\n      <div\n        dangerouslySetInnerHTML={{\n          __html: setupWizardSteps?.[index]?.[\"generated_forms\"]\n        }}\n      />\n      <Table\n        className=\"generated-order-forms\"\n        columns={columns}\n        dataSource={dataSource}\n        pagination={false}\n        bordered\n        style={{ marginBottom: \"10px\" }}\n      />\n      <StarOutlined style={{ color: \"#fec400\" }} />\n      &nbsp;\n      <a href={i18nTexts?.[\"pro_tip_link\"]} target=\"_blank\" rel=\"noreferrer\">\n        <span\n          style={{ fontWeight: 500 }}\n          dangerouslySetInnerHTML={{\n            __html: setupWizardSteps?.[index]?.[\"pro_tip\"]\n          }}\n        />\n      </a>\n    </>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  setupWizardSteps: store.setupWizard.steps,\n  generatedOrderForms: store.setupWizard.generatedOrderForms,\n  i18n: store?.setupWizard?.i18n\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      migrateOldForms\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GenerateOrderForms);\n"],"sourceRoot":""}