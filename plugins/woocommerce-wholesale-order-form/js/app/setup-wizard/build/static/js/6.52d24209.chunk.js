(this["webpackJsonpsetup-wizard"]=this["webpackJsonpsetup-wizard"]||[]).push([[6],{299:function(e,t,n){"use strict";n.r(t);var i=n(146),s=n(297),l=n(176),c=n(292),o=n(0),d=n(179),r=n(300),u=n(52),a=n(13),j=Object(u.b)((function(e,t){return{setupWizardSteps:e.setupWizard.steps}}))((function(e){var t,n,s=e.setupWizardSteps,l=e.index,c=Object(o.useState)([]),u=Object(i.a)(c,2),j=u[0],b=u[1];return Object(o.useEffect)((function(){var e,t;b(null!==(e=null===s||void 0===s||null===(t=s[l])||void 0===t?void 0:t.perks)&&void 0!==e?e:[])}),[s,l]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:null===s||void 0===s||null===(t=s[l])||void 0===t?void 0:t.page_title}),Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:null===s||void 0===s||null===(n=s[l])||void 0===n?void 0:n.content}}),Object(a.jsx)(r.b,{bordered:!0,dataSource:j,renderItem:function(e){return Object(a.jsxs)(r.b.Item,{children:[Object(a.jsx)(d.a,{style:{color:"green"}})," ".concat(e)]})}})]})})),b=n(129),p=n(17),v=n(33),O=v.a.generateAPIKeys,f=Object(o.lazy)((function(){return Promise.all([n.e(5),n.e(7)]).then(n.bind(null,294))})),x=Object(u.b)((function(e,t){return{setupWizardSteps:e.setupWizard.steps}}),(function(e){return{actions:Object(p.b)({generateAPIKeys:O},e)}}))((function(e){var t,n,s,c,d=e.setupWizardSteps,r=e.actions,u=e.index,j=r.generateAPIKeys,p=Object(o.useState)(!1),v=Object(i.a)(p,2),O=v[0],x=v[1],h=Object(o.useState)([]),g=Object(i.a)(h,2),y=g[0],S=g[1];Object(o.useEffect)((function(){var e,t=d.find((function(e){return"step2"===e.id}));"undefined"!==typeof t&&(x(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.is_valid),S(t))}),[d]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:null===d||void 0===d||null===(t=d[u])||void 0===t?void 0:t.page_title}),Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:null===d||void 0===d||null===(n=d[u])||void 0===n?void 0:n.content}}),Object(a.jsxs)("div",{id:"api_keys",style:{display:"flex",justifyContent:"center"},children:[O?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(l.a,{type:"primary",onClick:function(){j()},style:{marginTop:"20px"},children:null===d||void 0===d||null===(s=d[u])||void 0===s?void 0:s.auto_generate}),Object(a.jsx)(o.Suspense,{fallback:Object(a.jsxs)("div",{className:"loading-spinner",style:{marginTop:"40px"},children:[Object(a.jsx)(b.a,{})," \xa0",null===d||void 0===d||null===(c=d[u])||void 0===c?void 0:c.loading]}),children:Object(a.jsx)(f,{displayKeys:O,step2Data:y,setupWizardSteps:d,index:u})})]})]})})),h=Object(o.lazy)((function(){return Promise.all([n.e(4),n.e(8)]).then(n.bind(null,303))})),g=Object(u.b)((function(e,t){return{setupWizardSteps:e.setupWizard.steps}}))((function(e){var t,n,i=e.setupWizardSteps,s=e.index;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:null===i||void 0===i||null===(t=i[s])||void 0===t?void 0:t.page_title}),Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:null===i||void 0===i||null===(n=i[s])||void 0===n?void 0:n.content}}),Object(a.jsx)(h,{index:s})]})})),y=v.a.fetchSteps,S=v.a.setupDone,m=s.a.Step;t.default=Object(u.b)((function(e,t){var n,i;return{setupWizardSteps:null===e||void 0===e||null===(n=e.setupWizard)||void 0===n?void 0:n.steps,i18n:null===e||void 0===e||null===(i=e.setupWizard)||void 0===i?void 0:i.i18n}}),(function(e){return{actions:Object(p.b)({fetchSteps:y,setupDone:S},e)}}))((function(e){var t=e.setupWizardSteps,n=e.i18n,d=e.actions,r=Object(o.useState)(0),u=Object(i.a)(r,2),b=u[0],p=u[1],v=Object(o.useState)(!1),O=Object(i.a)(v,2),f=O[0],h=O[1],y=Object(o.useState)(!1),S=Object(i.a)(y,2),_=S[0],z=S[1],W=Object(o.useState)(n),k=Object(i.a)(W,2),w=k[0],I=k[1],T=Object(o.useState)([]),E=Object(i.a)(T,2),C=E[0],L=E[1];return Object(o.useEffect)((function(){I(n)}),[n]),Object(o.useEffect)((function(){d.fetchSteps()}),[]),Object(o.useEffect)((function(){if(1===b){var e,n=t.find((function(e){return"step2"===e.id}));"undefined"!==typeof n&&h(!(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.is_valid))}}),[b,t]),Object(o.useEffect)((function(){if(t.length>0){var e=[];t.forEach((function(t,n,i){switch(t.id){case"step1":e.push({title:t.title,content:Object(a.jsx)(j,{index:n})});break;case"step2":e.push({title:t.title,content:Object(a.jsx)(x,{index:n})});break;case"step3":e.push({title:t.title,content:Object(a.jsx)(g,{index:n})})}})),L(e)}}),[t]),console.log(null===w||void 0===w?void 0:w.need_support_link),0===C.length?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(s.a,{current:b,children:C.map((function(e){return Object(a.jsx)(m,{title:e.title},e.title)}))}),Object(a.jsxs)("div",{className:"steps-content",children:[Object(a.jsx)("div",{className:"wws-logo",children:Object(a.jsx)("img",{src:null===w||void 0===w?void 0:w.wws_logo,alt:"Wholesale Suite Logo"})}),C[b].content]}),Object(a.jsxs)("div",{className:"steps-action",style:{textAlign:"center",marginTop:"20px"},children:[b<C.length-1&&Object(a.jsx)(l.a,{type:"primary",onClick:function(){p(b+1)},disabled:f,children:null===w||void 0===w?void 0:w.continue}),b===C.length-1&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,{type:"primary",loading:_,onClick:function(){z(!0),d.setupDone({successCB:function(e){c.b.success(null===w||void 0===w?void 0:w.process_complete),setTimeout((function(){var t,n;window.location.replace(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.redirect)}),1500)},failCB:function(e){console.log(e),c.b.error(null===w||void 0===w?void 0:w.fail)}})},children:null===w||void 0===w?void 0:w.done}),Object(a.jsx)("br",{}),Object(a.jsx)("a",{href:null===w||void 0===w?void 0:w.need_support_link,target:"_blank",rel:"noreferrer",style:{marginTop:"100px",display:"inline-block",color:"gray"},children:Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:null===w||void 0===w?void 0:w.need_support_text}})})]})]})]})}))}}]);
//# sourceMappingURL=6.52d24209.chunk.js.map