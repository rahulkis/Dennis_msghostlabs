{"version":3,"sources":["types/OrderFormTypes.ts","helpers/dragDropItems.ts","store/actions/orderFormActions.ts","types/OrderFormDataTypes.ts","store/actions/orderFormDataActions.ts","types/ProductListTypes.ts","store/actions/productListActions.ts","types/i18nTypes.ts","store/actions/i18nActions.ts","helpers/useFormTableData.tsx","components/FormHeaderFooter/Elements/SearchInput.tsx","helpers/hierarchicalCategories.ts","components/FormHeaderFooter/Elements/CategoryFilter.tsx","components/FormHeaderFooter/Elements/OrderFormPagination.tsx","components/FormHeaderFooter/Elements/SearchButton.tsx","helpers/getProductMinQtyAndStep.ts","components/FormHeaderFooter/Elements/AddSelectedProductsToCartButton.tsx","components/FormHeaderFooter/Elements/CartSubtotal.tsx","components/FormHeaderFooter/Elements/ProductCount.tsx","components/FormHeaderFooter/PrintItem.tsx","components/FormHeaderFooter/DisplayItems.tsx","helpers/readableStyles.ts","helpers/getPropValue.ts","components/FormHeaderFooter/index.tsx","helpers/addProductToCart.tsx","components/FormTable/Elements/shared/ComboVariationsDropdown.tsx","components/FormTable/Elements/shared/StandardVariationsDropdown.tsx","components/FormTable/Elements/shared/DisplayVariationDropdown.tsx","components/FormTable/Elements/AddToCartButton.tsx","components/FormTable/Elements/AddToCartCheckbox.tsx","helpers/quantityRestrictionPopover.ts","components/FormTable/Elements/QuantityInput.tsx","components/FormTable/Elements/ShortDescription.tsx","components/FormTable/Elements/shared/DisplayQuantityBasedTable.tsx","components/FormTable/Elements/Price.tsx","components/FormTable/Elements/ProductImage.tsx","components/FormTable/Elements/StockAmount.tsx","components/FormTable/Elements/InStockAmount.tsx","components/FormTable/Elements/ProductSku.tsx","helpers/htmlDecode.ts","components/FormTable/Elements/shared/VariationAttributes.tsx","components/FormTable/Elements/ProductName.tsx","components/FormTable/Elements/VariationDropdown.tsx","components/FormTable/Elements/ProductMeta.tsx","components/FormTable/PrintItem.tsx","components/FormTable/ResponsiveTable/TableHeader.tsx","components/FormTable/ResponsiveTable/TableBody.tsx","components/FormTable/ResponsiveTable/SortableColumns.tsx","components/FormTable/ResponsiveTable/TableSkeleton.tsx","components/FormTable/ResponsiveTable/SelectAll.tsx","components/FormTable/ResponsiveTable/index.tsx","helpers/useWindowDimensions.tsx","components/FormTable/Elements/ProductModal/DisplayVariations.tsx","components/FormTable/Elements/ProductModal/AddToCart.tsx","components/FormTable/Elements/ProductModal/Categories.tsx","components/FormTable/Elements/ProductModal/ProductImages.tsx","components/FormTable/Elements/ProductModal/index.tsx","helpers/generateId.ts","components/FormTable/index.tsx","LoadingSkeleton.tsx","App.tsx","store/reducers/orderFormReducer.ts","store/reducers/orderFormDataReducer.ts","store/reducers/i18nReducer.ts","store/reducers/index.ts","helpers/axios.ts","store/sagas/orderFormSaga.ts","helpers/removePaginationComponent.ts","helpers/getComponentSettings.ts","store/sagas/orderFormDataSaga.ts","store/sagas/productListSaga.ts","store/sagas/i18nSaga.ts","store/sagas/index.ts","store/index.ts","index.tsx"],"names":["EOrderFormActionTypes","dragAndDropItems","items","id","content","EOrderFormDataActionTypes","orderFormActions","payload","type","FETCH_PRODUCTS","FETCH_VARIATIONS","FETCH_CATEGORIES","SET_CATEGORIES","SET_APP_STATE","LOAD_MORE_VARIATIONS","LAZY_LOAD_PRODUCTS","LAZY_LOAD_VARIATIONS","SET_SHOW_MODAL","GET_VARIATION_WHOLESALE_DATA","GET_VARIATIONS_WHOLESALE_DATA","EProductListActionTypes","orderFormDataActions","FETCH_ORDER_FORM_DATA","SET_ORDER_FORM_DATA","SET_ORDER_FORM_PRODUCTS","SET_ORDER_FORM_PAGINATION","SET_PAGE_SELECTED_ALL","SET_ORDER_FORM_FILTERS","SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART","UPDATE_ORDER_FORM_SELECTED_PRODUCTS","SET_ORDER_FORM_CART_SUBTOTAL","SET_ORDER_FORM_TABLE_SORTER","GET_MIN_ORDER_REQ_NOTICE","SET_MIN_ORDER_REQ_NOTICE","SET_VARIATION_WHOLESALE_DATA","SET_VARIATIONS_WHOLESALE_DATA","EOrderFormI18nActionTypes","productListActions","ADD_PRODUCT_TO_CART","ADD_PRODUCTS_TO_CART","i18nActions","FETCH_STRINGS","SET_STRINGS","useFormTableData","props","orderFormData","orderFormId","useState","fetching","setFetching","undefined","fetchingVariations","setFetchingVariations","formProducts","setFormProducts","formVariations","setFormVariations","formLazyLoadVariationsData","setFormLazyLoadVariationsData","formStyles","setFormStyles","formTable","setFormTable","formSettings","setFormSettings","useEffect","variations","products","styles","table","settings","lazy_load_variations_data","setFormFilters","connect","store","filter","searchInputStrings","i18n","frontend","search_input","dispatch","actions","bindActionCreators","getPropValue","properties","fetchProducts","submitOnEnter","allowSkuSearch","searchInput","setSearchInput","placeholder","prop","size","style","width","onChange","e","target","value","onPressEnter","preventDefault","selectedCategory","formFilters","search","category","active_page","searching","allow_sku_search","onTextEnter","disabled","getHierarchicalCategories","categories","parent","hierarchy","terms","term","htmlDecode","input","DOMParser","parseFromString","documentElement","textContent","forEach","children","term_id","parentTerm","cat","push","title","name","slug","Option","Select","SHOW_PARENT","TreeSelect","orderForm","categoryFilterStrings","category_filter","submitOnChange","defaultCategory","includedCategories","excludedCategories","dropdownData","setdropdownData","categoryDataList","setCategoryDataList","selected_category","selectedValue","setSelectedValue","filteredCategory","length","val","includes","treeData","catObj","concat","catData","Object","keys","categoryComponentLoaded","categoryName","console","log","allOptions","map","index","find","showSearch","allowClear","onClear","className","treeDefaultExpandAll","showCheckedStrategy","pagination","activePage","formPagination","totalProducts","parseInt","total_products","productsPerPage","per_page","current","total","pageSize","elements","document","getElementsByClassName","scrollIntoView","behavior","inline","sort_by","formTableSorter","sort_order","uid","WWOF_Frontend_Options","showSizeChanger","searchButtonStrings","search_button","showClearButton","buttonColor","searchButtonElementStyle","background","color","border","whiteSpace","onClick","onFormSubmit","search_btn","show_all","showAll","clear_btn","getProductMinQtyAndStep","productType","wholesaleData","variationData","variationID","minOrderQty","orderQtyStep","wholesale_minimum_order_quantity","wholesale_role","parseFloat","wholesale_order_quantity_step","qty","variable_level_wholesale_minimum_order_quantity","variable_level_wholesale_order_quantity_step","addProductsToCartAction","setCartSubtotal","setSelectedProductsToAddToCart","setPageSelectedAll","addSelectedProductsToCartButtonStrings","add_selected_products_to_cart_button","selectedInstockProducts","setSelectedInstockProducts","buttonText","button_text","addSelectedToCartElementStyle","formSelectedProducts","updatedList","pid","product","stockStatus","selected","addToCartNotification","notificationDuration","selectedProducts","selectedProductsClone","assign","selectedVariableProducts","qtyRestrictionErr","failedToAddProducts","quantityRestriction","item","propValue","getOption","quantity","multiplier","nearestLow","nearestHigh","excessQty","error_message","zero_qty_error","product_id","minimum_error","step_error","and","no_variations_selected","form_settings","successCB","args","added","successfully_added","data","productId","variationName","dangerouslySetInnerHTML","__html","productTitle","test","failed","failed_to_add","reverse","notification","message","description","bordered","dataSource","renderItem","Item","href","cartURL","marginTop","ShoppingCartOutlined","duration","add_to_cart_failed","jQuery","fragments","cart_hash","trigger","cartSubtotal","cart_subtotal_markup","selectedAll","entries","failCB","addToCartSelectedProducts","cartSubtotalStrings","cart_subtotal","formCartSubtotal","emptyCartText","empty_cart","productCountStrings","product_count","productCount","PrintItem","displayItem","DisplayItems","React","memo","dataRows","readableStyles","row","rowId","rowStyles","columns","col","colId","colStyles","readableColStyles","indexOf","textAlignValue","textAlignCSS","textAlign","itemKey","printItemProps","stylesCopy","fetchVariations","getVariationsWholesaleData","FormHeaderFooter","section","formHeader","formFooter","sectionStyles","showHeader","showFooter","sectionStyle","display","marginBottom","margin","position","attributes","response","show_variations_individually","addProductToCart","addProductToCartStrings","addToCartBtnRef","select_variation","min_qty_error","view_cart","empty_error","cannot_add_to_cart","selectedProduct","wholesaleMinOrderQty","wholesale_data","option","valid","addProductToCartAction","product_type","variation_id","join","loadMoreVariations","comboStrings","combo","setSelectedVariation","selectProps","setSelectProps","variationOptions","setVariationOptions","loading","totalVariations","total_variations","options","variation","i","totalAttr","attribute","key","defaultVariationID","filterOption","notFoundContent","no_results","variationId","stock_status","productID","variationSelected","formSelectedProductsCopy","onVariationChange","loading_text","standardStrings","standard","variationChanged","setVariationChanged","dropdownDefaults","setDropdownDefaults","variationDataList","setVariationDataList","selectedAtts","setSelectedAtts","avaiableAttributes","selections","JSON","parse","stringify","foundAttributes","variationDataCopy","attributeCheck","atts","matchCounter","attr","attrName","toLowerCase","attrValue","j","arr","foundAtts","choices","data2","searchVariation","findVariationID","label","htmlFor","clone","variationChange","DisplayVariationDropdown","variationSelector","addToCartButtonStrings","add_to_cart_button","add_product_to_cart","itemId","useStyleValue","setStockStatus","backorders","setBackorders","useRef","formProductsVariations","alignment","fontSize","alignmentCSS","addToCartElementStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","disabledProp","displayVariationDropdown","flexDirection","alignItems","ref","updateSelectedProducts","somethingChanged","setSelected","checked","minWidth","quantityRestrictionPopover","qtyRestrictionStrings","visible","quantity_of","is_invalid","increments_of","two_nearest_values","error","not_within_range","showModal","quantityInputStrings","quantity_input","quantity_restriction_popover","setQuantity","quantityStep","setQuantityStep","setMinQuantity","popoverVisibility","setPopoverVisibility","popoverContent","setPopoverContent","outOfStockText","out_of_stock","decimalQuantity","setQuantities","onQuantityChange","a","popover","inputQuantity","Math","round","err","close_popover","quantity_restriction","min","step","defaultValue","short_description","productDescription","setProductDescription","Array","isArray","maxCharacters","limiter","substr","setQtyTableDataSource","mapping_data","end_qty","start_qty","price","calculated_price","displayQtyBasedTableStrings","display_qty_based_table","showQuantityBasedTable","setDescription","setDataSource","qtyDiscountRule","wwpp_enable_quantity_discount_rule","qtyDiscountMapping","wwpp_quantity_discount_rule_mapping","mapping","desc","qtyDiscountRuleMapping","dataIndex","scroll","popover_title","tooltip","QuestionCircleOutlined","getVariationWholesaleData","setVariationID","setVariationSelected","price_html","priceHtml","setPriceHtml","setLoading","vid","setShowModal","product_image_placeholder","url","setUrl","images","image","site_url","split","imageSize","height","onClickAction","openInNewTab","permalink","modalProps","src","shape","StockAmount","stockAmount","stockFormat","i18nLowStock","i18nInStock","wcLowStockAmount","low_stock_amount","MehOutlined","replace","SmileOutlined","inStockAmountStrings","in_stock_amount","stock_quantity","stockQuantity","setStockQuantity","FrownOutlined","backorder","woocommerce_stock_format","in_stock","low_amount","woocommerce_notify_low_stock_amount","sku","productSku","setProductSku","VariationAttributes","attributeNames","productName","setProductName","padding","fontWeight","DisplayMetaData","metaKeys","md","indexes","meta_data","md2","meta_key","productMeta","setProductMeta","selectedVariation","itemProps","AddToCartCheckbox","tableBodyStrings","table_column_headers","pageHasVariations","itemIds","tableRows","column","smartVisibility","setModalProps","tableColumns","setTableColumns","tableColumnheadersStrings","sortableColumnStrings","responsive_table","sortable_column","setTableSorter","sortBy","setSortBy","sortOrder","setSortOrder","sortableColumns","setSortableColumns","sortOptions","setSortOptions","columnsToSort","sortable","asc","TableSkeleton","tbody","n","active","paragraph","rows","Avatar","Button","gap","Input","responsiveTableStrings","setSelectedAll","setSomethingChanged","select_all","ResponsiveTable","getWindowDimensions","window","innerWidth","innerHeight","DisplayVariations","sharedProps","productModalStrings","product_modal","add_to_cart","selectedProductVariationID","formProductVariations","vdata","close","add_to_cart_text","categoriesStrings","tags","cursor","location","category_base","ProductImages","imageUrl","gallery","original","thumbnail","originalAlt","thumbnailAlt","showNav","showThumbnails","useTranslate3D","showBullets","showIndex","autoPlay","slideInterval","preview","Display","orderFormIdOrigin","unavailable","setImageUrl","shortDescription","setShortDescription","extraProps","onCancel","footer","generateId","result","characters","charactersLength","charAt","floor","random","lazyLoadProducts","lazyLoadVariations","formTableStrings","formTableSortText","formTableText","form_table","currentPage","setCurrentPage","setPageHasVariations","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","loadMore","setLoadMore","fetchingLazyLoadedVariations","setFetchingLazyLoadedVariations","orderFormTableWrapper","createRef","loadMoreWidth","setLoadMoreWidth","isLazyLoadEnabled","setIsLazyLoadEnabled","widthType","setWidthType","tableCSS","setTableCSS","tableProps","setTableProps","lazyLoading","clientWidth","handleScroll","useCallback","tableWrapper","querySelector","lastRow","getBoundingClientRect","top","bottom","totalPage","total_page","perPage","getAttribute","setAttribute","filtered_categories","productsData","align","sorter","tProps","x","css","flexGrow","filters","field","order","handleSorting","locale","triggerDesc","triggerAsc","cancelSort","tip","LoadingSkeleton","span","fetchCategories","fetchOrderFormData","getMinOrderReqNotice","fetchStrings","ShowMinimumRequirementNotice","postId","formMinOrderReqNotice","showIcon","OrderFormTitle","frontendStrings","formTitle","hideFormTitle","hide_form_title","post_status","app","draft_tooltip","InfoCircleOutlined","marginLeft","pre_selected_variations","variableProducts","variationList","attributeData","defaultTotal","default_attributes","match","showMinReqNotice","wwpp_active","defaults","show_search","reducers","combineReducers","state","action","cart_url","formId","updatedVariations","fetching_variations_wholesale_data","formId2","updatedVariations2","d","k","headers","nonce","axios","create","baseURL","root","timeout","put","qs","require","call","axiosInstance","post","ajax","page","aelia_selected_currency","wc_aelia_currency_switcher_params","selected_currency","status","variable","get","params","current_page","defaultSelectedVariations","actionListener","takeEvery","removePaginationComponent","lazy_loading","removePagination","filtered","el","getComponentSettings","variation_selector_style","meta","editor_area","updatedSelectedProducts","addProductsToCart","rootSaga","all","productList","i18nSaga","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","run","querySelectorAll","domContainer","ReactDOM","render","direction","is_rtl"],"mappings":"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","file":"static/js/main.227f5543.chunk.js","sourcesContent":["export enum EOrderFormActionTypes {\n  FETCH_PRODUCTS = \"FETCH_PRODUCTS\",\n  FETCH_VARIATIONS = \"FETCH_VARIATIONS\",\n  FETCH_CATEGORIES = \"FETCH_CATEGORIES\",\n  SET_APP_STATE = \"SET_APP_STATE\",\n  SET_CATEGORIES = \"SET_CATEGORIES\",\n  LOAD_MORE_VARIATIONS = \"LOAD_MORE_VARIATIONS\",\n  LAZY_LOAD_PRODUCTS = \"LAZY_LOAD_PRODUCTS\",\n  LAZY_LOAD_VARIATIONS = \"LAZY_LOAD_VARIATIONS\",\n  SET_SHOW_MODAL = \"SET_SHOW_MODAL\",\n  GET_VARIATION_WHOLESALE_DATA = \"GET_VARIATION_WHOLESALE_DATA\",\n  SET_VARIATION_WHOLESALE_DATA = \"SET_VARIATION_WHOLESALE_DATA\",\n  GET_VARIATIONS_WHOLESALE_DATA = \"GET_VARIATIONS_WHOLESALE_DATA\",\n  SET_VARIATIONS_WHOLESALE_DATA = \"SET_VARIATIONS_WHOLESALE_DATA\"\n}\n\nexport interface IOrderFormAction {\n  categories: any[];\n  cartURL: string;\n  showModal: boolean;\n  modalProps: {\n    orderFormId: number;\n    onClickAction: string;\n    product: object[];\n  };\n  attributes: {\n    show_search: string;\n    products: any[];\n    categories: any[];\n  };\n}\n","export const dragAndDropItems = {\n    items: {\n        // Header/Footer Elements\n        'search-input': { id: 'search-input', content: 'Search Input' },\n        'category-filter': { id: 'category-filter', content: 'Category Filter' },\n        'add-selected-to-cart-button': { id: 'add-selected-to-cart-button', content: 'Add Selected To Cart Button' },\n        'cart-subtotal': { id: 'cart-subtotal', content: 'Cart Subtotal' },\n        'product-count': { id: 'product-count', content: 'Product Count' },\n        'pagination': { id: 'pagination', content: 'Pagination' },\n        'attribute-filter': { id: 'attribute-filter', content: 'Attribute Filter' },\n        'search-button': { id: 'search-button', content: 'Search Button' },\n        'clear-filters': { id: 'clear-filters', content: 'Clear Filters' },\n        // Table Elements\n        'product-image': { id: 'product-image', content: 'Product Image' },\n        'product-name': { id: 'product-name', content: 'Product Name' },\n        'sku': { id: 'sku', content: 'SKU' },\n        'in-stock-amount': { id: 'in-stock-amount', content: 'In Stock Amount' },\n        'price': { id: 'price', content: 'Price' },\n        'quantity-input': { id: 'quantity-input', content: 'Quantity Input' },\n        'add-to-cart-button': { id: 'add-to-cart-button', content: 'Add To Cart Button' },\n        'combo-variation-selector': { id: 'combo-variation-selector', content: 'Combo Variation Selector' },\n        'standard-variation-dropdowns': { id: 'standard-variation-dropdowns', content: 'Standard Variation Dropdowns' },\n        'product-meta': { id: 'product-meta', content: 'Product Meta' },\n        'global-attribute': { id: 'global-attribute', content: 'Global Attribute' },\n        'short-description': { id: 'short-description', content: 'Short Description' },\n        'add-to-cart-checkbox': { id: 'add-to-cart-checkbox', content: 'Add To Cart Checkbox' },\n        // WooCommerce Widgets\n        'cart-widget': { id: 'cart-widget', content: 'Cart Widget' },\n        'filter-products-by-attribute': { id: 'filter-products-by-attribute', content: 'Filter Products by Attribute' },\n        'filter-products-by-price': { id: 'filter-products-by-price', content: 'Filter Products by Price' },\n    },\n    // formElements: {\n    //     headerElements: {\n    //         title: 'HEADER/FOOTER ELEMENTS',\n    //         desc: '',\n    //         itemIds: ['search-input', 'category-filter', 'add-selected-to-cart-button', 'cart-subtotal', 'product-count', 'pagination', 'attribute-filter', 'search-button', 'clear-filters']\n    //     },\n    //     tableElements: {\n    //         title: 'TABLE ELEMENTS',\n    //         desc: '',\n    //         itemIds: ['product-image', 'product-name', 'sku', 'in-stock-amount', 'price', 'quantity-input', 'add-to-cart-button', 'combo-variation-selector', 'standard-variation-dropdowns', 'product-meta', 'global-attribute', 'short-description', 'add-to-cart-checkbox']\n    //     },\n    //     wooWidgets: {\n    //         title: 'WooCommerce Widgets',\n    //         desc: 'Click and drag compatible WooCommerce widgets into the header/footer.',\n    //         itemIds: ['cart-widget', 'filter-products-by-attribute', 'filter-products-by-price']\n    //     }\n    // },\n    // editorArea: {\n    //     formHeader: {\n    //         title: 'ORDER FORM HEADER',\n    //         rows: []\n    //     },\n    //     formTable: {\n    //         title: 'ORDER FORM TABLE',\n    //         itemIds: []\n    //     },\n    //     formFooter: {\n    //         title: 'ORDER FORM FOOTER',\n    //         rows: []\n    //     }\n    // }\n};","import { EOrderFormActionTypes } from \"types/OrderFormTypes\";\n\nexport const orderFormActions = {\n  fetchProducts: (payload: any) => ({\n    type: EOrderFormActionTypes.FETCH_PRODUCTS,\n    payload\n  }),\n  fetchVariations: (payload: any) => ({\n    type: EOrderFormActionTypes.FETCH_VARIATIONS,\n    payload\n  }),\n  fetchCategories: (payload: any) => ({\n    type: EOrderFormActionTypes.FETCH_CATEGORIES,\n    payload\n  }),\n  setCategories: (payload: any) => ({\n    type: EOrderFormActionTypes.SET_CATEGORIES,\n    payload\n  }),\n  setAppState: (payload: any) => ({\n    type: EOrderFormActionTypes.SET_APP_STATE,\n    payload\n  }),\n  loadMoreVariations: (payload: any) => ({\n    type: EOrderFormActionTypes.LOAD_MORE_VARIATIONS,\n    payload\n  }),\n  lazyLoadProducts: (payload: any) => ({\n    type: EOrderFormActionTypes.LAZY_LOAD_PRODUCTS,\n    payload\n  }),\n  lazyLoadVariations: (payload: any) => ({\n    type: EOrderFormActionTypes.LAZY_LOAD_VARIATIONS,\n    payload\n  }),\n  setShowModal: (payload: any) => ({\n    type: EOrderFormActionTypes.SET_SHOW_MODAL,\n    payload\n  }),\n  getVariationWholesaleData: (payload: any) => ({\n    type: EOrderFormActionTypes.GET_VARIATION_WHOLESALE_DATA,\n    payload\n  }),\n  getVariationsWholesaleData: (payload: any) => ({\n    type: EOrderFormActionTypes.GET_VARIATIONS_WHOLESALE_DATA,\n    payload\n  })\n};\n","export enum EOrderFormDataActionTypes {\n  FETCH_ORDER_FORM_DATA = \"FETCH_ORDER_FORM_DATA\",\n  SET_ORDER_FORM_DATA = \"SET_ORDER_FORM_DATA\",\n  SET_ORDER_FORM_PRODUCTS = \"SET_ORDER_FORM_PRODUCTS\",\n  SET_ORDER_FORM_PAGINATION = \"SET_ORDER_FORM_PAGINATION\",\n  SET_PAGE_SELECTED_ALL = \"SET_PAGE_SELECTED_ALL\",\n  SET_ORDER_FORM_FILTERS = \"SET_ORDER_FORM_FILTERS\",\n  SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART = \"SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART\",\n  UPDATE_ORDER_FORM_SELECTED_PRODUCTS = \"UPDATE_ORDER_FORM_SELECTED_PRODUCTS\",\n  SET_ORDER_FORM_CART_SUBTOTAL = \"SET_ORDER_FORM_CART_SUBTOTAL\",\n  SET_ORDER_FORM_TABLE_SORTER = \"SET_ORDER_FORM_TABLE_SORTER\",\n  GET_MIN_ORDER_REQ_NOTICE = \"GET_MIN_ORDER_REQ_NOTICE\",\n  SET_MIN_ORDER_REQ_NOTICE = \"SET_MIN_ORDER_REQ_NOTICE\"\n}\n\nexport interface IOrderFormData {\n  formTitle: boolean[];\n  formFooter: any[];\n  formHeader: any[];\n  formTable: any[];\n  formStyles: any[];\n  formSettings: any[];\n  formProducts: any[];\n  formPagination: any[];\n  formFilters: any[];\n  formSelectedProducts: any[];\n  formCartSubtotal: any[];\n  formTableSorter: any[];\n  formMinOrderReqNotice: any[];\n}\n","import { EOrderFormDataActionTypes } from \"types/OrderFormDataTypes\";\nimport { EOrderFormActionTypes } from \"types/OrderFormTypes\";\n\nexport const orderFormDataActions = {\n  fetchOrderFormData: (payload: any) => ({\n    type: EOrderFormDataActionTypes.FETCH_ORDER_FORM_DATA,\n    payload\n  }),\n  setOrderFormData: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_ORDER_FORM_DATA,\n    payload\n  }),\n  setOrderFormProducts: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_ORDER_FORM_PRODUCTS,\n    payload\n  }),\n  setOrderFormPagination: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_ORDER_FORM_PAGINATION,\n    payload\n  }),\n  setPageSelectedAll: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_PAGE_SELECTED_ALL,\n    payload\n  }),\n  setFormFilters: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_ORDER_FORM_FILTERS,\n    payload\n  }),\n  setSelectedProductsToAddToCart: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART,\n    payload\n  }),\n  updateSelectedProducts: (payload: any) => ({\n    type: EOrderFormDataActionTypes.UPDATE_ORDER_FORM_SELECTED_PRODUCTS,\n    payload\n  }),\n  setCartSubtotal: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_ORDER_FORM_CART_SUBTOTAL,\n    payload\n  }),\n  setTableSorter: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_ORDER_FORM_TABLE_SORTER,\n    payload\n  }),\n  getMinOrderReqNotice: (payload: any) => ({\n    type: EOrderFormDataActionTypes.GET_MIN_ORDER_REQ_NOTICE,\n    payload\n  }),\n  setMinOrderReqNotice: (payload: any) => ({\n    type: EOrderFormDataActionTypes.SET_MIN_ORDER_REQ_NOTICE,\n    payload\n  }),\n  setVariationWholesaleData: (payload: any) => ({\n    type: EOrderFormActionTypes.SET_VARIATION_WHOLESALE_DATA,\n    payload\n  }),\n  setVariationsWholesaleData: (payload: any) => ({\n    type: EOrderFormActionTypes.SET_VARIATIONS_WHOLESALE_DATA,\n    payload\n  })\n};\n","export enum EProductListActionTypes {\n  SET_PRODUCT_LIST_COLUMNS = \"SET_PRODUCT_LIST_COLUMNS\",\n  SET_PRODUCT_QUANTITY = \"SET_PRODUCT_QUANTITY\",\n  SET_SELECTED_PRODUCTS = \"SET_SELECTED_PRODUCTS\",\n  SET_SELECTED_VARIATIONS = \"SET_SELECTED_VARIATIONS\",\n  ADD_PRODUCT_TO_CART = \"ADD_PRODUCT_TO_CART\",\n  ADD_PRODUCTS_TO_CART = \"ADD_PRODUCTS_TO_CART\",\n}\n","import { EProductListActionTypes } from \"types/ProductListTypes\";\n\nexport const productListActions = {\n  setProductListColumns: (payload: any) => ({\n    type: EProductListActionTypes.SET_PRODUCT_LIST_COLUMNS,\n    payload,\n  }),\n  setProductQuantity: (payload: any) => ({\n    type: EProductListActionTypes.SET_PRODUCT_QUANTITY,\n    payload,\n  }),\n  setSelectedProducts: (payload: any) => ({\n    type: EProductListActionTypes.SET_SELECTED_PRODUCTS,\n    payload,\n  }),\n  setSelectedVariations: (payload: any) => ({\n    type: EProductListActionTypes.SET_SELECTED_VARIATIONS,\n    payload,\n  }),\n  addProductToCartAction: (payload: any) => ({\n    type: EProductListActionTypes.ADD_PRODUCT_TO_CART,\n    payload,\n  }),\n  addProductsToCartAction: (payload: any) => ({\n    type: EProductListActionTypes.ADD_PRODUCTS_TO_CART,\n    payload,\n  }),\n};\n","// ORDER FORM\nexport enum EOrderFormI18nActionTypes {\n  FETCH_STRINGS = \"FETCH_STRINGS\",\n  SET_STRINGS = \"SET_STRINGS\",\n}\n\nexport interface II18n {\n  frontend: string[];\n}\n","import { EOrderFormI18nActionTypes } from \"types/index\";\n\nexport const i18nActions = {\n  fetchStrings: (payload: any) => ({\n    type: EOrderFormI18nActionTypes.FETCH_STRINGS,\n    payload,\n  }),\n  setStrings: (payload: any) => ({\n    type: EOrderFormI18nActionTypes.SET_STRINGS,\n    payload,\n  }),\n};\n","import { useEffect, useState } from \"react\";\n\nexport default function useFormTableData(props: any) {\n  const { orderFormData, orderFormId } = props;\n\n  const [fetching, setFetching] = useState(false);\n  const [fetchingVariations, setFetchingVariations] = useState(undefined);\n  const [formProducts, setFormProducts] = useState([]);\n  const [formVariations, setFormVariations] = useState([]);\n  const [formLazyLoadVariationsData, setFormLazyLoadVariationsData] = useState(\n    []\n  );\n  const [formStyles, setFormStyles] = useState([]);\n  const [formTable, setFormTable] = useState([]);\n  const [formSettings, setFormSettings] = useState([]);\n\n  useEffect(() => {\n    const products = orderFormData?.formProducts?.[orderFormId];\n    const styles = orderFormData?.formStyles?.[orderFormId];\n    const table = orderFormData?.formTable?.[orderFormId];\n    const settings = orderFormData?.formSettings?.[orderFormId];\n    if (\n      typeof orderFormData?.formProducts?.[orderFormId]?.variations !==\n      \"undefined\"\n    )\n      setFormVariations(orderFormData?.formProducts?.[orderFormId]?.variations);\n  }, [orderFormData?.formProducts?.[orderFormId]?.variations]);\n\n  useEffect(() => {\n    if (\n      typeof orderFormData?.formProducts?.[orderFormId]?.fetchingVariations !==\n      \"undefined\"\n    )\n      setFetchingVariations(\n        orderFormData?.formProducts?.[orderFormId]?.fetchingVariations\n      );\n  }, [orderFormData?.formProducts?.[orderFormId]?.fetchingVariations]);\n\n  useEffect(() => {\n    const products = orderFormData?.formProducts?.[orderFormId];\n    const styles = orderFormData?.formStyles?.[orderFormId];\n    const table = orderFormData?.formTable?.[orderFormId];\n    const settings = orderFormData?.formSettings?.[orderFormId];\n    if (\n      typeof products !== \"undefined\" &&\n      typeof products?.fetching !== \"undefined\"\n    )\n      setFetching(products?.fetching);\n\n    if (\n      typeof products !== \"undefined\" &&\n      typeof products?.products !== \"undefined\"\n    )\n      setFormProducts(products?.products);\n\n    if (\n      typeof products !== \"undefined\" &&\n      typeof products?.lazy_load_variations_data !== \"undefined\"\n    )\n      setFormLazyLoadVariationsData(products?.lazy_load_variations_data);\n\n    if (typeof styles !== \"undefined\") setFormStyles(styles);\n\n    if (typeof table !== \"undefined\") setFormTable(table);\n\n    if (typeof settings !== \"undefined\") setFormSettings(settings);\n  }, [orderFormData, orderFormId]);\n\n  return {\n    fetching,\n    fetchingVariations,\n    formProducts,\n    formVariations,\n    formLazyLoadVariationsData,\n    formStyles,\n    formTable,\n    formSettings\n  };\n}\n","import { ChangeEvent, useEffect, useState } from \"react\";\nimport { Input } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormDataActions } from \"store/actions\";\nimport useFormTableData from \"helpers/useFormTableData\";\n\nconst { setFormFilters } = orderFormDataActions;\n\nconst SearchInput = (props: any) => {\n  const {\n    getPropValue,\n    properties,\n    orderFormId,\n    styles,\n    fetchProducts,\n    submitOnEnter,\n    allowSkuSearch,\n    orderFormData,\n    actions,\n    searchInputStrings\n  } = props;\n\n  const { fetching, fetchingVariations } = useFormTableData({\n    orderFormData,\n    orderFormId\n  });\n\n  const { setFormFilters } = actions;\n\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n\n  const placeholder =\n    getPropValue({ properties, prop: \"placeholder\" }) ??\n    searchInputStrings?.placeholder;\n\n  useEffect(() => {\n    setFormFilters({\n      [orderFormId]: {\n        ...orderFormData[\"formFilters\"][orderFormId],\n        allowSkuSearch\n      }\n    });\n  }, [allowSkuSearch]);\n\n  useEffect(() => {\n    const searchInput =\n      orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"searchInput\"] ?? \"\";\n\n    setSearchInput(searchInput);\n  }, [orderFormData[\"formFilters\"][orderFormId]]);\n\n  const onTextEnter = (e: any) => {\n    e.preventDefault();\n\n    const selectedCategory =\n      orderFormData?.formFilters?.[orderFormId]?.selectedCategory ?? \"\";\n\n    if (submitOnEnter) {\n      fetchProducts({\n        orderFormData,\n        search: e.target.value,\n        category: selectedCategory,\n        active_page: 1,\n        searching: \"yes\",\n        allow_sku_search: allowSkuSearch\n      });\n    }\n  };\n\n  return (\n    <>\n      <Input\n        size=\"large\"\n        placeholder={placeholder}\n        style={{ width: \"250px\", ...styles }}\n        onChange={(e: ChangeEvent<HTMLInputElement>) => {\n          setSearchInput(e.target.value);\n          setFormFilters({\n            [orderFormId]: {\n              ...orderFormData[\"formFilters\"][orderFormId],\n              searchInput: e.target.value\n            }\n          });\n        }}\n        value={searchInput}\n        onPressEnter={(e) => onTextEnter(e)}\n        disabled={fetching || fetchingVariations ? true : false}\n      />\n    </>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderFormData: store.orderFormData,\n  filter: store.filter,\n  searchInputStrings: store.i18n.frontend.search_input\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      setFormFilters\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchInput);\n","export interface ICategory {\n  term_id: number,\n  name: string,\n  slug: string,\n  taxonomy: string,\n  description: string,\n  term_group: number,\n  term_taxonomy_id: number,\n  parent: number,\n  count: number,\n  filter: string,\n}\n\nexport interface IHierarchyObject {\n  title: string,\n  value: string,\n  children: IHierarchyObject[],\n}\n\n/**\n * Build hierarchical categories list\n *\n * @param {ICategory[]} categories Categories list returned by WordPress API\n * @param {number} parent The category parent ID\n */\nconst getHierarchicalCategories = (categories: ICategory[], parent = 0): IHierarchyObject[] => {\n\n  let hierarchy: IHierarchyObject[] = []\n\n  const terms = categories.filter(term => parent === term.parent)\n\n  let htmlDecode = (input: string): string | null => {\n    const doc = new DOMParser().parseFromString(input, 'text/html')\n\n    return doc.documentElement.textContent\n  }\n\n  terms.forEach(term => {\n    const children = getHierarchicalCategories(categories, term.term_id)\n\n    let parentTerm = categories.filter(cat => cat.term_id === term.parent)[0] ?? null\n    while (parentTerm && 0 !== parentTerm.parent) {\n      parentTerm = categories.filter(cat => cat.term_id === parentTerm.parent)[0] ?? null\n    }\n    hierarchy.push({ title: htmlDecode(term.name) ?? `${term.term_id}`, value: term.slug, children })\n  })\n\n  return hierarchy\n}\n\nexport default getHierarchicalCategories\n","import { useState, useEffect } from 'react'\nimport { TreeSelect, Select } from 'antd'\nimport { bindActionCreators, Dispatch } from 'redux'\nimport { connect } from 'react-redux'\n\n// Actions\nimport { orderFormDataActions } from 'store/actions'\n\n// helper\nimport useFormTableData from 'helpers/useFormTableData'\nimport getHierarchicalCategories, { ICategory } from 'helpers/hierarchicalCategories'\n\nconst { Option } = Select\nconst { SHOW_PARENT } = TreeSelect\n\nconst { setFormFilters } = orderFormDataActions\n\nconst CategoryFilter = (props: any) => {\n  const {\n    getPropValue,\n    properties,\n    orderFormId,\n    fetchProducts,\n    submitOnChange,\n    defaultCategory,\n    includedCategories,\n    excludedCategories,\n    orderForm,\n    orderFormData,\n    styles,\n    actions,\n    categoryFilterStrings\n  } = props\n\n  const { fetching, fetchingVariations } = useFormTableData({\n    orderFormData,\n    orderFormId\n  })\n\n  const { setFormFilters } = actions\n  const { categories } = orderForm\n\n  const formSettings = orderFormData?.formSettings?.[orderFormId],\n    searchInput = formSettings?.['searchInput'] ?? ''\n\n  const [dropdownData, setdropdownData] = useState<any>('') // For hierarchal dropdown\n  const [categoryDataList, setCategoryDataList] = useState([]) // List of categories non-hierarchal/no children\n  const [selectedValue, setSelectedValue] = useState<any>(formSettings?.selected_category ?? '') // The default category name\n\n  let placeholder = getPropValue({ properties, prop: 'placeholder' }) ?? categoryFilterStrings?.placeholder\n  placeholder = placeholder ? placeholder : categoryFilterStrings?.placeholder\n\n  let filteredCategory: any = []\n\n  if (includedCategories !== null && includedCategories.length > 0) {\n    filteredCategory = includedCategories.filter((val: any) =>\n      excludedCategories !== null ? !excludedCategories.includes(val) : true\n    )\n  }\n\n  // Setting Hierarchical and one level array of categories\n  useEffect(() => {\n    let treeData: any[] = []\n\n    if (categories !== undefined && categories.length > 0) {\n      treeData = getHierarchicalCategories(categories).filter(catObj => excludedCategories === null ||\n        !excludedCategories.includes(catObj.value))\n\n      // Append beginning\n      setdropdownData(\n        [\n          {\n            title: placeholder,\n            value: '',\n            children: []\n          }\n        ].concat(treeData)\n      )\n    }\n  }, [categories])\n\n  useEffect(() => {\n    let catData: any = []\n\n    if (categories !== undefined && categories.length > 0) {\n      catData = getHierarchicalCategories(categories)\n    }\n    setCategoryDataList(catData)\n  }, [categories])\n\n  // Setting Selected Value\n  useEffect(() => {\n    if (Object.keys(categoryDataList).length === 0) {\n      return\n    }\n    if (filteredCategory.length > 0) {\n      if (filteredCategory.includes(defaultCategory)) {\n        setSelectedValue(categoryDataList[defaultCategory])\n        setFormFilters({\n          [orderFormId]: {\n            ...orderFormData,\n            selectedCategory: defaultCategory\n          }\n        })\n      } else {\n        setFormFilters({\n          [orderFormId]: {\n            ...orderFormData,\n            selectedCategory: '',\n            categoryComponentLoaded: true\n          }\n        })\n      }\n    } else if (\n      typeof defaultCategory !== 'undefined' &&\n      typeof categoryDataList[defaultCategory] !== 'undefined'\n    ) {\n      setSelectedValue(categoryDataList[defaultCategory])\n      setFormFilters({\n        [orderFormId]: {\n          ...orderFormData,\n          selectedCategory: defaultCategory\n        }\n      })\n    } else {\n      setFormFilters({\n        [orderFormId]: {\n          ...orderFormData,\n          selectedCategory: '',\n          categoryComponentLoaded: true\n        }\n      })\n    }\n  }, [categoryDataList, includedCategories, excludedCategories])\n\n  const onChange = (categoryName: string, treeData: Array<any>) => {\n    try {\n      if (categoryName) {\n        setSelectedValue(categoryName)\n        setFormFilters({\n          [orderFormId]: {\n            ...orderFormData,\n            selectedCategory: categoryName\n          }\n        })\n      } else {\n        setSelectedValue('')\n        setFormFilters({\n          [orderFormId]: {\n            ...orderFormData,\n            selectedCategory: ''\n          }\n        })\n      }\n\n      if (submitOnChange) {\n        fetchProducts({\n          orderFormData,\n          search: searchInput,\n          category: categoryName,\n          active_page: 1,\n          searching: 'yes'\n        })\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  // Included - Excluded Categories\n  // Show normal dropdown\n  if (filteredCategory.length > 0 && categories.length > 0) {\n    // filteredCategory = [placeholder].concat(filteredCategory);\n    let allOptions = filteredCategory.map((slug: string, index: number) => {\n      const category = categories.find((cat: ICategory) => cat.slug === slug)\n      return (\n        <Option key={slug} value={slug}>\n          {category.name}\n        </Option>\n      )\n    })\n    return (\n      <Select\n        size=\"large\"\n        value={selectedValue}\n        showSearch={true}\n        placeholder={placeholder}\n        allowClear={true}\n        style={{\n          width: '250px',\n          ...styles\n        }}\n        onChange={(slug: any) => {\n          onChange(slug, dropdownData)\n        }}\n        onClear={() => setSelectedValue('')}\n        disabled={fetching || fetchingVariations ? true : false}\n      >\n        {allOptions}\n      </Select>\n    )\n  } else {\n    return (\n      <>\n        <TreeSelect\n          size=\"large\"\n          value={selectedValue}\n          showSearch\n          allowClear\n          className=\"wwof-category-filter\"\n          treeData={dropdownData}\n          placeholder={placeholder}\n          treeDefaultExpandAll\n          showCheckedStrategy={SHOW_PARENT}\n          style={{\n            width: '250px',\n            ...styles\n          }}\n          onChange={(val: string) => onChange(val, dropdownData)}\n          disabled={fetching || fetchingVariations ? true : false}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  filter: store.filter,\n  categoryFilterStrings: store.i18n.frontend.category_filter\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      setFormFilters\n    },\n    dispatch\n  )\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryFilter)\n","import { Pagination } from \"antd\";\nimport { connect } from \"react-redux\";\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst OrderFormPagination = (props: any) => {\n  const { orderFormId, orderFormData, styles, fetchProducts } = props;\n\n  if (typeof orderFormData[\"formPagination\"][orderFormId] === \"undefined\")\n    return <></>;\n\n  const searchInput =\n    orderFormData?.formFilters?.[orderFormId]?.searchInput ?? \"\";\n\n  const selectedCategory =\n    orderFormData?.formFilters?.[orderFormId]?.selectedCategory ?? \"\";\n\n  const activePage =\n    orderFormData?.formPagination?.[orderFormId]?.active_page ?? 1;\n\n  const totalProducts =\n    parseInt(orderFormData?.formPagination?.[orderFormId]?.total_products) ?? 0;\n\n  const productsPerPage =\n    parseInt(orderFormData?.formPagination?.[orderFormId]?.per_page) || 0;\n\n  return (\n    <>\n      <Pagination\n        current={activePage}\n        total={totalProducts}\n        pageSize={productsPerPage}\n        style={{ ...styles }}\n        onChange={(active_page: number) => {\n          try {\n            // Focus Order Form Wrapper\n            let elements = document.getElementsByClassName(\n              \"order-form-\" + orderFormId\n            );\n\n            if (elements[0]) {\n              elements[0].scrollIntoView({\n                behavior: \"smooth\",\n                inline: \"nearest\"\n              });\n            }\n\n            let sort_by =\n              orderFormData?.formTableSorter?.[orderFormId]?.sort_by ??\n              orderFormData.formSettings[orderFormId]?.sort_by;\n\n            let sort_order =\n              orderFormData?.formTableSorter?.[orderFormId]?.sort_order ??\n              orderFormData?.formSettings?.[orderFormId]?.sort_order;\n\n            fetchProducts({\n              orderFormData,\n              sort_order,\n              sort_by,\n              search: searchInput,\n              category: selectedCategory,\n              active_page:\n                active_page ??\n                orderFormData?.formPagination?.[orderFormId]?.active_page,\n              searching: \"no\",\n              uid: WWOF_Frontend_Options.uid\n            });\n          } catch (e) {\n            console.log(e);\n          }\n        }}\n        showSizeChanger={false}\n      />\n    </>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  pagination: store.pagination,\n  orderFormData: store.orderFormData,\n  filter: store.filter\n});\n\nexport default connect(mapStateToProps)(OrderFormPagination);\n","import { Button } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormDataActions } from \"store/actions\";\nimport useFormTableData from \"helpers/useFormTableData\";\n\nconst { setFormFilters } = orderFormDataActions;\n\nconst SearchButton = (props: any) => {\n  const {\n    orderFormData,\n    styles,\n    orderFormId,\n    fetchProducts,\n    getPropValue,\n    properties,\n    actions,\n    searchButtonStrings\n  } = props;\n\n  const { fetching, fetchingVariations } = useFormTableData({\n    orderFormData,\n    orderFormId\n  });\n\n  const { setFormFilters } = actions;\n\n  const onFormSubmit = (e: any) => {\n    e.preventDefault();\n\n    const searchInput =\n      orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"searchInput\"] ?? \"\";\n\n    const selectedCategory =\n      orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"selectedCategory\"] ?? \"\";\n\n    const activePage =\n      orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"active_page\"] ?? 1;\n\n    const allowSkuSearch =\n      orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"allowSkuSearch\"] ?? 1;\n\n    const sort_by =\n      orderFormData?.[\"form_settings\"]?.[orderFormId]?.[\"sort_by\"] ?? \"\";\n\n    const sort_order =\n      orderFormData?.[\"form_settings\"]?.[orderFormId]?.[\"sort_order\"] ?? \"\";\n\n    if (searchInput || selectedCategory) {\n      fetchProducts({\n        orderFormData,\n        search: searchInput,\n        category: selectedCategory,\n        active_page: activePage,\n        searching: \"yes\",\n        allow_sku_search: allowSkuSearch,\n        sort_by,\n        sort_order\n      });\n    }\n  };\n\n  const showAll = (e: any) => {\n    e.preventDefault();\n\n    let per_page = orderFormData?.formPagination?.[orderFormId]?.per_page ?? 10;\n\n    fetchProducts({\n      orderFormData,\n      search: \"\",\n      category: \"\",\n      active_page: 1,\n      per_page,\n      searching: \"no\",\n      sort_order: \"\",\n      products: \"\",\n      categories: \"\",\n      show_all: true\n    });\n\n    setFormFilters({\n      [orderFormId]: {\n        searchInput: \"\",\n        selectedCategory: \"\"\n      }\n    });\n  };\n\n  let showClearButton = getPropValue({\n    properties,\n    prop: \"showClearButton\"\n  });\n\n  showClearButton =\n    showClearButton === null || showClearButton === undefined\n      ? true\n      : showClearButton;\n\n  let buttonColor = getPropValue({\n    properties,\n    prop: \"buttonColor\"\n  });\n\n  let buttonTextColor = getPropValue({\n    properties,\n    prop: \"buttonTextColor\"\n  });\n\n  const searchButtonElementStyle = {\n    background: buttonColor,\n    color: buttonTextColor,\n    border: buttonColor\n  };\n\n  return (\n    <div\n      className=\"search-and-clear-buttons\"\n      style={{ whiteSpace: \"pre-wrap\" }}\n    >\n      <Button\n        size=\"large\"\n        type=\"primary\"\n        style={{ ...styles, ...searchButtonElementStyle }}\n        onClick={(e: any) => onFormSubmit(e)}\n        disabled={fetching || fetchingVariations ? true : false}\n      >\n        {getPropValue({ properties, prop: \"searchButtonText\" }) ||\n          searchButtonStrings?.search_btn}\n      </Button>{\" \"}\n      {showClearButton ? (\n        <Button\n          size=\"large\"\n          style={{ ...styles, width: \"auto\" }}\n          onClick={(e: any) => showAll(e)}\n          disabled={fetching || fetchingVariations ? true : false}\n        >\n          {getPropValue({ properties, prop: \"clearButtonText\" }) ||\n            searchButtonStrings?.clear_btn}\n        </Button>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  searchButtonStrings: store.i18n.frontend.search_button\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      setFormFilters\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchButton);\n","// This variable is loaded in wp wp_enqueue_scripts via wp_localize_script\ndeclare var WWOF_Frontend_Options: any;\n\nexport const getProductMinQtyAndStep = (props: any) => {\n  const { productType, wholesaleData, variationData, variationID } = props;\n\n  let minOrderQty: number = 1;\n  let orderQtyStep: number = 1;\n\n  // Simple product min order qty and step\n  if (productType === \"simple\") {\n    if (\n      typeof wholesaleData.wholesale_minimum_order_quantity !== \"undefined\" &&\n      typeof wholesaleData.wholesale_minimum_order_quantity[\n        WWOF_Frontend_Options.wholesale_role\n      ] !== \"undefined\"\n    ) {\n      minOrderQty = parseFloat(\n        wholesaleData.wholesale_minimum_order_quantity[\n          WWOF_Frontend_Options.wholesale_role\n        ]\n      );\n    }\n\n    if (\n      typeof wholesaleData.wholesale_order_quantity_step !== \"undefined\" &&\n      typeof wholesaleData.wholesale_order_quantity_step[\n        WWOF_Frontend_Options.wholesale_role\n      ] !== \"undefined\"\n    ) {\n      orderQtyStep = parseFloat(\n        wholesaleData.wholesale_order_quantity_step[\n          WWOF_Frontend_Options.wholesale_role\n        ]\n      );\n    }\n  } else if (productType === \"variable\") {\n    if (variationID) {\n      if (typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\") {\n        // Min Order Qty\n        if (\n          typeof variationData !== \"undefined\" &&\n          typeof variationData.wholesale_minimum_order_quantity !==\n            \"undefined\" &&\n          typeof variationData.wholesale_minimum_order_quantity[\n            WWOF_Frontend_Options.wholesale_role\n          ] !== \"undefined\"\n        ) {\n          let qty =\n            variationData.wholesale_minimum_order_quantity[\n              WWOF_Frontend_Options.wholesale_role\n            ];\n\n          if (qty !== 1) {\n            minOrderQty = parseFloat(qty);\n          }\n        }\n\n        // Qty Step\n        if (\n          typeof variationData !== \"undefined\" &&\n          typeof variationData.wholesale_order_quantity_step !== \"undefined\" &&\n          typeof variationData.wholesale_order_quantity_step[\n            WWOF_Frontend_Options.wholesale_role\n          ] !== \"undefined\"\n        ) {\n          orderQtyStep = parseFloat(\n            variationData.wholesale_order_quantity_step[\n              WWOF_Frontend_Options.wholesale_role\n            ]\n          );\n        }\n      }\n    }\n\n    // Variable parent product min order qty and step\n    if (minOrderQty === 1) {\n      if (\n        typeof wholesaleData !== \"undefined\" &&\n        typeof wholesaleData.variable_level_wholesale_minimum_order_quantity !==\n          \"undefined\" &&\n        typeof wholesaleData.variable_level_wholesale_minimum_order_quantity[\n          WWOF_Frontend_Options.wholesale_role\n        ] !== \"undefined\" &&\n        minOrderQty === 1\n      ) {\n        minOrderQty = parseFloat(\n          wholesaleData.variable_level_wholesale_minimum_order_quantity[\n            WWOF_Frontend_Options.wholesale_role\n          ]\n        );\n      }\n\n      if (\n        typeof wholesaleData !== \"undefined\" &&\n        typeof wholesaleData.variable_level_wholesale_order_quantity_step !==\n          \"undefined\" &&\n        typeof wholesaleData.variable_level_wholesale_order_quantity_step[\n          WWOF_Frontend_Options.wholesale_role\n        ] !== \"undefined\" &&\n        orderQtyStep === 1\n      ) {\n        orderQtyStep = parseFloat(\n          wholesaleData.variable_level_wholesale_order_quantity_step[\n            WWOF_Frontend_Options.wholesale_role\n          ]\n        );\n      }\n    }\n  }\n\n  return { minOrderQty, orderQtyStep };\n};\n","import { useEffect, useState } from \"react\";\nimport { Button, notification, List } from \"antd\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { productListActions, orderFormDataActions } from \"store/actions/\";\nimport { getProductMinQtyAndStep } from \"helpers/getProductMinQtyAndStep\";\n\nconst { addProductsToCartAction } = productListActions;\nconst { setCartSubtotal, setSelectedProductsToAddToCart, setPageSelectedAll } =\n  orderFormDataActions;\n\n// Get option from table\nconst getOption = (props: any) => {\n  const { formStyles, item, prop } = props;\n  const propValue = formStyles?.[item]?.[\"props\"]?.[prop];\n\n  return typeof propValue !== \"undefined\" && propValue !== \"\"\n    ? propValue\n    : null;\n};\n\ndeclare var jQuery: any;\n\nconst AddSelectedProductsToCartButton = (props: any) => {\n  const {\n    getPropValue,\n    properties,\n    orderFormId,\n    styles,\n    actions,\n    formStyles,\n    orderForm,\n    orderFormData,\n    addSelectedProductsToCartButtonStrings\n  } = props;\n\n  const {\n    addProductsToCartAction,\n    setCartSubtotal,\n    setSelectedProductsToAddToCart,\n    setPageSelectedAll\n  } = actions;\n\n  const [selectedInstockProducts, setSelectedInstockProducts] = useState<any>(\n    {}\n  );\n\n  const buttonText =\n    getPropValue({ properties, prop: \"buttonText\" }) ??\n    addSelectedProductsToCartButtonStrings?.button_text;\n\n  const addToCartSelectedProducts = () => {\n    const addToCartNotification =\n      getPropValue({ properties, prop: \"addToCartNotification\" }) ?? true;\n\n    const notificationDuration =\n      getPropValue({ properties, prop: \"notificationDuration\" }) ?? 10;\n\n    let selectedProducts = selectedInstockProducts;\n    let selectedProductsClone: any = Object.assign({}, selectedProducts);\n    let selectedVariableProducts: any = {}; // Retain variable products\n    let qtyRestrictionErr: any = [];\n    let failedToAddProducts: any = [];\n\n    let quantityRestriction = getOption({\n      formStyles,\n      item: \"quantity-input\",\n      prop: \"quantityRestriction\"\n    });\n\n    if (quantityRestriction === undefined || quantityRestriction === null) {\n      quantityRestriction = true;\n    }\n\n    Object.keys(selectedProducts).map((id: any) => {\n      const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n        ...selectedProducts[id]\n      });\n\n      let quantity = selectedProducts[id].quantity;\n      let multiplier: any = (quantity - minOrderQty) / orderQtyStep;\n      multiplier = parseInt(multiplier, 10);\n      let nearestLow = minOrderQty + orderQtyStep * multiplier;\n      let nearestHigh = minOrderQty + orderQtyStep * (multiplier + 1);\n      let excessQty = quantity - minOrderQty;\n\n      if (quantity === 0) {\n        qtyRestrictionErr.push({\n          error_message: addSelectedProductsToCartButtonStrings?.zero_qty_error,\n          product_id: id,\n          quantity: quantity\n        });\n\n        failedToAddProducts[orderFormId] = {\n          ...failedToAddProducts[orderFormId],\n          [id]: {\n            ...selectedProductsClone[id]\n          }\n        };\n\n        delete selectedProductsClone[id];\n      } else if (quantityRestriction) {\n        // Quantity restriction rule\n        if (minOrderQty > 1 && quantity < minOrderQty) {\n          qtyRestrictionErr.push({\n            error_message: `${addSelectedProductsToCartButtonStrings?.minimum_error} <b>${minOrderQty}</b>.`,\n            product_id: id,\n            quantity: quantity\n          });\n\n          failedToAddProducts[orderFormId] = {\n            ...failedToAddProducts[orderFormId],\n            [id]: {\n              ...selectedProductsClone[id]\n            }\n          };\n\n          delete selectedProductsClone[id];\n        } else if (\n          minOrderQty > 1 &&\n          orderQtyStep > 1 &&\n          excessQty % orderQtyStep !== 0\n        ) {\n          qtyRestrictionErr.push({\n            error_message: `${addSelectedProductsToCartButtonStrings?.step_error} <b>${nearestLow}</b> ${addSelectedProductsToCartButtonStrings?.and} <b>${nearestHigh}</b>.`,\n            product_id: id,\n            quantity: quantity\n          });\n\n          failedToAddProducts[orderFormId] = {\n            ...failedToAddProducts[orderFormId],\n            [id]: {\n              ...selectedProductsClone[id]\n            }\n          };\n\n          delete selectedProductsClone[id];\n        }\n      }\n\n      // No selected variation\n      if (\n        typeof selectedProductsClone[id] !== \"undefined\" &&\n        selectedProductsClone[id].productType === \"variable\"\n      ) {\n        if (\n          (typeof selectedProducts[id].variationID !== \"undefined\" &&\n            selectedProducts[id].variationID <= 0) ||\n          typeof selectedProducts[id].variationID === \"undefined\"\n        ) {\n          qtyRestrictionErr.push({\n            error_message:\n              addSelectedProductsToCartButtonStrings?.no_variations_selected,\n            product_id: id,\n            quantity: quantity\n          });\n\n          failedToAddProducts[orderFormId] = {\n            ...failedToAddProducts[orderFormId],\n            [id]: {\n              ...selectedProductsClone[id]\n            }\n          };\n\n          delete selectedProductsClone[id];\n        }\n      }\n    });\n\n    // Get all variable products\n    // Retain the variable products\n    // Set selected to false\n    Object.keys(orderFormData.formSelectedProducts[orderFormId]).forEach(\n      (pid: any) => {\n        if (\n          typeof orderFormData.formSelectedProducts[orderFormId][pid]\n            .productType !== \"undefined\" &&\n          orderFormData.formSelectedProducts[orderFormId][pid].productType ===\n            \"variable\"\n        ) {\n          selectedVariableProducts = {\n            ...selectedVariableProducts,\n            [pid]: {\n              ...orderFormData.formSelectedProducts[orderFormId][pid],\n              selected: false\n            }\n          };\n        }\n      }\n    );\n\n    // Remove wholesale data, not needed for add to cart\n    Object.keys(selectedProductsClone).map((id: any) => {\n      if (typeof selectedProductsClone[id].wholesaleData) {\n        delete selectedProductsClone[id].wholesaleData;\n      }\n    });\n\n    addProductsToCartAction({\n      products: selectedProductsClone,\n      form_settings: orderFormData.formSettings[orderFormId],\n      successCB: (args: any) => {\n        let added: any = [];\n        const successfully_added = args.data.successfully_added;\n\n        Object.keys(successfully_added).forEach((productId) => {\n          const product = selectedProducts[productId] || {};\n\n          if (Object.keys(product).length > 0) {\n            if ([\"simple\", \"variation\"].includes(product.productType)) {\n              let name = selectedProducts[productId].variationName || \"\";\n\n              added.push(\n                <div\n                  dangerouslySetInnerHTML={{\n                    __html: `<b>${product.productTitle}</b> x ${successfully_added[productId]} <br/>${name}`\n                  }}\n                />\n              );\n            }\n          } else {\n            Object.keys(selectedProducts).map((id: any, test: any) => {\n              if (\n                typeof selectedProducts[id].variationID !== \"undefined\" &&\n                parseInt(selectedProducts[id].variationID) ===\n                  parseInt(productId)\n              ) {\n                let name = selectedProducts[id].variationName || \"\";\n\n                added.push(\n                  <div\n                    dangerouslySetInnerHTML={{\n                      __html: `<b>${selectedProducts[id].productTitle}</b> x ${successfully_added[productId]}<br/>${name}`\n                    }}\n                  />\n                );\n              }\n            });\n          }\n        });\n\n        let failed: any = [];\n        let failed_to_add = args.data.failed_to_add;\n        failed_to_add = failed_to_add.concat(qtyRestrictionErr);\n        failed_to_add.reverse();\n\n        failed_to_add.forEach((data: any, index: number) => {\n          const product = selectedProducts[data.product_id] || {};\n\n          if (product)\n            failed.push(\n              <div\n                dangerouslySetInnerHTML={{\n                  __html: `<b>${product.productTitle}</b> x ${data.quantity}<br/>${data.error_message}`\n                }}\n              />\n            );\n        });\n\n        // Show notification\n        if (addToCartNotification) {\n          if (added.length > 0) {\n            notification[\"success\"]({\n              message: `${addSelectedProductsToCartButtonStrings?.successfully_added}:`,\n              description: (\n                <div>\n                  <List\n                    size=\"small\"\n                    bordered\n                    dataSource={added}\n                    renderItem={(item: any) => <List.Item>{item}</List.Item>}\n                  />\n                  <a href={orderForm.cartURL} target=\"_blank\">\n                    <Button style={{ marginTop: \"10px\" }}>\n                      View Cart\n                      <ShoppingCartOutlined />\n                    </Button>\n                  </a>\n                </div>\n              ),\n              duration: notificationDuration || 10\n            });\n          }\n\n          if (failed.length > 0) {\n            notification[\"error\"]({\n              message: `${addSelectedProductsToCartButtonStrings?.add_to_cart_failed}:`,\n              description: (\n                <List\n                  size=\"small\"\n                  bordered\n                  dataSource={failed}\n                  renderItem={(item: any) => <List.Item>{item}</List.Item>}\n                />\n              ),\n              duration: notificationDuration || 10\n            });\n          }\n        } else {\n          // Display this message in the console for debugging purpose.\n          console.log(\"add to cart notification is disabled\");\n        }\n\n        // This will only work on pages that has jQuery loaded\n        // This will not work in cra dev mode\n        // Auto update the cart widget when adding to cart\n        if (typeof jQuery !== \"undefined\") {\n          let data = {\n            fragments: args.data.fragments,\n            cart_hash: args.data.cart_hash\n          };\n\n          jQuery(\"body\").trigger(\"adding_to_cart\", [\n            // jQuery(addToCartBtnRef.current),\n            data\n          ]);\n\n          jQuery(\"body\").trigger(\"added_to_cart\", [\n            args.data.fragments,\n            args.data.cart_hash\n            // jQuery(addToCartBtnRef.current)\n          ]);\n        }\n\n        // Update subtotal below the order form.\n        setCartSubtotal({\n          [orderFormId]: {\n            cartSubtotal: args.data.cart_subtotal_markup\n          }\n        });\n\n        // Successfuly added products are removed from selected state\n        // Failed to add products are retain in selected state (so that they can re-correct and select proper variation)\n        setSelectedProductsToAddToCart({\n          ...orderFormData.formSelectedProducts,\n          [orderFormId]: {\n            ...selectedVariableProducts,\n            ...failedToAddProducts[orderFormId]\n          }\n        });\n\n        // Clear Select All for the current page\n        if (\n          typeof orderFormData.formPagination[orderFormId] !== \"undefined\" &&\n          typeof orderFormData.formPagination[orderFormId][\"selectedAll\"] !==\n            \"undefined\"\n        ) {\n          let selectedAll =\n            orderFormData.formPagination[orderFormId][\"selectedAll\"];\n\n          Object.entries(selectedAll).map((data: any) => {\n            setPageSelectedAll({\n              orderFormId,\n              data: {\n                [data[0]]: false\n              }\n            });\n          });\n        }\n      },\n      failCB: (args: any) => {\n        notification[\"error\"]({\n          message: `${addSelectedProductsToCartButtonStrings?.add_to_cart_failed}:`,\n          description: \"error\"\n        });\n      }\n    });\n  };\n\n  let buttonColor = getPropValue({\n    properties,\n    prop: \"buttonColor\"\n  });\n\n  let buttonTextColor = getPropValue({\n    properties,\n    prop: \"buttonTextColor\"\n  });\n\n  const addSelectedToCartElementStyle = {\n    background: buttonColor,\n    color: buttonTextColor,\n    border: buttonColor\n  };\n\n  useEffect(() => {\n    if (\n      typeof orderFormData.formSelectedProducts[orderFormId] !== \"undefined\"\n    ) {\n      if (\n        Object.keys(orderFormData.formSelectedProducts[orderFormId]).length > 0\n      ) {\n        let updatedList = {};\n        Object.keys(orderFormData.formSelectedProducts[orderFormId]).forEach(\n          (pid: any) => {\n            const product =\n              orderFormData?.formSelectedProducts?.[orderFormId]?.[pid];\n            const stockStatus = product?.stockStatus;\n            const selected = product?.selected;\n\n            if (\n              typeof stockStatus !== \"undefined\" &&\n              stockStatus !== \"outofstock\" &&\n              typeof selected !== \"undefined\" &&\n              selected === true\n            ) {\n              updatedList = {\n                ...updatedList,\n                [pid]: {\n                  ...product\n                }\n              };\n            }\n          }\n        );\n\n        // Remove outofstock products\n        setSelectedInstockProducts(updatedList);\n      } else {\n        // Set selected products as empty\n        setSelectedInstockProducts({});\n      }\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  if (\n    typeof orderFormData.formSelectedProducts[orderFormId] !== \"undefined\" &&\n    Object.keys(selectedInstockProducts).length > 0 &&\n    orderFormData.formTable[orderFormId][\"itemIds\"].includes(\n      \"add-to-cart-checkbox\"\n    )\n  )\n    return (\n      <Button\n        size=\"large\"\n        className=\"add-selected-to-cart-button\"\n        type=\"primary\"\n        style={{ ...styles, ...addSelectedToCartElementStyle }}\n        onClick={() => addToCartSelectedProducts()}\n      >\n        {buttonText}\n      </Button>\n    );\n  else\n    return (\n      <Button\n        size=\"large\"\n        className=\"add-selected-to-cart-button\"\n        type=\"primary\"\n        style={{ ...styles, ...addSelectedToCartElementStyle }}\n        disabled\n      >\n        {buttonText}\n      </Button>\n    );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  formStyles: store.orderFormData.formStyles[props.orderFormId],\n  addSelectedProductsToCartButtonStrings:\n    store.i18n.frontend.add_selected_products_to_cart_button\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      addProductsToCartAction,\n      setCartSubtotal,\n      setSelectedProductsToAddToCart,\n      setPageSelectedAll\n    },\n    dispatch\n  )\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AddSelectedProductsToCartButton);\n","import { connect } from \"react-redux\";\n\nconst CartSubtotal = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    styles,\n    getPropValue,\n    properties,\n    cartSubtotalStrings,\n  } = props;\n\n  if (typeof orderFormData.formCartSubtotal[orderFormId] === \"undefined\")\n    return <></>;\n\n  let emptyCartText =\n    getPropValue({\n      properties,\n      prop: \"emptyCartText\",\n    }) || cartSubtotalStrings?.empty_cart;\n\n  let subtotalSuffix =\n    getPropValue({\n      properties,\n      prop: \"subtotalSuffix\",\n    }) || \"\";\n\n  const cartSubtotal =\n    orderFormData?.formCartSubtotal?.[orderFormId]?.cartSubtotal;\n\n  return (\n    <>\n      <div\n        className=\"cart-subtotal\"\n        style={{ ...styles }}\n        dangerouslySetInnerHTML={{\n          __html: cartSubtotal === \"\" ? emptyCartText : cartSubtotal,\n        }}\n      ></div>\n    </>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderFormData: store.orderFormData,\n  cartSubtotalStrings: store.i18n.frontend.cart_subtotal,\n});\n\nexport default connect(mapStateToProps)(CartSubtotal);\n","import { connect } from \"react-redux\";\n\nconst ProductCount = (props: any) => {\n  const { orderFormData, styles, orderFormId, productCountStrings } = props;\n\n  if (typeof orderFormData?.formPagination?.[orderFormId] === \"undefined\")\n    return <></>;\n\n  const productCount =\n    orderFormData?.formPagination?.[orderFormId]?.total_products || 0;\n\n  return (\n    <div\n      className=\"product-count\"\n      style={{ ...styles }}\n      dangerouslySetInnerHTML={{\n        __html: `${productCount} ${productCountStrings?.products}`,\n      }}\n    ></div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  productCountStrings: store.i18n.frontend.product_count,\n});\n\nexport default connect(mapStateToProps)(ProductCount);\n","// Elements\nimport SearchInput from \"./Elements/SearchInput\";\nimport CategoryFilter from \"./Elements/CategoryFilter\";\nimport OrderFormPagination from \"./Elements/OrderFormPagination\";\nimport SearchButton from \"./Elements/SearchButton\";\nimport AddSelectedProductsToCartButton from \"./Elements/AddSelectedProductsToCartButton\";\nimport CartSubtotal from \"./Elements/CartSubtotal\";\nimport ProductCount from \"./Elements/ProductCount\";\n\nconst getPropValue = (props: any) => {\n  const { properties, prop } = props;\n\n  const propValue = properties?.[prop];\n\n  return typeof propValue !== \"undefined\" ? propValue : null;\n};\n\nconst PrintItem = (props: any) => {\n  const { item, styles, properties, orderFormId, fetchProducts } = props;\n\n  const displayItem = (id: string) => {\n    switch (item.id) {\n      // Header/Footer Elements\n      case \"search-input\":\n        let submitOnEnter = getPropValue({ properties, prop: \"submitOnEnter\" });\n        if (submitOnEnter === null) submitOnEnter = true;\n\n        let allowSkuSearch = getPropValue({ properties, prop: \"skuSearch\" });\n        if (allowSkuSearch === null) allowSkuSearch = true;\n\n        return (\n          <SearchInput\n            getPropValue={getPropValue}\n            properties={properties}\n            orderFormId={orderFormId}\n            styles={styles}\n            fetchProducts={fetchProducts}\n            submitOnEnter={submitOnEnter}\n            allowSkuSearch={allowSkuSearch}\n          />\n        );\n\n      case \"category-filter\":\n        let submitOnChange = getPropValue({\n          properties,\n          prop: \"submitOnChange\"\n        });\n\n        if (submitOnChange === null) submitOnChange = true;\n\n        return (\n          <CategoryFilter\n            getPropValue={getPropValue}\n            properties={properties}\n            orderFormId={orderFormId}\n            styles={styles}\n            fetchProducts={fetchProducts}\n            submitOnChange={submitOnChange}\n            defaultCategory={getPropValue({\n              properties,\n              prop: \"defaultCategory\"\n            })}\n            includedCategories={getPropValue({\n              properties,\n              prop: \"includedCategories\"\n            })}\n            excludedCategories={getPropValue({\n              properties,\n              prop: \"excludedCategories\"\n            })}\n          />\n        );\n\n      case \"add-selected-to-cart-button\":\n        return (\n          <AddSelectedProductsToCartButton\n            getPropValue={getPropValue}\n            properties={properties}\n            orderFormId={orderFormId}\n            styles={styles}\n          />\n        );\n\n      case \"cart-subtotal\":\n        return (\n          <CartSubtotal\n            getPropValue={getPropValue}\n            properties={properties}\n            orderFormId={orderFormId}\n            styles={styles}\n          />\n        );\n\n      case \"product-count\":\n        return <ProductCount orderFormId={orderFormId} styles={styles} />;\n\n      case \"pagination\":\n        return (\n          <OrderFormPagination\n            getPropValue={getPropValue}\n            properties={properties}\n            productsPerPage={\n              getPropValue({ properties, prop: \"productsPerPage\" }) || 12\n            }\n            orderFormId={orderFormId}\n            styles={styles}\n            fetchProducts={fetchProducts}\n          />\n        );\n\n      case \"search-button\":\n        return (\n          <SearchButton\n            orderFormId={orderFormId}\n            styles={styles}\n            getPropValue={getPropValue}\n            properties={properties}\n            fetchProducts={fetchProducts}\n          />\n        );\n\n      default:\n        return <></>;\n    }\n  };\n\n  return <>{typeof item !== \"undefined\" ? displayItem(item.id) : \"\"}</>;\n};\n\nexport default PrintItem;\n","import React from \"react\";\nimport { dragAndDropItems } from \"helpers/dragDropItems\";\nimport PrintItem from \"./PrintItem\";\n\nimport { connect } from \"react-redux\";\n\nconst DisplayItems = React.memo((props: any) => {\n  const {\n    dataRows,\n    styles,\n    products,\n    orderFormId,\n    fetchProducts,\n    readableStyles,\n  } = props;\n  const data: any = dragAndDropItems;\n\n  if (dataRows === undefined) return <></>;\n  else\n    return (\n      <div>\n        {Object.keys(dataRows[\"rows\"]).map((row: any, index: any) => {\n          const rowId = dataRows[\"rows\"][row][\"rowId\"];\n          const rowStyles = styles[rowId] !== undefined ? styles[rowId] : {};\n          const columns = dataRows[\"rows\"][row][\"columns\"];\n\n          return (\n            <div\n              key={index}\n              className={`form-row ${rowId} ${\n                columns.length > 1\n                  ? \"multiple-column column-\" + columns.length\n                  : \"one-column\"\n              }`}\n              style={{\n                ...readableStyles({ styles: rowStyles[\"box\"] }),\n              }}\n            >\n              {Object.keys(columns).map((col: any, index: any) => {\n                const colId = columns[col][\"colId\"];\n                const colStyles =\n                  styles[colId] !== undefined ? styles[colId] : {};\n                const items = dataRows[\"rows\"][row][\"columns\"][col][\"itemIds\"];\n                const readableColStyles = readableStyles({\n                  styles: colStyles[\"box\"],\n                });\n                let hasCustomWidth = false;\n\n                if (\n                  readableColStyles &&\n                  typeof readableColStyles[\"width\"] !== \"undefined\"\n                ) {\n                  if (readableColStyles[\"width\"].indexOf(\"px\") >= 0) {\n                    const val = parseInt(readableColStyles[\"width\"]);\n                    if (val) hasCustomWidth = true;\n                  }\n                }\n\n                let textAlignValue: string = \"left\";\n                if (\n                  colStyles[\"box\"] !== undefined &&\n                  colStyles[\"box\"][\"justifyContent\"] !== undefined\n                ) {\n                  let justifyContent = colStyles[\"box\"][\"justifyContent\"];\n                  switch (justifyContent) {\n                    case \"flex-start\":\n                      textAlignValue = \"left\";\n                      break;\n                    case \"flex-end\":\n                      textAlignValue = \"right\";\n                      break;\n                    case \"center\":\n                      textAlignValue = \"center\";\n                      break;\n                    default:\n                      break;\n                  }\n                }\n                let textAlignCSS: any = {\n                  textAlign: textAlignValue,\n                };\n\n                return (\n                  <div\n                    className={`wwof-col ${col}`}\n                    key={index}\n                    style={{\n                      ...readableColStyles,\n                    }}\n                  >\n                    <div\n                      className={`drop-item ${\n                        items.length > 0 ? \"has-items\" : \"no-item\"\n                      }`}\n                      style={{\n                        ...readableColStyles,\n                      }}\n                    >\n                      {items.map((itemKey: any, index: any) => {\n                        const item = data[\"items\"][itemKey];\n                        const printItemProps = {\n                          item,\n                          styles: readableStyles({\n                            styles: colStyles[\"element\"],\n                          }),\n                          properties: colStyles[\"props\"],\n                          products,\n                          orderFormId,\n                          fetchProducts,\n                        };\n\n                        return (\n                          <div\n                            key={index}\n                            className={`wwof-col ${col} item`}\n                            style={{\n                              ...readableColStyles,\n                              ...textAlignCSS,\n                            }}\n                          >\n                            <PrintItem {...printItemProps} />\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          );\n        })}\n      </div>\n    );\n});\n\nconst mapStateToProps = (store: any, props: any) => ({});\n\nexport default connect(mapStateToProps)(DisplayItems);\n","export const readableStyles = (props: any) => {\n  const { styles } = props;\n\n  let stylesCopy: any = {};\n  if (typeof styles === \"undefined\") return;\n\n  Object.keys(styles).map((style: any, index: any) => {\n    switch (style) {\n      case \"width\":\n        if (styles[style].type === \"percentage\")\n          stylesCopy[style] = `${styles[style].value}%`;\n        else if (styles[style].type === \"pixels\")\n          stylesCopy[style] = `${styles[style].value}px`;\n        break;\n      case \"fontSize\":\n        if (styles[style].type === \"percentage\")\n          stylesCopy[style] = `${styles[style].value}%`;\n        else if (styles[style].type === \"pixels\")\n          stylesCopy[style] = `${styles[style].value}px`;\n        break;\n      default:\n        stylesCopy[style] = styles[style];\n    }\n    return;\n  });\n\n  return stylesCopy;\n};\n","export const getPropValue = (props: any) => {\n  const { formStyles, item, prop } = props;\n\n  if (\n    typeof formStyles !== \"undefined\" &&\n    typeof formStyles[item] !== \"undefined\" &&\n    typeof formStyles[item][\"props\"] !== \"undefined\" &&\n    typeof formStyles[item][\"props\"][prop] !== \"undefined\"\n  )\n    return formStyles[item][\"props\"][prop];\n  else return null;\n};\n","import React from \"react\";\nimport DisplayItems from \"./DisplayItems\";\n\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { readableStyles } from \"helpers/readableStyles\";\nimport { getPropValue } from \"helpers/getPropValue\";\n\n// Actions\nimport { orderFormActions } from \"store/actions\";\nconst { fetchProducts, fetchVariations, getVariationsWholesaleData } =\n  orderFormActions;\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst FormHeaderFooter = React.memo((props: any) => {\n  const {\n    orderFormId,\n    section,\n    formHeader,\n    formFooter,\n    orderFormData,\n    actions,\n    formStyles\n  } = props;\n  const { fetchProducts, fetchVariations, getVariationsWholesaleData } =\n    actions;\n\n  const sectionStyles =\n    formStyles !== undefined && formStyles[section] !== undefined\n      ? formStyles[section]\n      : {};\n\n  let showHeader = getPropValue({\n    formStyles,\n    item: section,\n    prop: \"showFormHeader\"\n  });\n\n  let showFooter = getPropValue({\n    formStyles,\n    item: section,\n    prop: \"showFormFooter\"\n  });\n\n  if (showHeader === undefined) showHeader = true;\n  if (showFooter === undefined) showFooter = true;\n\n  let sectionStyle = {};\n  if (section === \"formHeader\" && showHeader === false) {\n    sectionStyle = { display: \"none\" };\n  } else if (section === \"formFooter\" && showFooter === false) {\n    sectionStyle = { display: \"none\" };\n  }\n\n  return (\n    <div\n      style={{\n        marginBottom: \"1rem\",\n        ...sectionStyle,\n        ...readableStyles({ styles: sectionStyles[\"box\"] })\n      }}\n      className={`${section === \"formHeader\" ? \"form-header\" : \"form-footer\"}`}\n    >\n      <div\n        style={{\n          margin: \"4px 0px\",\n          position: \"relative\",\n          width: \"100%\"\n        }}\n      >\n        <DisplayItems\n          readableStyles={readableStyles}\n          orderFormId={orderFormId}\n          styles={formStyles}\n          section={section}\n          dataRows={section === \"formHeader\" ? formHeader : formFooter}\n          fetchProducts={(args: any) => {\n            let activePage = 1;\n            if (\n              typeof orderFormData.formPagination[orderFormId] !==\n                \"undefined\" &&\n              typeof orderFormData.formPagination[orderFormId][\n                \"active_page\"\n              ] !== \"undefined\"\n            ) {\n              activePage =\n                orderFormData.formPagination[orderFormId][\"active_page\"];\n            }\n\n            const allow_sku_search =\n              orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\n                \"allowSkuSearch\"\n              ] ?? 1;\n\n            fetchProducts({\n              orderFormData,\n              search: \"\",\n              category: \"\",\n              active_page: activePage,\n              searching: \"no\",\n              sort_order: \"\",\n              show_all: false,\n              attributes: { id: orderFormId },\n              wholesale_role: WWOF_Frontend_Options.wholesale_role,\n              per_page:\n                orderFormData.formSettings[orderFormId][\"products_per_page\"] ||\n                10,\n              form_settings: orderFormData.formSettings[orderFormId],\n              allow_sku_search,\n              uid: WWOF_Frontend_Options.uid,\n              ...args,\n              successCB: (response: any) => {\n                if (\n                  !orderFormData?.formSettings?.[orderFormId]\n                    ?.show_variations_individually &&\n                  response?.formProducts?.products.length > 0\n                ) {\n                  fetchVariations({\n                    wholesale_role: WWOF_Frontend_Options.wholesale_role,\n                    orderFormId: response?.orderFormId,\n                    formProducts: response?.formProducts,\n                    form_settings: orderFormData.formSettings[orderFormId],\n                    successCB: (response: any) => {\n                      // Get the variations wholesale data\n                      getVariationsWholesaleData({\n                        wholesale_role: WWOF_Frontend_Options.wholesale_role,\n                        orderFormId,\n                        selectedProducts:\n                          orderFormData.formSelectedProducts[orderFormId],\n                        formProducts: response?.formProducts?.products,\n                        variations: response?.data?.variations,\n                        successCB: (data: any) => {},\n                        failCB: () => {\n                          console.log(\"error\");\n                        }\n                      });\n                    },\n                    failCB: (response: any) =>\n                      console.log(`fetchVariations: ${response?.data?.message}`)\n                  });\n                }\n              },\n              failCB: (response: any) => {\n                console.log(`fetchProducts: ${response?.data?.message}`);\n              }\n            });\n          }}\n        />\n      </div>\n    </div>\n  );\n});\n\nconst mapStateToProps = (store: any, props: any) => ({\n  orderFormData: store.orderFormData,\n  formHeader: store.orderFormData.formHeader[props.orderFormId],\n  formFooter: store.orderFormData.formFooter[props.orderFormId],\n  formStyles: store.orderFormData.formStyles[props.orderFormId]\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      fetchProducts,\n      fetchVariations,\n      getVariationsWholesaleData\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormHeaderFooter);\n","import { getProductMinQtyAndStep } from \"./getProductMinQtyAndStep\";\nimport { Button, notification } from \"antd\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\n\n// This variable is loaded in wp wp_enqueue_scripts via wp_localize_script\ndeclare var WWOF_Frontend_Options: any;\n\ndeclare var jQuery: any;\n\nexport const addProductToCart = (props: any) => {\n  const {\n    orderForm,\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    actions,\n    addToCartNotification,\n    notificationDuration,\n    addProductToCartStrings,\n    addToCartBtnRef\n  } = props;\n\n  const {\n    add_to_cart_failed,\n    select_variation,\n    zero_qty_error,\n    min_qty_error,\n    step_error,\n    and,\n    successfully_added,\n    view_cart,\n    empty_error,\n    cannot_add_to_cart\n  } = addProductToCartStrings;\n\n  let variationID = 0;\n  let quantity = 1;\n  let variationName: any = [];\n  let variationData: any = [];\n\n  const selectedProduct =\n    orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id];\n\n  if (typeof selectedProduct !== \"undefined\") {\n    if (typeof selectedProduct?.[\"variationID\"] !== \"undefined\")\n      variationID = selectedProduct?.[\"variationID\"];\n\n    if (typeof selectedProduct?.[\"quantity\"] !== \"undefined\")\n      quantity = parseFloat(selectedProduct?.[\"quantity\"]);\n  } else {\n    // Set quantity if Wholesale Min Order Quantity is set\n    const wholesaleMinOrderQty =\n      product?.wholesale_data?.wholesale_minimum_order_quantity;\n    if (\n      typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n      typeof wholesaleMinOrderQty !== \"undefined\" &&\n      typeof wholesaleMinOrderQty[WWOF_Frontend_Options.wholesale_role] !==\n        \"undefined\"\n    )\n      quantity = parseFloat(\n        wholesaleMinOrderQty[WWOF_Frontend_Options.wholesale_role]\n      );\n  }\n\n  const variations = orderFormData.formProducts[orderFormId][\"variations\"];\n\n  if (\n    typeof variations !== \"undefined\" &&\n    typeof variations[product.id] !== \"undefined\" &&\n    variationID != 0 &&\n    product.type === \"variable\"\n  ) {\n    variationData = variations[product.id].find((data: any) => {\n      return data.id === variationID;\n    });\n\n    if (variationData !== undefined) {\n      variationName = variationData.attributes.map((attributes: any) => {\n        return attributes.name + \": \" + attributes.option;\n      });\n    }\n  } else if (product.type === \"variation\") {\n    variationName = product.attributes.map((attributes: any) => {\n      return `<strong>${attributes.name}</strong>:  ${attributes.option}`;\n    });\n  }\n\n  let quantityRestriction = getPropValue({\n    formStyles,\n    item: \"quantity-input\",\n    prop: \"quantityRestriction\"\n  });\n\n  if (quantityRestriction === undefined || quantityRestriction === null) {\n    quantityRestriction = true;\n  }\n\n  // Quantity Step Restriction\n  const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n    productType: product.type,\n    wholesaleData:\n      typeof product.wholesale_data !== \"undefined\"\n        ? product.wholesale_data\n        : [],\n    variationData:\n      typeof variationData.wholesale_data !== \"undefined\"\n        ? variationData.wholesale_data\n        : [],\n    variationID,\n    quantity\n  });\n\n  let multiplier: any = (quantity - minOrderQty) / orderQtyStep;\n  multiplier = parseInt(multiplier, 10);\n  let nearestLow = minOrderQty + orderQtyStep * multiplier;\n  let nearestHigh = minOrderQty + orderQtyStep * (multiplier + 1);\n  let excessQty = quantity - minOrderQty;\n  let valid = true;\n\n  if (\n    product.type === \"variable\" &&\n    (variationID <= 0 || typeof variationID === \"undefined\")\n  ) {\n    notification[\"error\"]({\n      message: add_to_cart_failed,\n      description: select_variation,\n      duration: 10\n    });\n    valid = false;\n  } else if (quantity === 0) {\n    notification[\"error\"]({\n      message: add_to_cart_failed,\n      description: (\n        <div\n          dangerouslySetInnerHTML={{\n            __html: zero_qty_error\n          }}\n        />\n      ),\n      duration: 10\n    });\n    valid = false;\n  } else if (quantityRestriction) {\n    if (minOrderQty > 1 && quantity < minOrderQty) {\n      notification[\"error\"]({\n        message: add_to_cart_failed,\n        description: (\n          <div\n            dangerouslySetInnerHTML={{\n              __html: `${min_qty_error} <b>${minOrderQty}</b>.`\n            }}\n          />\n        ),\n        duration: 10\n      });\n      valid = false;\n    } else if (\n      minOrderQty > 1 &&\n      orderQtyStep > 1 &&\n      excessQty % orderQtyStep !== 0\n    ) {\n      notification[\"error\"]({\n        message: add_to_cart_failed,\n        description: (\n          <div\n            dangerouslySetInnerHTML={{\n              __html: `${step_error} <b>${nearestLow}</b> ${and} <b>${nearestHigh}</b>.`\n            }}\n          />\n        ),\n        duration: 10\n      });\n      valid = false;\n    }\n  }\n\n  if (valid) {\n    actions.addProductToCartAction({\n      product_type: product.type,\n      product_id: product.id,\n      variation_id: variationID,\n      quantity: quantity,\n      form_settings: orderFormData.formSettings[orderFormId],\n      successCB: (args: any) => {\n        if (addToCartNotification) {\n          notification[\"success\"]({\n            message: successfully_added,\n            description: (\n              <div>\n                <div\n                  dangerouslySetInnerHTML={{\n                    __html: `<b>${\n                      product.name\n                    }</b> x ${quantity}<br/>${variationName.join(\"<br/>\")}`\n                  }}\n                />\n                <a href={orderForm.cartURL} target=\"_blank\">\n                  <Button style={{ marginTop: \"10px\" }}>\n                    {view_cart}\n                    <ShoppingCartOutlined />\n                  </Button>\n                </a>\n              </div>\n            ),\n            duration: notificationDuration || 10\n          });\n        } else {\n          // Display this message in the console for debugging purpose.\n          console.log(\"add to cart notification is disabled\");\n        }\n\n        // This will only work on pages that has jQuery loaded\n        // This will not work in cra dev mode\n        // Auto update the cart widget when adding to cart\n        if (typeof jQuery !== \"undefined\") {\n          let data = {\n            fragments: args.data.fragments,\n            cart_hash: args.data.cart_hash\n          };\n\n          jQuery(\"body\").trigger(\"adding_to_cart\", [\n            addToCartNotification ? \"\" : jQuery(addToCartBtnRef.current),\n            data\n          ]);\n\n          jQuery(\"body\").trigger(\"added_to_cart\", [\n            args.data.fragments,\n            args.data.cart_hash,\n            addToCartNotification ? \"\" : jQuery(addToCartBtnRef.current)\n          ]);\n        }\n\n        // Update Cart Subtotal\n        actions.setCartSubtotal({\n          [orderFormId]: {\n            cartSubtotal: args.data.cart_subtotal_markup\n          }\n        });\n      },\n      failCB: () => {\n        if (quantity === null) {\n          notification[\"error\"]({\n            message: add_to_cart_failed,\n            description: empty_error,\n            duration: 10\n          });\n        } else if (product.type === \"variable\" && variationID <= 0) {\n          notification[\"error\"]({\n            message: add_to_cart_failed,\n            description: select_variation,\n            duration: 10\n          });\n        } else {\n          notification[\"error\"]({\n            message: add_to_cart_failed,\n            description: cannot_add_to_cart,\n            duration: 10\n          });\n        }\n      }\n    });\n  }\n};\n","import { useEffect, useState } from \"react\";\nimport { Select } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormActions, orderFormDataActions } from \"store/actions\";\nimport { Spin } from \"antd\";\n\nconst { loadMoreVariations } = orderFormActions;\nconst { setSelectedProductsToAddToCart } = orderFormDataActions;\n\nconst { Option } = Select;\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst ComboVariationsDropdown = (props: any) => {\n  const {\n    product,\n    variations,\n    orderFormData,\n    orderFormId,\n    actions,\n    setSelectedVariation,\n    comboStrings\n  } = props;\n  const { setSelectedProductsToAddToCart, loadMoreVariations } = actions;\n\n  const [selectProps, setSelectProps] = useState({});\n  const [variationOptions, setVariationOptions] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const fetchingVariations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"fetchingVariations\"];\n\n  useEffect(() => {\n    try {\n      if (Object.keys(variations).length > 0 && variations?.fetching !== true) {\n        // Actual total variations. Not included variations will be lazy loaded.\n        const totalVariations =\n          orderFormData.formProducts[orderFormId].lazy_load_variations_data[\n            product.id\n          ].total_variations;\n\n        const options = variations.map((variation: any, i: number) => {\n          const totalAttr = variation?.attributes?.length;\n          const name = variation?.attributes?.map(\n            (attribute: any, key: number) => {\n              return (\n                <span key={key}>\n                  {`${\n                    key === 0\n                      ? \"(\" + (i + 1) + \"/\" + totalVariations + \") \"\n                      : \"\"\n                  }`}\n                  {`${attribute.name}: ${attribute.option}`}\n                  {`${totalAttr !== key + 1 ? \", \" : \"\"}`}\n                </span>\n              );\n            }\n          );\n          return (\n            <Option\n              key={variation.id}\n              value={variation.id}\n              className=\"combo-variation\"\n            >\n              {name}\n            </Option>\n          );\n        });\n\n        setVariationOptions(options);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [variations]);\n\n  // setSelectedVariation function use used in modal\n  useEffect(() => {\n    try {\n      const selectedProduct =\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id];\n\n      if (\n        typeof selectedProduct !== \"undefined\" &&\n        typeof selectedProduct?.variationID !== \"undefined\" &&\n        typeof setSelectedVariation === \"function\"\n      ) {\n        setSelectedVariation(selectedProduct.variationID);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formPagination[orderFormId]]);\n\n  const onVariationChange = (variationID: number) => {\n    const selectedProducts = orderFormData?.formSelectedProducts?.[orderFormId];\n    const selectedProduct = selectedProducts?.[product.id];\n\n    if (typeof variationID !== \"undefined\") {\n      let quantity = 1;\n      let stockStatus = product.stock_status;\n      let wholesaleData: any = [];\n      let variationData: any = [];\n\n      // Set selected variation name\n      const variation = variations.find((variation: any) => {\n        return variation.id === variationID;\n      });\n      const name = variation.attributes.map((attributes: any) => {\n        return attributes.name + \" : \" + attributes.option;\n      });\n\n      // Stock status\n      if (typeof variation !== \"undefined\")\n        stockStatus = variation.stock_status;\n\n      // Wholesale Data\n      if (\n        typeof variation !== \"undefined\" &&\n        typeof variation?.wholesale_data !== \"undefined\"\n      )\n        variationData = variation.wholesale_data;\n      if (typeof product?.wholesale_data !== \"undefined\")\n        wholesaleData = product.wholesale_data;\n\n      // Set quantity if Wholesale Min Order Quantity is set\n      if (\n        WWOF_Frontend_Options?.wholesale_role !== \"\" &&\n        typeof product?.wholesale_data !== \"undefined\"\n      ) {\n        if (\n          variationData.length > 0 &&\n          typeof variation?.wholesale_data.wholesale_minimum_order_quantity !==\n            \"undefined\" &&\n          typeof variation?.wholesale_data.wholesale_minimum_order_quantity[\n            WWOF_Frontend_Options?.wholesale_role\n          ] !== \"undefined\"\n        ) {\n          // Minimum Order Quantity is set in Simple/Variation\n          quantity =\n            variation?.wholesale_data.wholesale_minimum_order_quantity[\n              WWOF_Frontend_Options.wholesale_role\n            ];\n        } else if (\n          typeof product?.wholesale_data\n            ?.variable_level_wholesale_minimum_order_quantity !== \"undefined\" &&\n          typeof product?.wholesale_data\n            ?.variable_level_wholesale_minimum_order_quantity[\n            WWOF_Frontend_Options?.wholesale_role\n          ] !== \"undefined\"\n        ) {\n          // Minimum Order Quantity is set in Variable\n          quantity =\n            product?.wholesale_data\n              ?.variable_level_wholesale_minimum_order_quantity[\n              WWOF_Frontend_Options?.wholesale_role\n            ];\n        }\n      }\n\n      // Add selected variation into the state selected products\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        typeof selectedProduct !== \"undefined\"\n      ) {\n        setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...selectedProducts,\n            [product.id]: {\n              ...selectedProduct,\n              productID: product.id,\n              variationID,\n              productTitle: product.name,\n              productType: product.type,\n              name: name.join(\"<br/>\"),\n              quantity,\n              variationSelected: true,\n              stockStatus,\n              wholesaleData,\n              variationData\n            }\n          }\n        });\n      } else {\n        setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...selectedProducts,\n            [product.id]: {\n              productID: product.id,\n              variationID,\n              productTitle: product.name,\n              productType: product.type,\n              name: name.join(\"<br/>\"),\n              quantity,\n              variationSelected: true,\n              stockStatus,\n              wholesaleData,\n              variationData\n            }\n          }\n        });\n      }\n      // State From ProductModal\n      if (typeof setSelectedVariation === \"function\")\n        setSelectedVariation(variationID);\n\n      // Selected Variation\n      setSelectProps({\n        value: variationID\n      });\n    } else {\n      // Remove the product from selected products\n      const formSelectedProductsCopy = selectedProducts;\n\n      if (typeof selectedProduct !== \"undefined\") {\n        // delete formSelectedProducts[product.id];\n        formSelectedProductsCopy[product.id][\"variationID\"] = 0;\n\n        setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...selectedProducts,\n            ...formSelectedProductsCopy\n          }\n        });\n        // State From ProductModal\n        if (typeof setSelectedVariation === \"function\") setSelectedVariation(0);\n      }\n\n      // Selected Variation Empty\n      setSelectProps({});\n    }\n  };\n\n  useEffect(() => {\n    const selectedProducts = orderFormData?.formSelectedProducts?.[orderFormId];\n    const selectedProduct = selectedProducts?.[product.id];\n\n    if (\n      typeof selectedProduct?.variationID !== \"undefined\" &&\n      selectedProduct.variationID > 0\n    ) {\n      setSelectProps({\n        value: selectedProduct.variationID\n      });\n    } else {\n      setSelectProps({});\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  useEffect(() => {\n    const selectedProducts = orderFormData?.formSelectedProducts?.[orderFormId];\n    const selectedProduct = selectedProducts?.[product.id];\n\n    if (\n      typeof selectedProduct?.defaultVariationID !== \"undefined\" &&\n      selectedProduct.defaultVariationID > 0\n    ) {\n      setSelectProps({\n        value: selectedProduct.defaultVariationID\n      });\n    } else if (\n      typeof selectedProduct?.variationID !== \"undefined\" &&\n      selectedProduct.variationID > 0\n    ) {\n      setSelectProps({\n        value: selectedProduct.variationID\n      });\n    } else {\n      setSelectProps({});\n    }\n  }, []);\n\n  // @since 2.0.4\n  // Change of plan. We are now displaying all variations on initial load.\n  // There are some inaccurate number of attributes in standard dropdowns coz we are limiting the fetch data.\n  // Code is retained for reference in the future\n  const lazyLoading = (event: any) => {\n    var target = event.target;\n\n    if (\n      !loading &&\n      target.scrollTop + target.offsetHeight === target.scrollHeight\n    ) {\n      try {\n        let nextPage =\n          orderFormData.formProducts[orderFormId].lazy_load_variations_data[\n            product.id\n          ].current_page + 1;\n\n        // Make sure not to go over the limit\n        if (\n          nextPage <=\n          orderFormData.formProducts[orderFormId].lazy_load_variations_data[\n            product.id\n          ].total_page\n        ) {\n          setLoading(true);\n          loadMoreVariations({\n            orderFormId,\n            orderFormData,\n            wholesale_role: WWOF_Frontend_Options.wholesale_role,\n            product_id: product.id,\n            current_page:\n              orderFormData.formProducts[orderFormId].lazy_load_variations_data[\n                product.id\n              ].current_page + 1,\n            successCB: () => {\n              setLoading(false);\n            },\n            failCB: () => {\n              setLoading(false);\n            }\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  if (\n    (fetchingVariations && product?.type === \"variable\") ||\n    variations?.fetching === true\n  )\n    return <Spin />;\n\n  if (!variationOptions) return <></>;\n  else\n    return (\n      <Select\n        size=\"large\"\n        placeholder={comboStrings?.placeholder}\n        style={{ textAlign: \"left\", display: \"inline-block\" }}\n        filterOption={false}\n        notFoundContent={comboStrings?.no_results}\n        allowClear={true}\n        {...selectProps}\n        onChange={(variationId: any) => onVariationChange(variationId)}\n        // onPopupScroll={lazyLoading}\n      >\n        {!loading\n          ? variationOptions\n          : [\n              variationOptions,\n              <Option value=\"loading\" key=\"loading\">\n                {comboStrings?.loading_text}\n              </Option>\n            ]}\n      </Select>\n    );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  comboStrings: store.i18n.frontend.combo\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      setSelectedProductsToAddToCart,\n      loadMoreVariations\n    },\n    dispatch\n  )\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ComboVariationsDropdown);\n","import { useState, useEffect } from \"react\";\nimport { Select } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormDataActions } from \"store/actions\";\nimport { Spin } from \"antd\";\n\nconst { setSelectedProductsToAddToCart } = orderFormDataActions;\n\nconst { Option } = Select;\ndeclare var WWOF_Frontend_Options: any;\n\nconst StandardVariationsDropdown = (props: any) => {\n  const {\n    product,\n    variations,\n    orderFormId,\n    orderFormData,\n    setSelectedVariation,\n    actions,\n    standardStrings\n  } = props;\n\n  const { setSelectedProductsToAddToCart } = actions;\n\n  const [variationChanged, setVariationChanged] = useState(false);\n  const [dropdownDefaults, setDropdownDefaults] = useState<any>([]);\n  const [variationDataList, setVariationDataList] = useState<any>([]);\n  const [selectedAtts, setSelectedAtts] = useState<any>({});\n\n  const fetchingVariations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"fetchingVariations\"];\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      // Set selected variation id\n      if (typeof selectedProduct?.selectedAtts !== \"undefined\") {\n        setSelectedAtts(selectedProduct.selectedAtts);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  // Possible Dropdown Option Values\n  useEffect(() => {\n    if (Object.keys(selectedAtts).length === 0) {\n      setVariationDataList(dropdownDefaults);\n      return;\n    }\n\n    let avaiableAttributes = product.attributes.map((data: any, i: number) => {\n      return data.name;\n    });\n    let selections: any = JSON.parse(JSON.stringify(selectedAtts));\n    let foundAttributes: any = [];\n    let variationDataCopy: any = dropdownDefaults.map((item: any) => ({\n      ...item\n    }));\n\n    let attributeCheck = (attributes: any, atts: any) => {\n      let matchCounter = 0;\n\n      atts.map((attr: any, i: number) => {\n        let attrName = attr.toLowerCase();\n        let attrValue = selections[attr].toLowerCase();\n\n        for (const [, attr] of attributes.entries()) {\n          let name = attr.name.toLowerCase();\n          let option = attr.option.toLowerCase();\n\n          if (attrName === name && attrValue === option) {\n            matchCounter += 1;\n          }\n        }\n      });\n\n      return matchCounter === atts.length ? true : false;\n    };\n\n    if (Object.keys(selectedAtts).length === product.attributes.length) {\n      Object.keys(selections).map((attr: any, i: number) => {\n        let atts = Object.keys(selections).filter(\n          (value: string, j: number, arr: string[]) => {\n            return i !== j ? value : \"\";\n          }\n        );\n\n        let foundAtts: any = [];\n        for (const [, variation] of variations.entries()) {\n          const attributes = variation.attributes;\n          if (attributeCheck(attributes, atts)) {\n            foundAtts = [...foundAtts, attributes];\n          }\n        }\n        foundAttributes[attr] = [...foundAtts];\n      });\n    } else {\n      let atts = avaiableAttributes.filter(\n        (item: any) => Object.keys(selections).indexOf(item) == -1\n      );\n\n      atts.map((attr: any, i: number) => {\n        let foundAtts: any = [];\n        for (const [, variation] of variations.entries()) {\n          const attributes = variation.attributes;\n          if (attributeCheck(attributes, Object.keys(selections))) {\n            foundAtts = [...foundAtts, attributes];\n          }\n        }\n        foundAttributes[attr] = [...foundAtts];\n      });\n    }\n\n    if (Object.keys(foundAttributes).length > 0) {\n      variationDataCopy.map((data: any, i: number) => {\n        let name = data[0];\n\n        if (typeof foundAttributes[name] !== \"undefined\") {\n          let choices = {};\n          foundAttributes[name].map((data: any, i: number) => {\n            data.map((data2: any, j: number) => {\n              if (name == data2.name) {\n                choices = { ...choices, [data2.option]: data2.option };\n              }\n            });\n          });\n          variationDataCopy[i][1] = { ...choices };\n        }\n      });\n    }\n\n    setVariationDataList(variationDataCopy);\n  }, [selectedAtts]);\n\n  // Variation Dropdown Change Event\n  const variationChange = (label: string, value: string) => {\n    setVariationChanged(true);\n    const clone = JSON.parse(JSON.stringify(selectedAtts));\n\n    if (value) {\n      setSelectedAtts({\n        ...clone,\n        [label]: value\n      });\n    } else {\n      delete clone[label];\n      setSelectedAtts(clone);\n    }\n  };\n\n  // Find the variation ID based on the selected attributes\n  const findVariationID = (selectedAtts: any) => {\n    let searchVariation = (attributes: any, selectedAtts: any) => {\n      let matchCounter = 0;\n      Object.entries(selectedAtts).map((attr: any, i: number) => {\n        let attrName = attr[0].toLowerCase();\n        let attrValue = attr[1].toLowerCase();\n\n        for (const [, attr] of attributes.entries()) {\n          let name = attr.name.toLowerCase();\n          let option = attr.option.toLowerCase();\n\n          if (attrName === name && attrValue === option) {\n            matchCounter++;\n          }\n        }\n      });\n\n      return matchCounter;\n    };\n\n    if (Object.keys(selectedAtts).length === product.attributes.length) {\n      for (const [, variation] of variations.entries()) {\n        const attributes = variation.attributes;\n        if (\n          searchVariation(attributes, selectedAtts) ===\n          Object.keys(selectedAtts).length\n        ) {\n          return variation.id;\n        }\n      }\n    }\n\n    return 0;\n  };\n\n  // Hook on Selection Changed\n  useEffect(() => {\n    if (!variationChanged) return;\n\n    let variationID = findVariationID(selectedAtts);\n\n    const selectedProducts = orderFormData?.formSelectedProducts?.[orderFormId];\n    const selectedProduct = selectedProducts?.[product.id];\n\n    if (variationID > 0) {\n      let quantity = 1;\n      let stockStatus = product.stock_status;\n      let wholesaleData: any = [];\n\n      let variationData = [];\n\n      // Set selected variation name\n      const variation = variations.find((variation: any) => {\n        return variation.id === variationID;\n      });\n\n      const name = variation?.attributes.map((attributes: any) => {\n        return attributes.name + \" : \" + attributes.option;\n      });\n\n      // Stock status\n      if (typeof variation !== \"undefined\")\n        stockStatus = variation.stock_status;\n\n      // Wholesale Data\n      if (\n        typeof variation !== \"undefined\" &&\n        typeof variation?.wholesale_data !== \"undefined\"\n      )\n        variationData = variation?.wholesale_data;\n\n      if (typeof product?.wholesale_data !== \"undefined\")\n        wholesaleData = product?.wholesale_data;\n\n      // Set quantity if Wholesale Min Order Quantity is set\n      if (\n        typeof variation?.wholesale_data !== \"undefined\" &&\n        typeof WWOF_Frontend_Options?.wholesale_role !== \"undefined\" &&\n        typeof product?.wholesale_data !== \"undefined\"\n      ) {\n        if (\n          typeof variation?.wholesale_data.wholesale_minimum_order_quantity !==\n            \"undefined\" &&\n          variation?.wholesale_data?.wholesale_minimum_order_quantity[\n            WWOF_Frontend_Options?.wholesale_role\n          ] !== \"\"\n        ) {\n          // Minimum Order Quantity is set in Simple/Variation\n          quantity =\n            variation?.wholesale_data?.wholesale_minimum_order_quantity[\n              WWOF_Frontend_Options?.wholesale_role\n            ];\n        } else if (\n          typeof product?.wholesale_data\n            ?.variable_level_wholesale_minimum_order_quantity !== \"undefined\" &&\n          product?.wholesale_data\n            ?.variable_level_wholesale_minimum_order_quantity[\n            WWOF_Frontend_Options?.wholesale_role\n          ] !== \"\"\n        ) {\n          // Minimum Order Quantity is set in Variable\n          quantity =\n            product?.wholesale_data\n              ?.variable_level_wholesale_minimum_order_quantity[\n              WWOF_Frontend_Options?.wholesale_role\n            ];\n        }\n      }\n\n      if (typeof selectedProduct !== \"undefined\") {\n        delete selectedProducts[product.id];\n\n        setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...orderFormData.formSelectedProducts[orderFormId],\n            [product.id]: {\n              ...selectedProducts[product.id],\n              productID: product.id,\n              variationID,\n              productTitle: product.name,\n              productType: product.type,\n              name: name.join(\"<br/>\"),\n              quantity,\n              variationSelected: true,\n              stockStatus,\n              wholesaleData,\n              variationData,\n              selectedAtts\n            }\n          }\n        });\n\n        // State From ProductModal\n        if (typeof setSelectedVariation === \"function\")\n          setSelectedVariation(variationID);\n      } else {\n        setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...selectedProducts,\n            [product.id]: {\n              productID: product.id,\n              variationID,\n              productTitle: product.name,\n              productType: product.type,\n              name: name.join(\"<br/>\"),\n              quantity,\n              variationSelected: true,\n              stockStatus,\n              wholesaleData,\n              variationData,\n              selectedAtts\n            }\n          }\n        });\n\n        // State From ProductModal\n        if (typeof setSelectedVariation === \"function\")\n          setSelectedVariation(variationID);\n      }\n    } else {\n      // Remove the product from selected products\n      const formSelectedProductsCopy = selectedProducts;\n      if (selectedProduct !== undefined) {\n        // delete formSelectedProducts[product.id]\n        formSelectedProductsCopy[product.id].variationID = 0;\n        setSelectedProductsToAddToCart({\n          ...selectedProducts,\n          [orderFormId]: {\n            ...selectedProducts,\n            ...formSelectedProductsCopy\n          }\n        });\n      }\n\n      // Current selected attributes\n      setSelectedProductsToAddToCart({\n        [orderFormId]: {\n          ...selectedProducts,\n          [product.id]: {\n            ...selectedProduct,\n            selectedAtts\n          }\n        }\n      });\n\n      // State From ProductModal\n      if (typeof setSelectedVariation === \"function\") setSelectedVariation(0);\n    }\n    setVariationChanged(false);\n  }, [selectedAtts, variationChanged]);\n\n  // Set default/initial dropdown data\n  useEffect(() => {\n    let variationData: any = {};\n\n    if (Object.keys(variations).length > 0 && variations?.fetching !== true) {\n      for (const [, variation] of variations.entries()) {\n        const attributes = variation.attributes;\n        if (typeof attributes !== \"undefined\") {\n          for (const [, attr] of attributes.entries()) {\n            variationData[attr.name] = {\n              ...variationData[attr.name],\n              [attr.option]: attr.option\n            };\n          }\n        }\n      }\n    }\n\n    variationData = Object.entries(variationData);\n\n    setDropdownDefaults(variationData);\n    setVariationDataList(variationData);\n  }, [variations]);\n\n  if (\n    (fetchingVariations && product?.type === \"variable\") ||\n    variations?.fetching === true\n  )\n    return <Spin />;\n\n  return variationDataList.map((variation: any, i: number) => {\n    let selectProps: any = {};\n\n    if (\n      Object.keys(selectedAtts).length > 0 &&\n      typeof selectedAtts[variation[0]] !== \"undefined\"\n    ) {\n      selectProps = {\n        value: selectedAtts[variation[0]]\n      };\n    }\n\n    let label = variation[0];\n    variation = Object.entries(variation[1]);\n\n    const options = variation.map((attribute: any, i: number) => {\n      return (\n        <Option\n          value={attribute[0].toLowerCase()}\n          key={attribute[0]}\n          className=\"standard-variation\"\n        >\n          {attribute[0]}\n        </Option>\n      );\n    });\n\n    return (\n      <div\n        key={label}\n        style={{ margin: \"4px 0px\", display: \"inline-block\" }}\n        className=\"standard-dropdown\"\n      >\n        <label htmlFor={label} style={{ display: \"block\" }}>\n          {label}:{\" \"}\n        </label>\n        <Select\n          {...selectProps}\n          size=\"large\"\n          placeholder={standardStrings?.placeholder}\n          style={{ textAlign: \"left\" }}\n          filterOption={false}\n          notFoundContent={standardStrings?.no_results}\n          allowClear={true}\n          onChange={(value: string) => {\n            variationChange(label, value);\n          }}\n        >\n          {options}\n        </Select>\n      </div>\n    );\n  });\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  standardStrings: store.i18n.frontend.standard\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      setSelectedProductsToAddToCart\n    },\n    dispatch\n  )\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(StandardVariationsDropdown);\n","import ComboVariationsDropdown from \"components/FormTable/Elements/shared/ComboVariationsDropdown\";\nimport StandardVariationsDropdown from \"components/FormTable/Elements/shared/StandardVariationsDropdown\";\n\nconst DisplayVariationDropdown = (props: any) => {\n  const { variationSelector, variations } = props;\n\n  if (typeof variations === \"undefined\") return <></>;\n\n  return (\n    <div className={variationSelector} style={{ display: \"grid\" }}>\n      {variationSelector === \"combo\" ? (\n        <ComboVariationsDropdown {...props} variations={variations} />\n      ) : (\n        <StandardVariationsDropdown {...props} variations={variations} />\n      )}\n    </div>\n  );\n};\n\nexport default DisplayVariationDropdown;\n","import { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { productListActions, orderFormDataActions } from \"store/actions/\";\nimport { addProductToCart } from \"helpers/addProductToCart\";\nimport DisplayVariationDropdown from \"./shared/DisplayVariationDropdown\";\n\nconst { addProductToCartAction } = productListActions;\nconst { setCartSubtotal } = orderFormDataActions;\n\nconst AddToCartButton = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId,\n    useStyleValue,\n    addToCartButtonStrings,\n    addProductToCartStrings,\n  } = props;\n\n  const [stockStatus, setStockStatus] = useState(product.stock_status);\n  const [backorders, setBackorders] = useState(product.backorders);\n\n  const addToCartBtnRef = useRef<HTMLButtonElement>(null);\n\n  const formProductsVariations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"variations\"];\n\n  const variations = formProductsVariations?.[product.id];\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        Object.keys(selectedProducts).length > 0 &&\n        typeof selectedProduct !== \"undefined\"\n      ) {\n        // Stock status\n        if (typeof selectedProduct[\"stockStatus\"] !== \"undefined\")\n          setStockStatus(selectedProduct[\"stockStatus\"]);\n\n        // Backorders\n        if (typeof selectedProduct[\"backorders\"] !== \"undefined\")\n          setBackorders(selectedProduct[\"backorders\"]);\n        \n      } else {\n        setStockStatus(product.stock_status);\n        setBackorders(product.backorders);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [\n    orderFormData.formSelectedProducts,\n    orderFormId,\n    product.id,\n    product.stock_status,\n    product.backorders,\n  ]);\n\n  const onClick = (e: any) => {\n    const addToCartNotification =\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"addToCartNotification\",\n      }) ?? true;\n\n    const notificationDuration =\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"notificationDuration\",\n      }) ?? 10;\n\n    addProductToCart({\n      ...props,\n      addToCartBtnRef,\n      addToCartNotification,\n      notificationDuration,\n    });\n  };\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\",\n    }) ?? \"center\";\n\n  let fontSize = useStyleValue(\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"fontSize\",\n    }) ?? \"\"\n  );\n\n  let width = useStyleValue(\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"width\",\n    }) ?? \"\"\n  );\n  const buttonColor =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"buttonColor\",\n    }) ?? \"\";\n\n  const buttonTextColor =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"buttonTextColor\",\n    }) ?? \"\";\n  // CSS\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const),\n  };\n\n  const addToCartElementStyle = {\n    width,\n    fontSize: fontSize === \"auto\" ? \"inherit\" : fontSize,\n    border: buttonColor,\n    background: buttonColor,\n    color: buttonTextColor,\n    paddingTop:\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"paddingTop\",\n      }) ?? 0,\n    paddingRight:\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"paddingRight\",\n      }) ?? 0,\n    paddingBottom:\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"paddingBottom\",\n      }) ?? 0,\n    paddingLeft:\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"paddingLeft\",\n      }) ?? 0,\n  };\n\n  if (\n    addToCartElementStyle.paddingTop === 0 &&\n    addToCartElementStyle.paddingRight === 0 &&\n    addToCartElementStyle.paddingBottom === 0 &&\n    addToCartElementStyle.paddingLeft === 0\n  ) {\n    delete addToCartElementStyle.paddingTop;\n    delete addToCartElementStyle.paddingRight;\n    delete addToCartElementStyle.paddingBottom;\n    delete addToCartElementStyle.paddingLeft;\n  }\n\n  let disabledProp = {};\n  if (stockStatus === \"outofstock\" && backorders === \"no\") {\n    disabledProp = { disabled: true };\n  }\n\n  const variationSelector =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"variationSelectorStyle\",\n    }) ?? \"combo\";\n\n  const displayVariationDropdown =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"displayVariationDropdown\",\n    }) ?? false;\n\n  return (\n    <div\n      className=\"item add-to-cart-button\"\n      style={{\n        ...alignmentCSS,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: alignment,\n      }}\n    >\n      {displayVariationDropdown === true ? (\n        <DisplayVariationDropdown\n          {...props}\n          variationSelector={variationSelector}\n          variations={variations}\n        />\n      ) : (\n        <></>\n      )}\n      <Button\n        size=\"large\"\n        ref={addToCartBtnRef}\n        style={{ ...addToCartElementStyle, marginTop: \"10px\" }}\n        type=\"primary\"\n        onClick={(e) => onClick(e)}\n        {...disabledProp}\n      >\n        {getPropValue({ formStyles, item: itemId, prop: \"buttonText\" }) ||\n          addToCartButtonStrings?.button_text}\n      </Button>\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  formStyles: store.orderFormData.formStyles[props.orderFormId],\n  addToCartButtonStrings: store.i18n.frontend.add_to_cart_button,\n  addProductToCartStrings: store.i18n.frontend.add_product_to_cart,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      addProductToCartAction,\n      setCartSubtotal,\n    },\n    dispatch\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToCartButton);\n","import { useState, useEffect } from \"react\";\nimport { Checkbox } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormDataActions } from \"store/actions/\";\n\nconst { updateSelectedProducts } = orderFormDataActions;\n\nconst AddToCartButton = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    selectedAll,\n    somethingChanged,\n    product,\n    actions,\n  } = props;\n\n  const { updateSelectedProducts } = actions;\n  const [selected, setSelected] = useState(false);\n\n  const [stockStatus, setStockStatus] = useState(product.stock_status);\n  const [backorders, setBackorders] = useState(product.backorders);\n\n  const onChange = (e: any) => {\n    setSelected(e.target.checked);\n\n    updateSelectedProducts({\n      selected: e.target.checked,\n      orderFormData,\n      orderFormId,\n      product,\n    });\n  };\n\n  useEffect(() => {\n    try {\n      if (somethingChanged) setSelected(selectedAll);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [selectedAll, somethingChanged]);\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (typeof selectedProducts !== \"undefined\") {\n        if (selectedProduct?.selected === true) {\n          // selected\n          setSelected(true);\n\n          // Stock status\n          if (typeof selectedProduct?.[\"stockStatus\"] !== \"undefined\") {\n            if (selectedProduct?.[\"stockStatus\"] === \"outofstock\" && selectedProduct?.[\"backorders\"] === \"no\")\n              setSelected(false);\n\n            setStockStatus(selectedProduct?.[\"stockStatus\"]);\n            setBackorders(selectedProduct?.[\"backorders\"]);\n          }\n        } else setSelected(false);\n      } else {\n        setSelected(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [\n    orderFormData.formPagination[orderFormId],\n    orderFormData.formSelectedProducts[orderFormId],\n  ]);\n\n  let disabledProp = {};\n  if (stockStatus === \"outofstock\" && backorders === \"no\") {\n    disabledProp = { disabled: true, checked: false };\n  }\n\n  return (\n    <div\n      className=\"item add-to-cart-checkbox\"\n      style={{ minWidth: \"100px\", textAlign: \"center\" }}\n    >\n      <Checkbox\n        checked={selected}\n        onChange={(e) => onChange(e)}\n        {...disabledProp}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  formStyles: store.orderFormData.formStyles[props.orderFormId],\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      updateSelectedProducts,\n    },\n    dispatch\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToCartButton);\n","import { getProductMinQtyAndStep } from \"./getProductMinQtyAndStep\";\n\nconst quantityRestrictionPopover = (props: any) => {\n  const {\n    getPropValue,\n    formStyles,\n    product,\n    orderFormData,\n    orderFormId,\n    quantity,\n    qtyRestrictionStrings,\n  } = props;\n\n  let variationID = 0;\n  let variationData: any = [];\n\n  let quantityRestriction = getPropValue({\n    formStyles,\n    item: \"quantity-input\",\n    prop: \"quantityRestriction\",\n  });\n\n  if (quantityRestriction === undefined || quantityRestriction === null) {\n    quantityRestriction = true;\n  }\n\n  const selectedProducts = orderFormData?.formSelectedProducts?.[orderFormId];\n  const selectedProduct = selectedProducts?.[product.id];\n\n  if (\n    typeof selectedProducts !== \"undefined\" &&\n    typeof selectedProduct !== \"undefined\"\n  ) {\n    if (typeof selectedProduct[\"variationID\"] !== \"undefined\")\n      variationID = selectedProduct[\"variationID\"];\n  }\n\n  const variations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[product.id];\n\n  if (\n    typeof variations !== \"undefined\" &&\n    variationID != 0 &&\n    product.type === \"variable\"\n  ) {\n    variationData = variations.find((data: any) => {\n      return data.id === variationID;\n    });\n\n    variationData =\n      typeof variationData.wholesale_data !== \"undefined\"\n        ? variationData.wholesale_data\n        : [];\n  }\n\n  // Quantity Step Restriction\n  const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n    productType: product.type,\n    variationID,\n    wholesaleData:\n      typeof product.wholesale_data !== \"undefined\"\n        ? product.wholesale_data\n        : [],\n    variationData,\n  });\n\n  // Return immediately if qty and step has value of 1\n  if (minOrderQty === 1 && orderQtyStep === 1)\n    return { visible: false, content: \"\" };\n\n  let multiplier: any = (quantity - minOrderQty) / orderQtyStep;\n  multiplier = parseInt(multiplier, 10);\n  let nearestLow = minOrderQty + orderQtyStep * multiplier;\n  let nearestHigh = minOrderQty + orderQtyStep * (multiplier + 1);\n  let excessQty = quantity - minOrderQty;\n\n  if (quantityRestriction) {\n    if (minOrderQty > 1 && quantity < minOrderQty) {\n      return {\n        visible: true,\n        content: `${qtyRestrictionStrings?.quantity_of} <b>${quantity}</b> ${qtyRestrictionStrings?.is_invalid} <b>${minOrderQty}</b>.`,\n      };\n    } else if (\n      minOrderQty > 1 &&\n      orderQtyStep > 1 &&\n      excessQty % orderQtyStep !== 0\n    ) {\n      return {\n        visible: true,\n        content: `<p>${qtyRestrictionStrings?.quantity_of} <b>${quantity}</b> ${qtyRestrictionStrings?.is_invalid} <b>${minOrderQty}</b> ${qtyRestrictionStrings?.increments_of} <b>${orderQtyStep}</b>.</p><p>${qtyRestrictionStrings?.two_nearest_values} <b>${nearestLow}</b> ${qtyRestrictionStrings?.and} <b>${nearestHigh}</b>.</p>`,\n      };\n    } else return { error: false, visible: false, content: \"\" };\n  } else {\n    if (minOrderQty > 1 && quantity < minOrderQty) {\n      return {\n        visible: true,\n        content: `${qtyRestrictionStrings?.quantity_of} <b>${quantity}</b> ${qtyRestrictionStrings?.not_within_range} <b>${minOrderQty}</b>.`,\n      };\n    } else if (\n      minOrderQty > 1 &&\n      orderQtyStep > 1 &&\n      excessQty % orderQtyStep !== 0\n    ) {\n      return {\n        visible: true,\n        content: `${qtyRestrictionStrings?.quantity_of} <b>${quantity}</b> ${qtyRestrictionStrings?.not_within_range} <b>${minOrderQty}</b> ${qtyRestrictionStrings?.increments_of} <b>${orderQtyStep}</b>.`,\n      };\n    }\n  }\n\n  return {\n    visible: false,\n    content: \"\",\n  };\n};\n\nexport default quantityRestrictionPopover;\n","import { useState, useEffect } from \"react\";\nimport { Button, InputNumber, Popover } from \"antd\";\nimport quantityRestrictionPopover from \"helpers/quantityRestrictionPopover\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormDataActions } from \"store/actions/\";\nimport { getProductMinQtyAndStep } from \"helpers/getProductMinQtyAndStep\";\nconst { setSelectedProductsToAddToCart } = orderFormDataActions;\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst QuantityInput = (props: any) => {\n  const {\n    showModal,\n    orderFormData,\n    orderFormId,\n    product,\n    actions,\n    getPropValue,\n    formStyles,\n    itemId,\n    quantityInputStrings,\n  } = props;\n\n  const { setSelectedProductsToAddToCart } = actions;\n  const [quantity, setQuantity] = useState<any>(1);\n  const [quantityStep, setQuantityStep] = useState(1);\n  const [, setMinQuantity] = useState(1);\n  const [stockStatus, setStockStatus] = useState(product.stock_status);\n  const [backorders, setBackorders] = useState(product.backorders);\n\n  // Popover\n  const [popoverVisibility, setPopoverVisibility] = useState(false);\n  const [popoverContent, setPopoverContent] = useState(\"\");\n\n  /* Styles and Options */\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\",\n    }) ?? \"center\";\n\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const),\n  };\n\n  const outOfStockText =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"outOfStockText\",\n    }) ?? quantityInputStrings?.out_of_stock;\n\n  const decimalQuantity =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"decimalQuantity\",\n    }) ?? false;\n\n  /* End Options and Settings */\n\n  // Close popover when modal is open\n  useEffect(() => {\n    try {\n      if (showModal === true) {\n        setPopoverVisibility(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [showModal]);\n\n  // When navigating to next page set quantity based on the previously set quantity.\n  useEffect(() => {\n    try {\n      const selectedProduct =\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id];\n\n      if (typeof selectedProduct?.quantity !== \"undefined\") {\n        setQuantity(selectedProduct.quantity);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formPagination[orderFormId]]);\n\n  // If selected products data is changed then update quantity box\n  // Only for wholesale variable variations with min and step\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        typeof selectedProduct !== \"undefined\"\n      ) {\n        // Set Stock Status\n        if (typeof selectedProduct?.[\"stockStatus\"] !== \"undefined\")\n          setStockStatus(selectedProduct[\"stockStatus\"]);\n\n        // Set Backorders\n        if (typeof selectedProduct?.[\"backorders\"] !== \"undefined\")\n          setBackorders(selectedProduct[\"backorders\"]);\n          \n\n        if (\n          product.type === \"variable\" &&\n          typeof selectedProduct?.[\"variationSelected\"] !== \"undefined\"\n        ) {\n          // If variation changes, set the qty to be the min order qty\n          let formSelectedProducts = selectedProduct;\n\n          delete formSelectedProducts.variationSelected;\n\n          setSelectedProductsToAddToCart({\n            [orderFormId]: {\n              ...selectedProducts,\n              [product.id]: {\n                ...formSelectedProducts,\n              },\n            },\n          });\n\n          // Min Quantity and Step\n          const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n            ...selectedProduct,\n          });\n          setMinQuantity(minOrderQty);\n          setQuantity(minOrderQty);\n          setQuantityStep(orderQtyStep);\n        } else {\n          setQuantities();\n        }\n      } else {\n        setQuantities();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  const onQuantityChange = async (quantity: number) => {\n    try {\n      let popover = quantityRestrictionPopover({ ...props, quantity });\n\n      if (typeof popover !== \"undefined\") {\n        setPopoverVisibility(popover.visible);\n        setPopoverContent(popover.content);\n      }\n\n      let inputQuantity = quantity;\n\n      // If Decimal Quantity is not enabled.\n      // By default Decimal quantity is not allowed.\n      if (!decimalQuantity) {\n        inputQuantity = Math.round(quantity);\n      }\n\n      setQuantity(inputQuantity);\n\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        typeof selectedProduct !== \"undefined\"\n      ) {\n        // If we have this data in redux state then update quantity\n        setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...selectedProducts,\n            [product.id]: {\n              ...selectedProduct,\n              quantity: inputQuantity,\n            },\n          },\n        });\n      } else {\n        // Else add these data\n        setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...selectedProducts,\n            [product.id]: {\n              productID: product.id,\n              productTitle: product.name,\n              productType: product.type,\n              quantity: inputQuantity,\n              stockStatus: product.stock_status,\n              wholesaleData:\n                typeof product.wholesale_data !== \"undefined\"\n                  ? product.wholesale_data\n                  : [],\n            },\n          },\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const setQuantities = () => {\n    if (\n      typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n      WWOF_Frontend_Options.wholesale_role !== \"\"\n    ) {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        typeof selectedProduct !== \"undefined\"\n      ) {\n        // Min Quantity and Step\n        const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n          ...selectedProduct,\n        });\n\n        setQuantity(selectedProduct?.quantity ?? minOrderQty);\n        setQuantityStep(orderQtyStep);\n      } else {\n        // Min Quantity and Step\n        const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n          productType: product.type,\n          wholesaleData:\n            typeof product.wholesale_data !== \"undefined\"\n              ? product.wholesale_data\n              : [],\n          variationData: [],\n          variationID: 0,\n        });\n\n        setQuantity(minOrderQty);\n        setQuantityStep(orderQtyStep);\n      }\n    } else {\n      let selectedProduct =\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id];\n\n      if (\n        typeof selectedProduct?.quantity !== \"undefined\" &&\n        selectedProduct.quantity !== quantity\n      ) {\n        setQuantity(selectedProduct.quantity);\n      }\n    }\n  };\n\n  useEffect(() => {\n    try {\n      setQuantities();\n    } catch (e) {\n      console.log(e);\n    }\n  }, []);\n\n  return (\n    <div className=\"item quantity-input\" style={{ ...alignmentCSS }}>\n      {stockStatus === \"outofstock\" && backorders === \"no\" ? (\n        <> {outOfStockText} </>\n      ) : (\n        <>\n          {product.type !== \"variable\" ||\n          typeof orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n            product.id\n          ] !== \"undefined\" ? (\n            <Popover\n              content={\n                <>\n                  <p\n                    dangerouslySetInnerHTML={{\n                      __html: popoverContent,\n                    }}\n                  />\n                  <Button onClick={() => setPopoverVisibility(false)}>\n                    {quantityInputStrings?.close_popover}\n                  </Button>\n                </>\n              }\n              title={quantityInputStrings?.quantity_restriction}\n              visible={popoverVisibility}\n            >\n              <InputNumber\n                size=\"large\"\n                min={0}\n                step={quantityStep}\n                defaultValue={1}\n                value={quantity}\n                onChange={(quantity: any) => onQuantityChange(quantity)}\n              />\n            </Popover>\n          ) : (\n            <></>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  showModal: store.orderForm.showModal,\n  orderFormData: store.orderFormData,\n  formStyles: store.orderFormData.formStyles[props.orderFormId],\n  quantityInputStrings: store.i18n.frontend.quantity_input,\n  qtyRestrictionStrings: store.i18n.frontend.quantity_restriction_popover,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      setSelectedProductsToAddToCart,\n    },\n    dispatch\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuantityInput);\n","import { useEffect, useState } from \"react\";\nimport { substr } from \"stringz\";\nimport { connect } from \"react-redux\";\n\nconst ShortDescription = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId\n  } = props;\n\n  const [productDescription, setProductDescription] = useState(\n    product.short_description\n  );\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        Object.keys(selectedProducts).length > 0\n      ) {\n        if (\n          typeof selectedProduct !== \"undefined\" &&\n          product.type === \"variable\"\n        ) {\n          const variationID = selectedProduct[\"variationID\"];\n          const variations =\n            orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n              product.id\n            ];\n\n          if (\n            typeof variations !== \"undefined\" &&\n            Array.isArray(variations) &&\n            variations.length > 0 &&\n            variationID > 0\n          ) {\n            const variationData = variations.find((variation: any) => {\n              return variation.id === variationID;\n            });\n\n            if (typeof variationData !== \"undefined\")\n              setProductDescription(variationData.description);\n          }\n        }\n      } else {\n        setProductDescription(product.short_description);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\"\n    }) || \"center\";\n\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const)\n  };\n\n  let maxCharacters = getPropValue({\n    formStyles,\n    item: itemId,\n    prop: \"maxCharacters\"\n  });\n\n  if (maxCharacters === undefined || maxCharacters === null) {\n    maxCharacters = 200;\n  }\n\n  let limiter: string = \"\";\n  if (\n    maxCharacters !== \"\" &&\n    productDescription?.length > parseInt(maxCharacters)\n  ) {\n    limiter = \"...\";\n  }\n\n  return (\n    <div\n      className=\"item product-description\"\n      style={{ minWidth: \"250px\", ...alignmentCSS }}\n      dangerouslySetInnerHTML={{\n        __html:\n          productDescription && maxCharacters !== \"\"\n            ? substr(productDescription, 0, parseInt(maxCharacters)) + limiter\n            : productDescription === \"\"\n            ? \"&nbsp;\"\n            : \" \"\n      }}\n    ></div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData\n});\n\nexport default connect(mapStateToProps)(ShortDescription);\n","import { useEffect, useState } from \"react\";\nimport { Table, Popover, Tooltip } from \"antd\";\nimport { QuestionCircleOutlined } from \"@ant-design/icons\";\nimport { connect } from \"react-redux\";\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst setQtyTableDataSource = (mapping_data: any) => {\n  try {\n    let dataSource = [];\n    for (var index in mapping_data) {\n      let data = mapping_data[index];\n\n      if (data.wholesale_role === WWOF_Frontend_Options.wholesale_role) {\n        dataSource.push({\n          key: index,\n          qty:\n            data.end_qty !== \"\"\n              ? data.start_qty + \" - \" + data.end_qty\n              : data.start_qty + \"+\",\n          price: (\n            <div dangerouslySetInnerHTML={{ __html: data.calculated_price }} />\n          )\n        });\n      }\n    }\n\n    return dataSource;\n  } catch (e) {\n    console.log(e);\n    return undefined;\n  }\n};\n\nconst DisplayQuantityBasedTable = (props: any) => {\n  const {\n    product,\n    showModal,\n    showQuantityBasedTable,\n    orderFormData,\n    orderFormId,\n    displayQtyBasedTableStrings\n  } = props;\n\n  const [description, setDescription] = useState(\"\");\n  const [dataSource, setDataSource] = useState<any[]>();\n\n  useEffect(() => {\n    try {\n      const qtyDiscountRule =\n        product?.wholesale_data?.wwpp_enable_quantity_discount_rule;\n      const qtyDiscountMapping =\n        product?.wholesale_data?.wwpp_quantity_discount_rule_mapping;\n\n      if (\n        typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n        typeof product.wholesale_data !== \"undefined\" &&\n        typeof qtyDiscountRule !== \"undefined\" &&\n        (qtyDiscountRule === \"yes\" || qtyDiscountRule === true) &&\n        WWOF_Frontend_Options.wholesale_role !== \"\"\n      ) {\n        if (\n          typeof qtyDiscountMapping !== \"undefined\" &&\n          typeof qtyDiscountMapping?.mapping !== \"undefined\"\n        ) {\n          setDescription(qtyDiscountMapping.desc);\n          setDataSource(setQtyTableDataSource(qtyDiscountMapping.mapping));\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [WWOF_Frontend_Options.wholesale_role]);\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        product.type === \"variable\" &&\n        typeof selectedProduct?.variationID !== \"undefined\" &&\n        selectedProduct.variationID > 0\n      ) {\n        const variationID = selectedProduct.variationID;\n        const variations =\n          orderFormData.formProducts[orderFormId][\"variations\"][product.id];\n\n        if (\n          typeof variations !== \"undefined\" &&\n          typeof variationID !== \"undefined\" &&\n          Array.isArray(variations) &&\n          variations.length > 0 &&\n          variationID > 0\n        ) {\n          const variationData = variations.find((variation: any) => {\n            return variation.id === variationID;\n          });\n\n          if (\n            typeof variationData !== \"undefined\" &&\n            typeof variationData.wholesale_data !== \"undefined\"\n          ) {\n            const qtyDiscountRuleMapping =\n              variationData?.wholesale_data\n                ?.wwpp_quantity_discount_rule_mapping;\n\n            if (\n              typeof qtyDiscountRuleMapping !== \"undefined\" &&\n              typeof qtyDiscountRuleMapping?.mapping !== \"undefined\"\n            ) {\n              setDescription(qtyDiscountRuleMapping.desc);\n              setDataSource(\n                setQtyTableDataSource(qtyDiscountRuleMapping.mapping)\n              );\n            } else {\n              setDescription(\"\");\n              setDataSource(undefined);\n            }\n          }\n        }\n      } else {\n        const qtyDiscountRule =\n          product?.wholesale_data?.wwpp_enable_quantity_discount_rule;\n        const qtyDiscountMapping =\n          product?.wholesale_data?.wwpp_quantity_discount_rule_mapping;\n\n        if (\n          typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n          typeof product.wholesale_data !== \"undefined\" &&\n          typeof qtyDiscountRule !== \"undefined\" &&\n          (qtyDiscountRule === \"yes\" || qtyDiscountRule === true) &&\n          WWOF_Frontend_Options.wholesale_role !== \"\"\n        ) {\n          if (\n            typeof qtyDiscountMapping !== \"undefined\" &&\n            typeof qtyDiscountMapping?.mapping !== \"undefined\"\n          ) {\n            setDescription(qtyDiscountMapping.desc);\n            setDataSource(setQtyTableDataSource(qtyDiscountMapping.mapping));\n          } else {\n            setDescription(\"\");\n            setDataSource(undefined);\n          }\n        } else {\n          setDescription(\"\");\n          setDataSource(undefined);\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  const columns = [\n    {\n      title: \"Qty\",\n      dataIndex: \"qty\",\n      key: \"qty\"\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"price\",\n      key: \"price\"\n    }\n  ];\n\n  if (\n    !showQuantityBasedTable ||\n    typeof dataSource === \"undefined\" ||\n    dataSource.length === 0\n  )\n    return <></>;\n\n  if (showModal === true) {\n    return (\n      <>\n        <div\n          style={{ marginBottom: \"1rem\" }}\n          className=\"qty-based-discount-table-desc\"\n          dangerouslySetInnerHTML={{\n            __html: description\n          }}\n        />\n        <Table\n          className=\"wwof-qty-based-table\"\n          style={{\n            width: \"auto\",\n            minWidth: \"auto\",\n            margin: \"1rem 0rem\"\n          }}\n          dataSource={dataSource}\n          columns={columns}\n          pagination={false}\n          scroll={undefined}\n        />\n      </>\n    );\n  } else {\n    return (\n      <Popover\n        className=\"qty-based-discount\"\n        content={\n          <>\n            <div\n              style={{ marginBottom: \"1rem\" }}\n              className=\"qty-based-discount-table-desc\"\n              dangerouslySetInnerHTML={{\n                __html: description\n              }}\n            />\n            <Table\n              className=\"wwof-qty-based-table\"\n              style={{ width: \"auto\", minWidth: \"auto\", marginBottom: \"15px\" }}\n              dataSource={dataSource}\n              columns={columns}\n              pagination={false}\n              scroll={undefined}\n            />\n          </>\n        }\n        title={displayQtyBasedTableStrings?.popover_title}\n        trigger=\"click\"\n      >\n        <Tooltip title={displayQtyBasedTableStrings?.tooltip}>\n          <QuestionCircleOutlined />\n        </Tooltip>\n      </Popover>\n    );\n  }\n};\n\nconst mapStateToProps = (store: any) => ({\n  displayQtyBasedTableStrings: store.i18n.frontend.display_qty_based_table\n});\n\nexport default connect(mapStateToProps)(DisplayQuantityBasedTable);\n","import { useState, useEffect } from \"react\";\nimport DisplayQuantityBasedTable from \"./shared/DisplayQuantityBasedTable\";\nimport { Spin } from \"antd\";\n\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormActions } from \"store/actions/\";\n\nconst { getVariationWholesaleData } = orderFormActions;\ndeclare var WWOF_Frontend_Options: any;\n\nconst Price = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId,\n    actions\n  } = props;\n\n  const { getVariationWholesaleData } = actions;\n\n  const [variationID, setVariationID] = useState(\n    orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n      ?.variationID ?? 0\n  );\n  const [variationSelected, setVariationSelected] = useState(\n    orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n      ?.variationSelected ?? false\n  );\n  const [priceHtml, setPriceHtml] = useState(product.price_html);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const pid =\n      orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n        ?.productID;\n    const vid =\n      orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n        ?.variationID;\n\n    if (product.id === pid && vid !== variationID) {\n      setVariationID(\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n          ?.variationID\n      );\n      setVariationSelected(\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n          ?.variationSelected\n      );\n    }\n  }, [orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]]);\n\n  useEffect(() => {\n    try {\n      // console.log(isWholesaleDataFetched);\n      if (\n        WWOF_Frontend_Options.wholesale_role !== \"\" &&\n        typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n        product.type === \"variable\" &&\n        typeof variationID !== \"undefined\" &&\n        variationID > 0 &&\n        variationSelected\n      ) {\n        const variations =\n          orderFormData?.formProducts?.[orderFormId]?.variations?.[product.id];\n\n        if (typeof variations !== \"undefined\" && variations.length > 0) {\n          // Set selected variation name\n          const variation = variations.find((variation: any) => {\n            return variation.id === variationID;\n          });\n\n          if (typeof variation?.wholesale_data === \"undefined\") {\n            setLoading(true);\n            getVariationWholesaleData({\n              wholesale_role: WWOF_Frontend_Options.wholesale_role,\n              orderFormId,\n              productID: parseInt(product.id),\n              variationID: parseInt(variationID),\n              successCB: (data: any) => {\n                setLoading(false);\n              },\n              failCB: () => {\n                setLoading(false);\n                console.log(\"error\");\n              }\n            });\n          }\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [variationID, variationSelected]);\n\n  useEffect(() => {\n    try {\n      if (\n        typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n        typeof product?.wholesale_data?.price_html !== \"undefined\" &&\n        WWOF_Frontend_Options.wholesale_role !== \"\"\n      ) {\n        setPriceHtml(product.wholesale_data.price_html);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [WWOF_Frontend_Options.wholesale_role]);\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n        product.type === \"variable\" &&\n        typeof selectedProduct?.variationID !== \"undefined\" &&\n        selectedProduct?.variationID > 0\n      ) {\n        const variationID = selectedProduct?.variationID;\n        const variations =\n          orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n            product.id\n          ];\n\n        if (\n          typeof variations !== \"undefined\" &&\n          Array.isArray(variations) &&\n          variations.length > 0 &&\n          variationID > 0\n        ) {\n          const variationData = variations.find((variation: any) => {\n            return variation.id === variationID;\n          });\n\n          if (\n            typeof variationData !== \"undefined\" &&\n            typeof variationData.wholesale_data !== \"undefined\"\n          ) {\n            let minOrderQty: any = \"\";\n            let orderQtyStep: any = \"\";\n\n            // Parent Min Order Qty and Step\n            if (\n              typeof product.wholesale_data !== \"undefined\" &&\n              typeof variationData.wholesale_data\n                .wholesale_minimum_order_quantity === \"undefined\" &&\n              typeof product.wholesale_data\n                .variable_level_wholesale_minimum_order_quantity !== \"undefined\"\n            ) {\n              // Parent Min Order Qty\n              if (\n                typeof product.wholesale_data\n                  .variable_level_wholesale_minimum_order_quantity[\n                  WWOF_Frontend_Options.wholesale_role\n                ] !== \"undefined\"\n              ) {\n                minOrderQty =\n                  '<span class=\"wholesale_price_minimum_order_quantity\" style=\"display: block\">Min: ' +\n                  product.wholesale_data\n                    .variable_level_wholesale_minimum_order_quantity[\n                    WWOF_Frontend_Options.wholesale_role\n                  ] +\n                  \"</span>\";\n              }\n\n              // Parent Order Step\n              if (\n                typeof product.wholesale_data\n                  .variable_level_wholesale_order_quantity_step !==\n                  \"undefined\" &&\n                typeof product.wholesale_data\n                  .variable_level_wholesale_order_quantity_step[\n                  WWOF_Frontend_Options.wholesale_role\n                ] !== \"undefined\"\n              ) {\n                orderQtyStep =\n                  '<span class=\"wholesale_price_order_quantity_step\" style=\"display: block;\">Increments of ' +\n                  product.wholesale_data\n                    .variable_level_wholesale_order_quantity_step[\n                    WWOF_Frontend_Options.wholesale_role\n                  ] +\n                  \"</span>\";\n              }\n            }\n\n            // Wholesale Price\n            if (typeof variationData.wholesale_data.price_html !== \"undefined\")\n              setPriceHtml(\n                variationData.wholesale_data.price_html +\n                  minOrderQty +\n                  orderQtyStep\n              );\n            else setPriceHtml(variationData.price_html || variationData.price); // Regular Price\n          } else if (typeof variationData !== \"undefined\") {\n            // Regular Price\n            if (typeof variationData.price !== \"undefined\")\n              setPriceHtml(variationData.price);\n            else setPriceHtml(variationData.price_html);\n          }\n        }\n      } else {\n        if (\n          typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n          typeof product.wholesale_data !== \"undefined\" &&\n          typeof product.wholesale_data.price_html !== \"undefined\" &&\n          WWOF_Frontend_Options.wholesale_role !== \"\"\n        ) {\n          setPriceHtml(product.wholesale_data.price_html);\n        } else {\n          setPriceHtml(product.price_html);\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [\n    orderFormData.formSelectedProducts[orderFormId],\n    orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[product.id]\n  ]);\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\"\n    }) || \"center\";\n\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const)\n  };\n\n  let showQuantityBasedTable = getPropValue({\n    formStyles,\n    item: itemId,\n    prop: \"showQuantityBasedPricing\"\n  });\n\n  if (showQuantityBasedTable === null) {\n    showQuantityBasedTable = true;\n  }\n\n  if (loading) return <Spin />;\n  return (\n    <div\n      className=\"item product-price\"\n      style={{ minWidth: \"150px\", ...alignmentCSS }}\n    >\n      {product.type !== \"variable\" ||\n      typeof orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n        product.id\n      ] !== \"undefined\" ? (\n        <div dangerouslySetInnerHTML={{ __html: priceHtml || \" \" }} />\n      ) : (\n        <div\n          dangerouslySetInnerHTML={{\n            __html: priceHtml\n          }}\n        />\n      )}\n\n      <DisplayQuantityBasedTable\n        {...props}\n        showQuantityBasedTable={showQuantityBasedTable}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData\n});\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      getVariationWholesaleData\n    },\n    dispatch\n  )\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(Price);\n","import { useState, useEffect } from \"react\";\nimport { Avatar } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { orderFormActions } from \"store/actions\";\n\nconst { setShowModal } = orderFormActions;\ndeclare var WWOF_Frontend_Options: any;\n\nconst ProductImage = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId,\n    actions\n  } = props;\n  const { setShowModal } = actions;\n\n  const [url, setUrl] = useState(\n    WWOF_Frontend_Options.product_image_placeholder\n  );\n\n  useEffect(() => {\n    try {\n      if (product.images.length > 0) {\n        setUrl(product.images[0][\"src\"]);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formPagination[orderFormId]]);\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        Object.keys(selectedProducts).length > 0\n      ) {\n        if (\n          typeof selectedProducts?.[product.id] !== \"undefined\" &&\n          product.type === \"variable\"\n        ) {\n          const variationID = selectedProducts?.[product.id][\"variationID\"];\n          const variations =\n            orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n              product.id\n            ];\n\n          if (\n            typeof variations !== \"undefined\" &&\n            Array.isArray(variations) &&\n            variations.length > 0 &&\n            variationID > 0\n          ) {\n            const variationData = variations.find((variation: any) => {\n              return variation.id === variationID;\n            });\n\n            if (typeof variationData !== \"undefined\") {\n              if (\n                typeof variationData.images !== \"undefined\" &&\n                variationData.images.length > 0\n              ) {\n                setUrl(variationData.images[0][\"src\"]);\n              } else if (\n                typeof variationData.image !== \"undefined\" &&\n                variationData.image !== null\n              ) {\n                setUrl(variationData.image[\"src\"]);\n              }\n            }\n          }\n        }\n      } else {\n        if (product.images.length > 0) {\n          setUrl(product.images[0][\"src\"]);\n        } else {\n          setUrl(\n            WWOF_Frontend_Options.site_url.split(/[?#]/)[0] +\n              \"/wp-content/uploads/woocommerce-placeholder-300x300.png\"\n          );\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\"\n    }) || \"center\";\n\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const)\n  };\n\n  const imageSize = getPropValue({\n    formStyles,\n    item: itemId,\n    prop: \"imageSize\"\n  }) || { width: 48, height: 48 };\n\n  const onClickAction =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"onClick\"\n    }) || \"show-product-details\";\n\n  let attributes = {};\n\n  // Check if we need to open it in new tab or redirect directly\n  if (onClickAction === \"navigate-to-product-page\") {\n    const openInNewTab =\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"openInNewTab\"\n      }) ?? true;\n\n    attributes = {\n      href: product.permalink,\n      target: openInNewTab ? \"_blank\" : \"_self\"\n    };\n  }\n\n  return (\n    <div\n      className=\"item product-image\"\n      style={{ minWidth: \"100px\", ...alignmentCSS }}\n    >\n      <a\n        style={{ height: \"auto\" }}\n        type=\"link\"\n        {...attributes}\n        onClick={(e: any) => {\n          if (\n            onClickAction === \"show-product-details\" ||\n            onClickAction === \"show-image-popup\"\n          ) {\n            setShowModal({\n              showModal: true,\n              modalProps: {\n                orderFormId,\n                product,\n                onClickAction\n              }\n            });\n          }\n        }}\n      >\n        <Avatar\n          src={url}\n          shape=\"square\"\n          style={{\n            width: imageSize.width + \"px\",\n            height: imageSize.height + \"px\"\n          }}\n        />\n      </a>\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators({ setShowModal }, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductImage);\n","import { FC } from 'react'\nimport { MehOutlined, SmileOutlined } from '@ant-design/icons'\n\nexport interface IStockAmount {\n  product: any,\n  stockAmount: number,\n  stockFormat: string,\n  i18nInStock: string,\n  i18nLowStock: string,\n  wcLowStockAmount?: number,\n}\n\nconst StockAmount: FC<IStockAmount> = ({\n  stockAmount,\n  stockFormat,\n  i18nLowStock,\n  i18nInStock,\n  product,\n  wcLowStockAmount = 2\n}) => {\n  switch (stockFormat) {\n    case 'low_amount':\n      if ((product.low_stock_amount >= stockAmount) || (wcLowStockAmount >= stockAmount)) {\n        return <><MehOutlined style={{ color: '#DBA617' }} /> {`${i18nLowStock.replace(\n          '%d',\n          `${stockAmount}`\n        )}`}</>\n      }\n      return <><SmileOutlined style={{ color: '#0F834D' }} /> {`${i18nInStock}`}</>\n    case 'no_amount':\n      return <><SmileOutlined style={{ color: '#0F834D' }} /> {`${i18nInStock}`}</>\n    case '':\n    default:\n      return <><SmileOutlined style={{ color: '#0F834D' }} /> {`${stockAmount} ${i18nInStock}`}</>\n  }\n}\n\nexport default StockAmount\n","import { useEffect, useState } from 'react'\nimport { FrownOutlined } from '@ant-design/icons'\nimport { connect } from 'react-redux'\nimport StockAmount from './StockAmount'\n\ndeclare var WWOF_Frontend_Options : any\n\nconst InStockAmount = (props : any) => {\n  const {\n          orderFormData,\n          orderFormId,\n          product,\n          getPropValue,\n          formStyles,\n          itemId,\n          inStockAmountStrings\n        } = props\n\n  const [stockQuantity, setStockQuantity] = useState(product.stock_quantity)\n  const [stockStatus, setStockStatus] = useState(product.stock_status)\n  const [backorders, setBackorders] = useState(product.backorders)\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n              orderFormData?.formSelectedProducts?.[orderFormId]\n      const selectedProduct = selectedProducts?.[product.id]\n\n      if (\n        typeof selectedProducts !== 'undefined' &&\n        Object.keys(selectedProducts).length > 0\n      ) {\n        if (\n          typeof selectedProduct !== 'undefined' &&\n          product.type === 'variable'\n        ) {\n          const variationID = selectedProduct?.['variationID']\n          const variations =\n                  orderFormData?.formProducts?.[orderFormId]?.['variations']?.[\n                    product.id\n                    ]\n\n          if (\n            typeof variations !== 'undefined' &&\n            Array.isArray(variations) &&\n            variations.length > 0 &&\n            variationID > 0\n          ) {\n            const variationData = variations.find((variation : any) => {\n              return variation.id === variationID\n            })\n\n            if (typeof variationData !== 'undefined') {\n              setStockQuantity(variationData.stock_quantity)\n              setStockStatus(variationData.stock_status)\n              setBackorders(variationData.backorders)\n            }\n          }\n        }\n      } else {\n        setStockQuantity(product.stock_quantity)\n        setStockStatus(product.stock_status)\n        setBackorders(product.backorders)\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]])\n\n  const alignment =\n          getPropValue({\n            formStyles,\n            item: itemId,\n            prop: 'justifyContent'\n          }) || 'center'\n  const alignmentCSS = {\n    textAlign:\n      alignment === 'flex-start'\n        ? ( 'left' as const )\n        : alignment === 'flex-end'\n          ? ( 'right' as const )\n          : ( 'center' as const )\n  }\n\n  return (\n    <div\n      className=\"item instock-amount\"\n      style={ { minWidth: '100px', ...alignmentCSS } }\n    >\n      { stockStatus === 'outofstock' ? (\n        <div>\n          <p className={ stockStatus }>\n            <FrownOutlined style={ { color: '#E2401C' } } />{ ' ' }\n            { inStockAmountStrings?.out_of_stock }\n          </p>\n        </div>\n      ) : (\n        <div>\n          {\n            (stockQuantity === null || stockQuantity === 0) && (backorders === 'notify' && stockStatus !== 'instock') ? (\n              <p className={stockStatus}>{inStockAmountStrings?.backorder}</p>\n            ) : null\n          }\n          { stockStatus === 'instock' && stockQuantity > 0 ? (\n            <p className={ stockStatus }>\n              <StockAmount\n                product={ product }\n                stockAmount={ stockQuantity }\n                stockFormat={ WWOF_Frontend_Options.woocommerce_stock_format }\n                i18nInStock={ inStockAmountStrings?.in_stock }\n                i18nLowStock={ inStockAmountStrings?.low_amount }\n                wcLowStockAmount={ WWOF_Frontend_Options.woocommerce_notify_low_stock_amount }\n              />\n            </p>\n          ) : null}\n        </div>\n      ) }\n    </div>\n  )\n}\n\nconst mapStateToProps = (store : any) => ( {\n  orderForm           : store.orderForm,\n  orderFormData       : store.orderFormData,\n  inStockAmountStrings: store.i18n.frontend.in_stock_amount\n} )\n\nexport default connect(mapStateToProps)(InStockAmount)\n","import { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nconst ProductSku = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId\n  } = props;\n\n  const [productSku, setProductSku] = useState(product.sku);\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        Object.keys(selectedProducts).length > 0\n      ) {\n        if (\n          typeof selectedProduct !== \"undefined\" &&\n          product.type === \"variable\"\n        ) {\n          const variationID = selectedProduct?.[\"variationID\"];\n          const variations =\n            orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n              product.id\n            ];\n\n          if (\n            typeof variations !== \"undefined\" &&\n            Array.isArray(variations) &&\n            variations.length > 0 &&\n            variationID > 0\n          ) {\n            const variationData = variations.find((variation: any) => {\n              return variation.id === variationID;\n            });\n\n            if (typeof variationData !== \"undefined\")\n              setProductSku(variationData.sku);\n            else {\n              setProductSku(product.sku);\n            }\n          } else {\n            setProductSku(product.sku);\n          }\n        }\n      } else {\n        setProductSku(product.sku);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\"\n    }) || \"center\";\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const)\n  };\n\n  return (\n    <div\n      className=\"item product-sku\"\n      style={{ minWidth: \"100px\", ...alignmentCSS }}\n    >\n      {productSku || \" \"}\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData\n});\n\nexport default connect(mapStateToProps)(ProductSku);\n","export const htmlDecode = (input: string) => {\n  var doc = new DOMParser().parseFromString(input, \"text/html\");\n  return doc.documentElement.textContent;\n};\n","import { List } from \"antd\";\n\n// This component is used when Show Variations Individually is enabled\n// NOTE: variation type only show when the option above is enabled\nexport default function VariationAttributes(props: any) {\n  const { product } = props;\n\n  if (product.type === \"variation\") {\n    const attributeNames = product.attributes.map((attributes: any) => {\n      return `<strong>${attributes.name}</strong>:  ${attributes.option}`;\n    });\n\n    return attributeNames.length === 0 ? (\n      <></>\n    ) : (\n      <List\n        className=\"wwof-variation-attributes\"\n        size=\"small\"\n        dataSource={attributeNames}\n        renderItem={(item: string) => (\n          <List.Item>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: item,\n              }}\n            ></div>\n          </List.Item>\n        )}\n      />\n    );\n  } else return <></>;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { orderFormActions } from \"store/actions\";\nimport { htmlDecode } from \"helpers/htmlDecode\";\nimport VariationAttributes from \"./shared/VariationAttributes\";\nimport DisplayVariationDropdown from \"./shared/DisplayVariationDropdown\";\n\nconst { setShowModal } = orderFormActions;\n\nconst ProductName = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId,\n    actions\n  } = props;\n\n  const { setShowModal } = actions;\n\n  const [productName, setProductName] = useState(product.name);\n\n  const formProductsVariations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"variations\"];\n\n  const variations = formProductsVariations?.[product.id];\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        Object.keys(selectedProducts).length > 0\n      ) {\n        const variationID = selectedProduct?.[\"variationID\"];\n\n        const variations =\n          orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n            product.id\n          ];\n\n        if (\n          typeof selectedProduct !== \"undefined\" &&\n          product.type === \"variable\" &&\n          typeof variations !== \"undefined\" &&\n          Array.isArray(variations) &&\n          variations.length > 0 &&\n          variationID > 0\n        ) {\n          const variationData = variations.find((variation: any) => {\n            return variation.id === variationID;\n          });\n\n          if (\n            typeof variationData !== \"undefined\" &&\n            typeof variationData.name !== \"undefined\"\n          )\n            setProductName(variationData.name);\n        }\n      } else {\n        setProductName(product.name);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\"\n    }) ?? \"center\";\n\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const)\n  };\n\n  const onClickAction =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"onClick\"\n    }) ?? \"show-product-details\";\n\n  const variationSelector =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"variationSelectorStyle\"\n    }) ?? \"combo\";\n\n  const displayVariationDropdown =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"displayVariationDropdown\"\n    }) ?? false;\n\n  let attributes = {};\n\n  // Check if we need to open it in new tab or redirect directly\n  if (onClickAction === \"navigate-to-product-page\") {\n    const openInNewTab =\n      getPropValue({\n        formStyles,\n        item: itemId,\n        prop: \"openInNewTab\"\n      }) ?? true;\n\n    attributes = {\n      href: product.permalink,\n      target: openInNewTab ? \"_blank\" : \"_self\"\n    };\n  }\n\n  return (\n    <div\n      className=\"item product-name\"\n      style={{\n        minWidth: \"200px\",\n        ...alignmentCSS,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: alignment\n      }}\n    >\n      <a\n        type=\"link\"\n        {...attributes}\n        className=\"product-name link\"\n        style={{ padding: \"0px\", fontWeight: 400, ...alignmentCSS }}\n        onClick={(e: React.SyntheticEvent<HTMLAnchorElement>) => {\n          if (onClickAction === \"show-product-details\") {\n            setShowModal({\n              showModal: true,\n              modalProps: {\n                orderFormId,\n                product,\n                onClickAction\n              }\n            });\n          }\n        }}\n      >\n        {htmlDecode(productName)}\n      </a>\n      <VariationAttributes product={product} />\n      {displayVariationDropdown === true ? (\n        <DisplayVariationDropdown\n          {...props}\n          variationSelector={variationSelector}\n          variations={variations}\n        />\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators({ setShowModal }, dispatch)\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductName);\n","import ComboVariationsDropdown from \"./shared/ComboVariationsDropdown\";\nimport StandardVariationsDropdown from \"./shared/StandardVariationsDropdown\";\n\nimport { connect } from \"react-redux\";\n// import { Spin } from \"antd\";\n\nconst VariationDropdown = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId\n  } = props;\n\n  const formProductsVariations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"variations\"];\n\n  const fetchingVariations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"fetchingVariations\"];\n\n  if (\n    product.type !== \"variable\" ||\n    typeof formProductsVariations === \"undefined\"\n  )\n    return <>&nbsp;</>;\n\n  const variations = formProductsVariations?.[product.id];\n\n  if (typeof variations === \"undefined\" || variations.length <= 0)\n    return <>&nbsp;</>;\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\"\n    }) || \"center\";\n\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const)\n  };\n\n  const variationSelector =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"variationSelectorStyle\"\n    }) || \"combo\";\n\n  return (\n    <>\n      <div className=\"item variation-dropdown\" style={{ ...alignmentCSS }}>\n        {variationSelector === \"combo\" ? (\n          <ComboVariationsDropdown {...props} variations={variations} />\n        ) : (\n          <StandardVariationsDropdown {...props} variations={variations} />\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  orderFormData: store.orderFormData,\n  formStyles: store.orderFormData.formStyles[props.orderFormId]\n});\n\nexport default connect(mapStateToProps)(VariationDropdown);\n","import { connect } from \"react-redux\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { orderFormActions } from \"store/actions\";\n\n// helper\nimport { htmlDecode } from \"helpers/htmlDecode\";\nimport { useEffect, useState } from \"react\";\n\nconst { setShowModal } = orderFormActions;\n\nexport interface IMetaData {\n  key: React.Key;\n  name: string;\n  meta_key: string;\n}\n\nconst DisplayMetaData = (props: any) => {\n  const { product, metaKeys } = props;\n\n  if (typeof metaKeys === \"undefined\" || metaKeys.length <= 0) return <></>;\n\n  let elements: React.ReactNode[] = [];\n\n  metaKeys.forEach((md: IMetaData, i: number) => {\n    let indexes: number[] = [];\n    product.meta_data.forEach((md2: any, j: number) => {\n      if (md2.key === md.meta_key) {\n        indexes.push(j);\n      }\n    });\n\n    if (indexes.length > 0) {\n      elements.push(\n        <span key={i} style={{ display: \"block\" }}>\n          <b>{md.name}</b>\n          {`: ${indexes.map(\n            (index: number) => \" \" + htmlDecode(product.meta_data[index].value)\n          )}`}\n        </span>\n      );\n    }\n  });\n\n  return <>{elements}</>;\n};\n\nconst ProductMeta = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    product,\n    getPropValue,\n    formStyles,\n    itemId,\n  } = props;\n\n  const [productMeta, setProductMeta] = useState(product.meta_data ?? []);\n\n  const alignment =\n    getPropValue({\n      formStyles,\n      item: itemId,\n      prop: \"justifyContent\",\n    }) || \"center\";\n\n  const alignmentCSS = {\n    textAlign:\n      alignment === \"flex-start\"\n        ? (\"left\" as const)\n        : alignment === \"flex-end\"\n        ? (\"right\" as const)\n        : (\"center\" as const),\n  };\n\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        Object.keys(selectedProducts).length > 0\n      ) {\n        const selectedVariation =\n          orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n            ?.variationID;\n\n        const variations =\n          orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n            product.id\n          ];\n\n        if (\n          typeof selectedVariation !== \"undefined\" &&\n          typeof variations !== \"undefined\"\n        ) {\n          const variationData = variations.find((variation: any) => {\n            return variation.id === selectedVariation;\n          });\n\n          if (\n            typeof variationData !== \"undefined\" &&\n            typeof variationData.meta_data !== \"undefined\"\n          ) {\n            setProductMeta(variationData.meta_data);\n          } else {\n            setProductMeta(product.meta_data);\n          }\n        }\n      } else {\n        setProductMeta(product.meta_data);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  return (\n    <div\n      className=\"item product-meta\"\n      style={{ minWidth: \"200px\", ...alignmentCSS }}\n    >\n      <DisplayMetaData\n        metaKeys={orderFormData?.formSettings?.[orderFormId]?.meta_data}\n        productMeta={productMeta}\n        product={product}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators({ setShowModal }, dispatch),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductMeta);\n","import AddToCartButton from \"./Elements/AddToCartButton\";\nimport AddToCartCheckbox from \"./Elements/AddToCartCheckbox\";\nimport QuantityInput from \"./Elements/QuantityInput\";\nimport ShortDescription from \"./Elements/ShortDescription\";\nimport Price from \"./Elements/Price\";\nimport ProductImage from \"./Elements/ProductImage\";\nimport InStockAmount from \"./Elements/InStockAmount\";\nimport ProductSku from \"./Elements/ProductSku\";\nimport ProductName from \"./Elements/ProductName\";\nimport VariationDropdown from \"./Elements/VariationDropdown\";\nimport ProductMeta from \"./Elements/ProductMeta\";\n\nconst PrintItem = (props: any) => {\n  const { itemId } = props;\n\n  const itemProps = { ...props };\n\n  const displayItem = (itemId: string) => {\n    switch (itemId) {\n      // Table Elements\n      case \"product-image\":\n        return <ProductImage {...itemProps} />;\n      case \"product-name\":\n        return <ProductName {...itemProps} />;\n      case \"sku\":\n        return <ProductSku {...itemProps} />;\n      case \"in-stock-amount\":\n        return <InStockAmount {...itemProps} />;\n      case \"price\":\n        return <Price {...itemProps} />;\n      case \"quantity-input\":\n        return <QuantityInput {...itemProps} />;\n      case \"add-to-cart-button\":\n        return <AddToCartButton {...itemProps} />;\n      case \"variation-dropdown\":\n        return <VariationDropdown {...itemProps} />;\n      case \"short-description\":\n        return <ShortDescription {...itemProps} />;\n      case \"add-to-cart-checkbox\":\n        return <AddToCartCheckbox {...itemProps} />;\n      case \"product-meta\":\n        return <ProductMeta {...itemProps} />;\n      default:\n        return <></>;\n    }\n  };\n\n  return <>{displayItem(itemId)}</>;\n};\n\nexport default PrintItem;\n","import { Thead, Tr, Th } from \"react-super-responsive-table\";\nimport { connect } from \"react-redux\";\n\nconst TableHeader = (props: any) => {\n  const {\n    getPropValue,\n    pageHasVariations,\n    formStyles,\n    formTable,\n    tableBodyStrings,\n  } = props;\n\n  if (typeof formTable.itemIds !== \"undefined\") {\n    const tableRows = formTable.itemIds.map((column: string, i: number) => {\n      switch (column) {\n        case \"product-image\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"product-name\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"sku\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"in-stock-amount\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"price\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"quantity-input\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"add-to-cart-button\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"variation-dropdown\":\n          let smartVisibility = getPropValue({\n            formStyles,\n            column,\n            prop: \"smartVisibility\",\n          });\n          if (smartVisibility === undefined || smartVisibility === null) {\n            smartVisibility = true;\n          }\n\n          if (!pageHasVariations && smartVisibility) {\n            return <Th key={i}>&nbsp;</Th>;\n          } else {\n            return (\n              <Th key={i} className=\"variation-dropdown\">\n                {getPropValue({\n                  formStyles,\n                  column,\n                  prop: \"columnHeading\",\n                }) || tableBodyStrings?.[column]}\n              </Th>\n            );\n          }\n\n        case \"product-meta\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        // case \"global-attribute\":\n        //   return (\n        //     <Th key={i}>\n        //       {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n        //         \"\"}\n        //     </Th>\n        //   );\n\n        case \"short-description\":\n          return (\n            <Th key={i}>\n              {getPropValue({ formStyles, column, prop: \"columnHeading\" }) ||\n                tableBodyStrings?.[column]}\n            </Th>\n          );\n\n        case \"add-to-cart-checkbox\":\n          return <Th key={i}>&nbsp;</Th>;\n\n        default:\n          return <Th key={i}>&nbsp;</Th>;\n      }\n    });\n    return (\n      <Thead>\n        <Tr>{tableRows}</Tr>\n      </Thead>\n    );\n  } else {\n    return <></>;\n  }\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  tableBodyStrings: store.i18n.frontend.table_column_headers,\n});\n\nexport default connect(mapStateToProps)(TableHeader);\n","import { useEffect, useState } from \"react\";\nimport { Tbody, Tr, Td } from \"react-super-responsive-table\";\nimport PrintItem from \"../PrintItem\";\nimport { connect } from \"react-redux\";\n\nconst TableBody = (props: any) => {\n  const {\n    orderFormId,\n    getPropValue,\n    pageHasVariations,\n    useStyleValue,\n    somethingChanged,\n    selectedAll,\n    formProducts,\n    formStyles,\n    formTable,\n    modalProps,\n    setModalProps,\n    tableBodyStrings,\n  } = props;\n\n  const [tableColumns, setTableColumns] = useState<JSX.Element[]>([]);\n\n  useEffect(() => {\n    if (formProducts.length > 0) {\n      let data = formProducts.map((product: any, i: number) => {\n        const printItemProps = {\n          orderFormId,\n          product,\n          getPropValue,\n          formStyles,\n          useStyleValue,\n        };\n\n        const tableRows = formTable.itemIds.map((column: string, j: number) => {\n          switch (column) {\n            case \"product-image\":\n              return (\n                <Td key={j}>\n                  <PrintItem\n                    {...printItemProps}\n                    itemId=\"product-image\"\n                    modalProps={modalProps}\n                    setModalProps={setModalProps}\n                  />\n                </Td>\n              );\n\n            case \"product-name\":\n              return (\n                <Td key={j}>\n                  <PrintItem\n                    {...printItemProps}\n                    itemId=\"product-name\"\n                    modalProps={modalProps}\n                    setModalProps={setModalProps}\n                  />\n                </Td>\n              );\n\n            case \"sku\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"sku\" />\n                </Td>\n              );\n\n            case \"in-stock-amount\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"in-stock-amount\" />\n                </Td>\n              );\n\n            case \"price\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"price\" />\n                </Td>\n              );\n\n            case \"quantity-input\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"quantity-input\" />\n                </Td>\n              );\n\n            case \"add-to-cart-button\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"add-to-cart-button\" />\n                </Td>\n              );\n\n            case \"variation-dropdown\":\n              let smartVisibility = getPropValue({\n                formStyles,\n                column,\n                prop: \"smartVisibility\",\n              });\n              if (smartVisibility === undefined || smartVisibility === null) {\n                smartVisibility = true;\n              }\n\n              if (!pageHasVariations && smartVisibility) {\n                return <Td key={i}>&nbsp;</Td>;\n              } else {\n                return (\n                  <Td key={j} className=\"variation-dropdown\">\n                    <b style={{ paddingBottom: \"8px\", display: \"block\" }}>\n                      {getPropValue({\n                        formStyles,\n                        column,\n                        prop: \"columnHeading\",\n                      }) || tableBodyStrings?.[column]}\n                      :\n                    </b>\n                    <PrintItem\n                      {...printItemProps}\n                      itemId=\"variation-dropdown\"\n                    />\n                  </Td>\n                );\n              }\n\n            case \"product-meta\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"product-meta\" />\n                </Td>\n              );\n\n            case \"global-attribute\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"global-attribute\" />\n                </Td>\n              );\n\n            case \"short-description\":\n              return (\n                <Td key={j}>\n                  <PrintItem {...printItemProps} itemId=\"short-description\" />\n                </Td>\n              );\n\n            case \"add-to-cart-checkbox\":\n              return (\n                <Td key={j}>\n                  <PrintItem\n                    {...printItemProps}\n                    selectedAll={selectedAll}\n                    somethingChanged={somethingChanged}\n                    itemId=\"add-to-cart-checkbox\"\n                  />\n                </Td>\n              );\n          }\n        });\n        return <Tr key={i}>{tableRows}</Tr>;\n      });\n      setTableColumns(data);\n    }\n  }, [formProducts, formTable, pageHasVariations, getPropValue]);\n\n  return <Tbody>{tableColumns}</Tbody>;\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  tableBodyStrings: store.i18n.frontend.table_column_headers,\n});\n\nexport default connect(mapStateToProps)(TableBody);\n","import { useEffect, useState } from \"react\";\nimport { Select } from \"antd\";\nimport { connect } from \"react-redux\";\n\nconst { Option } = Select;\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst SortableColumns = (props: any) => {\n  const {\n    formTable,\n    getPropValue,\n    formStyles,\n    fetchProducts,\n    orderFormData,\n    orderFormId,\n    setTableSorter,\n    tableColumnheadersStrings,\n    sortableColumnStrings,\n  } = props;\n  const [sortBy, setSortBy] = useState(\"\");\n  const [sortOrder, setSortOrder] = useState(\"\");\n\n  const [sortableColumns, setSortableColumns] = useState<string[]>([]);\n  const [sortOptions, setSortOptions] = useState<JSX.Element[]>([]);\n\n  useEffect(() => {\n    if (typeof formTable.itemIds !== \"undefined\") {\n      let columnsToSort: string[] = [];\n      formTable.itemIds.map((column: string) => {\n        let alignment =\n          getPropValue({\n            formStyles,\n            column,\n            prop: \"justifyContent\",\n          }) || \"center\";\n\n        alignment =\n          alignment === \"flex-start\"\n            ? \"left\"\n            : alignment === \"flex-end\"\n            ? \"right\"\n            : \"center\";\n\n        let sortable = getPropValue({ formStyles, column, prop: \"sortable\" });\n\n        if (sortable === null) sortable = true;\n\n        if (sortable && [\"product-name\", \"sku\", \"price\"].includes(column)) {\n          columnsToSort = [...columnsToSort, column];\n        }\n      });\n      setSortableColumns(columnsToSort);\n    }\n  }, [formTable]);\n\n  useEffect(() => {\n    let options: JSX.Element[] = sortableColumns.map(\n      (column: string, i: number) => {\n        return (\n          <Option value={column} key={i}>\n            {tableColumnheadersStrings?.[column]}\n          </Option>\n        );\n      }\n    );\n    setSortOptions(options);\n  }, [sortableColumns]);\n\n  useEffect(() => {\n    try {\n      if (sortBy !== \"\" && sortOrder !== \"\") {\n        try {\n          const sort_by = sortBy === \"product-name\" ? \"title\" : sortBy;\n          const active_page =\n            orderFormData?.formPagination?.[orderFormId]?.[\"active_page\"] ?? 1;\n          const per_page =\n            orderFormData?.formSettings?.[orderFormId]?.[\"products_per_page\"] ??\n            10;\n\n          const searchInput =\n            orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"searchInput\"] ??\n            \"\";\n\n          const selectedCategory =\n            orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\n              \"selectedCategory\"\n            ] ?? \"\";\n\n          setTableSorter({\n            [orderFormId]: {\n              ...orderFormData[\"formTableSorter\"][orderFormId],\n              sort_order: sortOrder,\n              sort_by,\n            },\n          });\n\n          fetchProducts({\n            orderFormData,\n            sort_order: sortOrder,\n            sort_by,\n            search: searchInput,\n            category: selectedCategory,\n            active_page,\n            searching: \"no\",\n            show_all: false,\n            attributes: { id: orderFormId },\n            wholesale_role: WWOF_Frontend_Options.wholesale_role,\n            per_page,\n            form_settings: orderFormData.formSettings[orderFormId],\n            uid: WWOF_Frontend_Options.uid,\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [sortBy, sortOrder]);\n\n  if (sortableColumns.length > 0)\n    return (\n      <div className=\"sortable-columns\" style={{ display: \"none\" }}>\n        <Select\n          size=\"large\"\n          placeholder={sortableColumnStrings?.sort_by}\n          filterOption={false}\n          notFoundContent={sortableColumnStrings?.sort_order}\n          allowClear={true}\n          onChange={(value: string) => {\n            setSortBy(value);\n          }}\n        >\n          {sortOptions}\n        </Select>\n        <Select\n          size=\"large\"\n          placeholder={sortableColumnStrings?.sort_order}\n          filterOption={false}\n          notFoundContent={sortableColumnStrings?.no_results}\n          allowClear={true}\n          onChange={(value: string) => {\n            setSortOrder(value);\n          }}\n        >\n          <Option value=\"desc\">{sortableColumnStrings?.desc}</Option>\n          <Option value=\"asc\">{sortableColumnStrings?.asc}</Option>\n        </Select>\n      </div>\n    );\n  else return <></>;\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  tableColumnheadersStrings: store.i18n.frontend.table_column_headers,\n  sortableColumnStrings: store.i18n.frontend.responsive_table.sortable_column,\n});\n\nexport default connect(mapStateToProps)(SortableColumns);\n","import { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\nimport { Skeleton } from \"antd\";\n\nconst TableSkeleton = (props: any) => {\n  const tbody = [1, 2, 3].map((n: number) => {\n    return (\n      <Tr key={n}>\n        <Td>\n          <Skeleton active paragraph={{ rows: 1 }} />\n        </Td>\n        <Td>\n          <Skeleton.Avatar active shape=\"square\" size={48} />\n        </Td>\n        <Td>\n          <Skeleton active paragraph={{ rows: 1 }} />\n        </Td>\n        <Td>\n          <Skeleton.Button active size=\"large\" />\n        </Td>\n      </Tr>\n    );\n  });\n  return (\n    <div className=\"table-skeleton\" style={{ display: \"none\" }}>\n      <div\n        style={{\n          display: \"flex\",\n          gap: \"8px\",\n          flexDirection: \"column\",\n          padding: \"4px\",\n          marginBottom: \"10px\",\n        }}\n      >\n        <Skeleton.Input style={{ width: \"100%\" }} active size=\"large\" />\n        <Skeleton.Input style={{ width: \"100%\" }} active size=\"large\" />\n        <Skeleton active paragraph={{ rows: 1 }} />\n      </div>\n\n      <Table className=\"order-form-responsive-table loading\">\n        <Thead>\n          <Tr>\n            <Th>\n              <Skeleton.Button active size=\"small\" />\n            </Th>\n            <Th>\n              <Skeleton.Button active size=\"small\" />\n            </Th>\n            <Th>\n              <Skeleton.Button active size=\"small\" />\n            </Th>\n            <Th>\n              <Skeleton.Button active size=\"small\" />\n            </Th>\n          </Tr>\n        </Thead>\n        <Tbody>{tbody}</Tbody>\n      </Table>\n    </div>\n  );\n};\nexport default TableSkeleton;\n","import { Checkbox } from \"antd\";\nimport { connect } from \"react-redux\";\n\nconst SelectAll = (props: any) => {\n  const {\n    selected,\n    setSelectedAll,\n    selectedAll,\n    setSomethingChanged,\n    formTable,\n    responsiveTableStrings,\n  } = props;\n\n  return formTable?.itemIds?.length > 0 &&\n    formTable.itemIds.includes(\"add-to-cart-checkbox\") ? (\n    <div className=\"select-all\" style={{ display: \"none\" }}>\n      <Checkbox\n        style={{ fontSize: \"18px\" }}\n        checked={selected}\n        onChange={() => {\n          setSelectedAll(!selectedAll);\n          setSomethingChanged(true);\n        }}\n      >\n        {responsiveTableStrings?.select_all}\n      </Checkbox>\n    </div>\n  ) : (\n    <></>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  responsiveTableStrings: store.i18n.frontend.responsive_table,\n});\n\nexport default connect(mapStateToProps)(SelectAll);\n","import { Table } from \"react-super-responsive-table\";\nimport \"react-super-responsive-table/dist/SuperResponsiveTableStyle.css\";\nimport TableHeader from \"./TableHeader\";\nimport TableBody from \"./TableBody\";\nimport SortableColumns from \"./SortableColumns\";\nimport TableSkeleton from \"./TableSkeleton\";\nimport SelectAll from \"./SelectAll\";\n\nconst ResponsiveTable = (props: any) => {\n  const { fetching, orderFormId } = props;\n\n  if (fetching) {\n    return (\n      <div className=\"responsive-table-wrapper\">\n        <TableSkeleton />\n      </div>\n    );\n  } else {\n    return (\n      <div\n        className={`responsive-table-wrapper order-form-table-${orderFormId}`}\n      >\n        <SortableColumns {...props} />\n        <SelectAll {...props} />\n        <Table\n          className={`order-form-responsive-table loaded`}\n          style={{ display: \"none\" }}\n        >\n          <TableHeader {...props} />\n          <TableBody {...props} />\n        </Table>\n        <SelectAll {...props} />\n      </div>\n    );\n  }\n};\n\nexport default ResponsiveTable;\n","import { useState, useEffect } from \"react\";\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import ComboVariationsDropdown from \"../shared/ComboVariationsDropdown\";\nimport StandardVariationsDropdown from \"../shared/StandardVariationsDropdown\";\nimport { Spin } from \"antd\";\n\nconst DisplayVariations = (props: any) => {\n  const { orderFormData, orderFormId, product, getPropValue } = props;\n\n  if (product.type !== \"variable\") return <></>;\n\n  const fetchingVariations =\n    orderFormData?.formProducts?.[orderFormId]?.[\"fetchingVariations\"];\n\n  const variations =\n    orderFormData.formProducts[orderFormId][\"variations\"][product.id];\n  const formStyles = orderFormData.formStyles[orderFormId];\n\n  if (variations === undefined || variations.length <= 0) return <></>;\n\n  const variationSelector =\n    getPropValue({\n      formStyles,\n      item: \"variation-dropdown\",\n      prop: \"variationSelectorStyle\"\n    }) || \"combo\";\n\n  const sharedProps = {\n    ...props,\n    variations\n  };\n\n  return fetchingVariations === true ? (\n    <Spin />\n  ) : (\n    <div style={{ margin: \"1rem 0rem\", display: \"grid\" }}>\n      {variationSelector === \"combo\" ? (\n        <ComboVariationsDropdown {...sharedProps} />\n      ) : (\n        <StandardVariationsDropdown {...sharedProps} />\n      )}\n    </div>\n  );\n};\n\nexport default DisplayVariations;\n","import { useState, useEffect, useRef, useCallback } from \"react\";\nimport { InputNumber, Button, Popover } from \"antd\";\nimport { FrownOutlined, SmileOutlined } from \"@ant-design/icons\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { productListActions, orderFormDataActions } from \"store/actions\";\nimport { addProductToCart } from \"helpers/addProductToCart\";\nimport quantityRestrictionPopover from \"helpers/quantityRestrictionPopover\";\nimport { getProductMinQtyAndStep } from \"helpers/getProductMinQtyAndStep\";\n\nconst { setSelectedProductsToAddToCart, setCartSubtotal } =\n  orderFormDataActions;\nconst { addProductToCartAction } = productListActions;\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst AddToCart = (props: any) => {\n  const {\n    orderFormId,\n    product,\n    actions,\n    selectedVariation,\n    orderFormData,\n    getPropValue,\n    formStyles,\n    showModal,\n    productModalStrings\n  } = props;\n\n  const [stockQuantity, setStockQuantity] = useState(product.stock_quantity);\n  const [stockStatus, setStockStatus] = useState(product.stock_status);\n  const [backorders, setBackorders] = useState(product.backorders);\n\n  const [quantity, setQuantity] = useState(1);\n  const [quantityStep, setQuantityStep] = useState(1);\n  const addToCartBtnRef = useRef<HTMLButtonElement>(null);\n\n  // Popover\n  const [popoverVisibility, setPopoverVisibility] = useState(false);\n  const [popoverContent, setPopoverContent] = useState(\"\");\n\n  const decimalQuantity =\n    getPropValue({\n      formStyles,\n      item: \"quantity-input\",\n      prop: \"decimalQuantity\"\n    }) ?? false;\n\n  const setQuantities = () => {\n    if (\n      typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n      WWOF_Frontend_Options.wholesale_role !== \"\"\n    ) {\n      let selectedProduct =\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id];\n\n      if (typeof selectedProduct !== \"undefined\") {\n        // Min Quantity and Step\n        const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n          ...selectedProduct\n        });\n        setQuantity(selectedProduct?.quantity ?? minOrderQty);\n        setQuantityStep(orderQtyStep);\n      } else {\n        // Min Quantity and Step\n        const { minOrderQty, orderQtyStep } = getProductMinQtyAndStep({\n          productType: product.type,\n          wholesaleData:\n            typeof product.wholesale_data !== \"undefined\"\n              ? product.wholesale_data\n              : [],\n          variationData: [],\n          variationID: 0\n        });\n\n        setQuantity(minOrderQty);\n        setQuantityStep(orderQtyStep);\n      }\n    } else {\n      let selectedProduct =\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id];\n\n      if (\n        typeof selectedProduct?.quantity !== \"undefined\" &&\n        selectedProduct.quantity !== quantity\n      ) {\n        setQuantity(selectedProduct.quantity);\n      }\n    }\n  };\n\n  // When variation is selected update set stock qty, stock status, backorder\n  useEffect(() => {\n    try {\n      setQuantities();\n\n      let selectedProductVariationID =\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]\n          ?.variationID;\n      let formProductVariations =\n        orderFormData?.formProducts?.[orderFormId]?.variations?.[product.id];\n\n      if (\n        product.type === \"variable\" &&\n        typeof selectedProductVariationID !== \"undefined\" &&\n        typeof formProductVariations !== \"undefined\"\n      ) {\n        let vdata = formProductVariations.find((data: any) => {\n          return data.id === selectedProductVariationID;\n        });\n\n        if (typeof vdata !== \"undefined\") {\n          setStockQuantity(vdata.stock_quantity);\n          setStockStatus(vdata.stock_status);\n          setBackorders(vdata.backorders);\n        }\n      } else {\n        setStockQuantity(product.stock_quantity);\n        setStockStatus(product.stock_status);\n        setBackorders(product.backorders);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id]]);\n\n  useEffect(() => {\n    try {\n      setQuantities();\n      if (showModal === false) {\n        setPopoverVisibility(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [showModal]);\n\n  const onQuantityChange = (quantity: number) => {\n    try {\n      let popover = quantityRestrictionPopover({ ...props, quantity });\n\n      if (typeof popover !== \"undefined\") {\n        setPopoverVisibility(popover.visible);\n        setPopoverContent(popover.content);\n      }\n\n      let inputQuantity = quantity;\n\n      // If Decimal Quantity is not enabled.\n      // By default Decimal quantity is not allowed.\n      if (!decimalQuantity) {\n        inputQuantity = Math.round(quantity);\n      }\n\n      setQuantity(inputQuantity);\n\n      let selectedProduct =\n        orderFormData?.formSelectedProducts?.[orderFormId]?.[product.id];\n\n      if (typeof selectedProduct !== \"undefined\") {\n        // If we have this data in redux state then update quantity\n        actions.setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...orderFormData.formSelectedProducts[orderFormId],\n            [product.id]: {\n              ...selectedProduct,\n              quantity: inputQuantity\n            }\n          }\n        });\n      } else {\n        // Else add these data\n        actions.setSelectedProductsToAddToCart({\n          [orderFormId]: {\n            ...orderFormData.formSelectedProducts[orderFormId],\n            [product.id]: {\n              productID: product.id,\n              productTitle: product.name,\n              productType: product.type,\n              quantity: inputQuantity,\n              stockStatus: product.stock_status,\n              wholesaleData:\n                product.type === \"simple\" &&\n                typeof product.wholesale_data !== \"undefined\"\n                  ? product.wholesale_data\n                  : []\n            }\n          }\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div style={{ margin: \"1rem 0px\" }} className=\"add-to-cart\">\n      {stockStatus === \"outofstock\" && backorders === \"no\" ? (\n        <>\n          <div className=\"quantity add-to-cart\">\n            <div className=\"stock-status\">\n              <span className={stockStatus}>\n                <FrownOutlined style={{ color: \"#e2401c\" }} />{\" \"}\n                {productModalStrings?.out_of_stock}\n              </span>\n            </div>\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"input-quantity add-to-cart\">\n            <Popover\n              content={\n                <>\n                  <p\n                    dangerouslySetInnerHTML={{\n                      __html: popoverContent\n                    }}\n                  />\n                  <Button onClick={() => setPopoverVisibility(false)}>\n                    {productModalStrings?.close}\n                  </Button>\n                </>\n              }\n              title={productModalStrings?.quantity_restriction}\n              visible={popoverVisibility}\n            >\n              <InputNumber\n                size=\"large\"\n                min={0}\n                step={quantityStep}\n                defaultValue={1}\n                value={quantity}\n                onChange={(quantity: any) => onQuantityChange(quantity)}\n              />\n            </Popover>\n            <Button\n              size=\"large\"\n              ref={addToCartBtnRef}\n              type=\"primary\"\n              onClick={(e: any) => {\n                addProductToCart({ ...props, addToCartBtnRef });\n              }}\n            >\n              {productModalStrings?.add_to_cart_text}\n            </Button>{\" \"}\n            {stockQuantity === 0 && backorders === \"notify\" ? (\n              <div className=\"stock-status\">\n                <span className={stockStatus}>\n                  {productModalStrings?.backorder}\n                </span>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {stockStatus === \"instock\" && stockQuantity > 0 ? (\n              <div className=\"stock-status\">\n                <span className={stockStatus}>\n                  <SmileOutlined style={{ color: \"#0f834d\" }} /> {stockQuantity}{\" \"}\n                  {productModalStrings?.in_stock}\n                </span>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {stockStatus === \"onbackorder\" && stockQuantity > 0 && backorders === \"notify\" ? (\n              <div className=\"stock-status\">\n                <span className={stockStatus}>\n                  <SmileOutlined style={{ color: \"#0f834d\" }} /> {stockQuantity}{\" \"}\n                  {productModalStrings?.in_stock}\n                </span>\n              </div>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  addProductToCartStrings: store.i18n.frontend.add_product_to_cart,\n  qtyRestrictionStrings: store.i18n.frontend.quantity_restriction_popover,\n  productModalStrings: store.i18n.frontend.product_modal.add_to_cart\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      setSelectedProductsToAddToCart,\n      addProductToCartAction,\n      setCartSubtotal\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToCart);\n","import { Tag } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { htmlDecode } from \"helpers/htmlDecode\";\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst Categories = (props: any) => {\n  const { product, categoriesStrings } = props;\n\n  if (product.categories.length <= 0) return <></>;\n\n  const tags = product.categories.map((cat: any, key: number) => {\n    return (\n      <Tag\n        style={{ cursor: \"pointer\", padding: \"4px 6px\" }}\n        key={key}\n        onClick={() => {\n          window.location.href =\n            WWOF_Frontend_Options.site_url.split(/[?#]/)[0] +\n            \"/\" +\n            WWOF_Frontend_Options.category_base +\n            \"/\" +\n            cat.slug;\n        }}\n      >\n        {htmlDecode(cat.name)}\n      </Tag>\n    );\n  });\n\n  return (\n    <div className=\"categories\">\n      <span>{categoriesStrings?.category}:</span> {tags}\n    </div>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  categoriesStrings: store.i18n.frontend.product_modal,\n});\n\nexport default connect(mapStateToProps)(Categories);\n","import { Image } from \"antd\";\nimport ImageGallery from \"react-image-gallery\";\nimport \"react-image-gallery/styles/css/image-gallery.css\";\n\nconst ProductImages = (props: any) => {\n  const { product, imageUrl } = props;\n\n  const gallery = product.images.map((image: any, key: number) => {\n    return {\n      original: image.src,\n      thumbnail: image.src,\n      originalAlt: image.name,\n      thumbnailAlt: image.name,\n    };\n  });\n\n  if (product.images.length > 0)\n    return (\n      <div className=\"images\">\n        <ImageGallery\n          items={gallery}\n          showNav={false}\n          showThumbnails={true}\n          useTranslate3D={false}\n          showBullets={true}\n          showIndex={true}\n          autoPlay={true}\n          slideInterval={5000}\n        />\n      </div>\n    );\n  else\n    return (\n      <Image\n        src={imageUrl}\n        style={{\n          margin: \"1rem 0rem\",\n          cursor: product.images.length ? \"pointer\" : \"\",\n        }}\n        preview={product.images.length <= 0 ? false : true}\n      />\n    );\n};\n\nexport default ProductImages;\n","import { useState, useEffect } from \"react\";\nimport { Modal, Row, Col } from \"antd\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormActions } from \"store/actions\";\nimport DisplayVariations from \"./DisplayVariations\";\nimport AddToCart from \"./AddToCart\";\nimport DisplayQuantityBasedTable from \"../shared/DisplayQuantityBasedTable\";\nimport Categories from \"./Categories\";\nimport ProductImages from \"./ProductImages\";\nimport VariationAttributes from \"../shared/VariationAttributes\";\nimport { FrownOutlined } from \"@ant-design/icons\";\n\nconst { setShowModal } = orderFormActions;\ndeclare var WWOF_Frontend_Options: any;\n\nconst Display = (props: any) => {\n  const { value } = props;\n  if (value) {\n    return (\n      <p\n        style={{ fontSize: \"16px\" }}\n        dangerouslySetInnerHTML={{\n          __html: value,\n        }}\n      ></p>\n    );\n  } else return <></>;\n};\n\nconst ProductModal = (props: any) => {\n  const {\n    orderFormData,\n    orderFormId,\n    orderFormIdOrigin,\n    product,\n    showModal,\n    onClickAction,\n    getPropValue,\n    actions,\n    productModalStrings,\n  } = props;\n\n  const { setShowModal } = actions;\n  const { unavailable } = productModalStrings;\n\n  if (!showModal || orderFormId !== orderFormIdOrigin) return <></>;\n\n  const [selectedVariation, setSelectedVariation] = useState(0);\n  const [productName, setProductName] = useState(product.name);\n  const [imageUrl, setImageUrl] = useState(\n    WWOF_Frontend_Options.site_url.split(/[?#]/)[0] +\n      \"/wp-content/uploads/woocommerce-placeholder-300x300.png\"\n  );\n  const [priceHtml, setPriceHtml] = useState(product.price_html);\n  const [shortDescription, setShortDescription] = useState(\n    product.short_description\n  );\n  const [description, setDescription] = useState(product.description);\n\n  const extraProps = {\n    ...props,\n    selectedVariation,\n    setSelectedVariation,\n    formStyles: orderFormData?.formStyles?.[orderFormId],\n  };\n\n  // Set selected variation\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      const selectedProduct = selectedProducts?.[product.id];\n\n      if (\n        typeof selectedProduct !== \"undefined\" &&\n        typeof selectedProduct?.variationID !== \"undefined\"\n      ) {\n        setSelectedVariation(selectedProduct.variationID);\n      } else {\n        setSelectedVariation(0);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts[orderFormId]]);\n\n  useEffect(() => {\n    try {\n      const formProductVariations =\n        orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n          product.id\n        ];\n\n      if (\n        selectedVariation > 0 &&\n        typeof formProductVariations !== \"undefined\"\n      ) {\n        const variation = formProductVariations.find((variation: any) => {\n          return variation.id === selectedVariation;\n        });\n\n        if (typeof variation !== \"undefined\") {\n          setProductName(\n            typeof variation.name !== \"undefined\"\n              ? variation.name\n              : product.name\n          );\n\n          if (\n            typeof variation?.images !== \"undefined\" &&\n            variation?.images?.length > 0\n          ) {\n            setImageUrl(variation.images[0][\"src\"]);\n          } else if (\n            typeof variation.image !== \"undefined\" &&\n            variation.image !== null\n          ) {\n            setImageUrl(variation.image[\"src\"]);\n          }\n\n          if (typeof variation?.wholesale_data?.price_html !== \"undefined\") {\n            let minOrderQty: any = \"\";\n            let orderQtyStep: any = \"\";\n\n            // Parent Min Order Qty and Step\n            if (\n              typeof product.wholesale_data !== \"undefined\" &&\n              typeof variation.wholesale_data\n                .wholesale_minimum_order_quantity === \"undefined\" &&\n              typeof product.wholesale_data\n                .variable_level_wholesale_minimum_order_quantity !== \"undefined\"\n            ) {\n              // Parent Min Order Qty\n              if (\n                typeof product.wholesale_data\n                  .variable_level_wholesale_minimum_order_quantity[\n                  WWOF_Frontend_Options.wholesale_role\n                ] !== \"undefined\"\n              ) {\n                minOrderQty =\n                  '<span class=\"wholesale_price_minimum_order_quantity\" style=\"display: block\">Min: ' +\n                  product.wholesale_data\n                    .variable_level_wholesale_minimum_order_quantity[\n                    WWOF_Frontend_Options.wholesale_role\n                  ] +\n                  \"</span>\";\n              }\n\n              // Parent Order Step\n              if (\n                typeof product.wholesale_data\n                  .variable_level_wholesale_order_quantity_step !==\n                  \"undefined\" &&\n                typeof product.wholesale_data\n                  .variable_level_wholesale_order_quantity_step[\n                  WWOF_Frontend_Options.wholesale_role\n                ] !== \"undefined\"\n              ) {\n                orderQtyStep =\n                  '<span class=\"wholesale_price_order_quantity_step\" style=\"display: block;\">Increments of ' +\n                  product.wholesale_data\n                    .variable_level_wholesale_order_quantity_step[\n                    WWOF_Frontend_Options.wholesale_role\n                  ] +\n                  \"</span>\";\n              }\n            }\n            setPriceHtml(\n              variation.wholesale_data.price_html + minOrderQty + orderQtyStep\n            );\n          } else setPriceHtml(variation.price_html || variation.price);\n\n          setShortDescription(variation.short_description || \"\");\n\n          setDescription(variation.description || \"\");\n        }\n      } else {\n        setProductName(product.name);\n\n        if (product.images.length > 0) {\n          setImageUrl(product.images[0][\"src\"]);\n        } else {\n          setImageUrl(\n            WWOF_Frontend_Options.site_url.split(/[?#]/)[0] +\n              \"/wp-content/uploads/woocommerce-placeholder-300x300.png\"\n          );\n        }\n\n        if (\n          typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" &&\n          typeof product.wholesale_data !== \"undefined\" &&\n          typeof product.wholesale_data.price_html !== \"undefined\" &&\n          WWOF_Frontend_Options.wholesale_role !== \"\"\n        ) {\n          setPriceHtml(product.wholesale_data.price_html);\n        } else {\n          setPriceHtml(product.price_html || product.price);\n        }\n\n        setShortDescription(product.short_description || \"\");\n\n        setDescription(product.description || \"\");\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [selectedVariation]);\n\n  let showQuantityBasedTable = getPropValue({\n    formStyles: orderFormData.formStyles,\n    item: \"price\",\n    prop: \"showQuantityBasedPricing\",\n  });\n\n  if (showQuantityBasedTable === null) {\n    showQuantityBasedTable = true;\n  }\n\n  return (\n    <Modal\n      className=\"responsive-modal\"\n      title=\"\"\n      visible={showModal}\n      onCancel={() => {\n        setShowModal({\n          showModal: false,\n          modalProps: {\n            product: [],\n            onClickAction: \"\",\n          },\n        });\n      }}\n      width={onClickAction === \"show-image-popup\" ? \"350px\" : \"900px\"}\n      footer={null}\n    >\n      {onClickAction === \"show-image-popup\" ? (\n        <ProductImages product={product} imageUrl={imageUrl} />\n      ) : (\n        <Row>\n          <Col md={8} style={{ paddingRight: \"1rem\" }}>\n            <ProductImages product={product} imageUrl={imageUrl} />\n          </Col>\n          <Col md={16} style={{ paddingRight: \"1rem\" }}>\n            {/* Product Name */}\n            <h2>{productName}</h2>\n\n            {/* If Not Variable or if variable and have variations then display data else display unavailable text */}\n            {product.type !== \"variable\" ||\n            typeof orderFormData?.formProducts?.[orderFormId]?.[\"variations\"]?.[\n              product.id\n            ] !== \"undefined\" ? (\n              <>\n                {/* Product Attributes */}\n                <VariationAttributes product={product} />\n                {/* Product Price */}\n                <div style={{ textAlign: \"justify\" }}>\n                  <Display value={priceHtml} />\n                  <Display value={shortDescription} />\n                  <Display value={description} />\n                </div>\n                {/* Product Price */}\n                <DisplayVariations {...props} {...extraProps} />\n                {/* Product Quantity Based Discoutn */}\n                <DisplayQuantityBasedTable\n                  {...props}\n                  showQuantityBasedTable={showQuantityBasedTable}\n                />\n                <AddToCart {...props} {...extraProps} />\n              </>\n            ) : (\n              <>\n                {typeof WWOF_Frontend_Options.wholesale_role !== \"undefined\" ? (\n                  <Display value={priceHtml} />\n                ) : (\n                  <></>\n                )}\n                <div className=\"stock-status\" style={{ margin: \"1rem 0px\" }}>\n                  <span className={product?.stock_status ?? \"stock\"}>\n                    <FrownOutlined style={{ color: \"#e2401c\" }} /> {unavailable}\n                  </span>\n                </div>\n              </>\n            )}\n            <Categories {...props} />\n          </Col>\n        </Row>\n      )}\n    </Modal>\n  );\n};\n\nconst mapStateToProps = (store: any) => ({\n  showModal: store.orderForm.showModal,\n  orderFormIdOrigin: store.orderForm.modalProps.orderFormId,\n  product: store.orderForm.modalProps.product,\n  onClickAction: store.orderForm.modalProps.onClickAction,\n  orderFormData: store.orderFormData,\n  productModalStrings: store.i18n.frontend.product_modal,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators({ setShowModal }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductModal);\n","// Randomly generate a unique string id\nconst generateId = (length: number = 4) => {\n  var result: string = \"\";\n  var characters: string =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  var charactersLength: number = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport default generateId;\n","import { useState, useEffect, createRef, useCallback } from \"react\";\nimport { Table, Checkbox, Spin } from \"antd\";\nimport PrintItem from \"./PrintItem\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { orderFormDataActions, orderFormActions } from \"store/actions/\";\nimport ResponsiveTable from \"./ResponsiveTable\";\nimport useWindowDimensions from \"helpers/useWindowDimensions\";\nimport useFormTableData from \"helpers/useFormTableData\";\nimport ProductModal from \"./Elements/ProductModal\";\nimport generateId from \"helpers/generateId\";\n\nconst {\n  fetchProducts,\n  fetchVariations,\n  lazyLoadProducts,\n  lazyLoadVariations,\n  getVariationsWholesaleData\n} = orderFormActions;\nconst { updateSelectedProducts, setTableSorter } = orderFormDataActions;\n\ndeclare var WWOF_Frontend_Options: any;\ndeclare var window: any;\n\nconst useStyleValue = (style: any) => {\n  let val = \"auto\";\n\n  if (style === \"\") return val;\n\n  if (style.type === \"auto\" || style.type === \"inherit\") return val;\n\n  if (style.value !== undefined)\n    return style.type === \"pixels\" ? style.value + \"px\" : style.value + \"%\";\n\n  return val;\n};\n\nexport const getPropValue = (props: any) => {\n  const { formStyles, item, prop } = props;\n\n  const propValue = formStyles?.[item]?.[\"props\"]?.[prop];\n\n  return typeof propValue !== \"undefined\" ? propValue : null;\n};\n\nconst FormTable = (props: any) => {\n  const {\n    orderFormId,\n    orderFormData,\n    actions,\n    formTableStrings,\n    formTableSortText,\n    formTableText\n  } = props;\n  const {\n    updateSelectedProducts,\n    fetchProducts,\n    fetchVariations,\n    lazyLoadProducts,\n    lazyLoadVariations,\n    setTableSorter,\n    getVariationsWholesaleData\n  } = actions;\n\n  const [selectedAll, setSelectedAll] = useState(false);\n  const [selected, setSelected] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [somethingChanged, setSomethingChanged] = useState(false);\n  const [pageHasVariations, setPageHasVariations] = useState(false);\n\n  // Responsive width\n  const { width } = useWindowDimensions();\n\n  // Lazy Load\n  const [loadMore, setLoadMore] = useState(false);\n  const [fetchingLazyLoadedVariations, setFetchingLazyLoadedVariations] =\n    useState(false);\n\n  const orderFormTableWrapper = createRef<HTMLDivElement>();\n  const [loadMoreWidth, setLoadMoreWidth] = useState(0);\n  const [isLazyLoadEnabled, setIsLazyLoadEnabled] = useState(false);\n\n  const [dataSource, setDataSource] = useState([]);\n  const [widthType, setWidthType] = useState(\"\");\n  const [tableCSS, setTableCSS] = useState({});\n  const [tableProps, setTableProps] = useState({});\n  const [tableColumns, setTableColumns] = useState([]);\n\n  // Form Products Data\n  const {\n    fetching,\n    fetchingVariations,\n    formProducts,\n    formVariations,\n    formLazyLoadVariationsData,\n    formStyles,\n    formTable,\n    formSettings\n  } = useFormTableData({\n    orderFormData,\n    orderFormId\n  });\n\n  useEffect(() => {\n    const lazyLoading =\n      orderFormData?.formSettings?.[orderFormId]?.[\"lazy_loading\"];\n\n    if (typeof lazyLoading !== \"undefined\") {\n      setIsLazyLoadEnabled(lazyLoading);\n    }\n  }, [orderFormData.formSettings]);\n\n  // Get form table wrapper width and assign to the loader width. In case the table width is full or auto loader should follow the width.\n  useEffect(() => {\n    if (orderFormTableWrapper.current !== null) {\n      setLoadMoreWidth(orderFormTableWrapper.current.clientWidth);\n    }\n  }, [orderFormTableWrapper]);\n\n  // Lazy load on scroll - Load more products when the last row of the table is visible on the screen\n  const handleScroll = useCallback(() => {\n    const tableWrapper: any = document.querySelector(\n      \".order-form-table-\" + orderFormId\n    );\n\n    const lastRow: any = document.querySelector(\n      \".order-form-table-\" + orderFormId + \" table tbody tr:last-child\"\n    );\n\n    if (tableWrapper !== null && lastRow !== null) {\n      var position = lastRow.getBoundingClientRect();\n      // Last row is visible on screen. Trigger loading more products.\n      if (position.top < window.innerHeight && position.bottom >= 0) {\n        // Form Settings\n        const formSettings = orderFormData?.formSettings?.[orderFormId];\n\n        // Form Sorter\n        const formTableSorter = orderFormData?.formTableSorter?.[orderFormId];\n        const sort_order =\n          formTableSorter?.sort_order ?? formSettings?.sort_order;\n        const sort_by = formTableSorter?.sort_by ?? formSettings?.sort_by;\n\n        // Form Filters\n        const formFilters = orderFormData?.formFilters?.[orderFormId];\n        const searchInput = formFilters?.searchInput ?? \"\";\n\n        const activePage =\n          orderFormData?.formPagination?.[orderFormId]?.active_page;\n        const totalPage =\n          orderFormData?.formPagination?.[orderFormId]?.total_page;\n        const perPage = orderFormData?.formPagination?.[orderFormId]?.per_page;\n\n        const allow_sku_search =\n          orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"allowSkuSearch\"] ??\n          1;\n\n        // Fetch 1 page at a time\n        // Wait for the previous page to load\n        // fetching = fetching products\n        // fetchingVariations = fetching variations initial loaded products\n        // fetchingLazyLoadedVariations = fetching subsequent products variations\n        if (\n          activePage > 0 &&\n          activePage < totalPage &&\n          (tableWrapper.getAttribute(\"loading-more\") === null ||\n            tableWrapper.getAttribute(\"loading-more\") === \"no\")\n        ) {\n          setLoadMore(true);\n\n          if (\n            fetching === false &&\n            ((fetchingLazyLoadedVariations === false &&\n              fetchingVariations === false) ||\n              formSettings?.show_variations_individually)\n          ) {\n            tableWrapper.setAttribute(\"loading-more\", \"yes\");\n            lazyLoadProducts({\n              formProducts,\n              formVariations,\n              formLazyLoadVariationsData,\n              sort_order: sort_order ?? \"desc\",\n              sort_by: sort_by ?? \"date\",\n              search: searchInput,\n              category: formFilters?.selectedCategory ?? \"\",\n              active_page: activePage + 1,\n              searching:\n                searchInput !== \"\" || formSettings?.selected_category !== \"\"\n                  ? \"yes\"\n                  : \"no\",\n              categories: formSettings?.filtered_categories ?? \"\",\n              show_all: false,\n              orderFormId,\n              wholesale_role: WWOF_Frontend_Options.wholesale_role,\n              per_page: perPage,\n              allow_sku_search,\n              form_settings: formSettings,\n              uid: WWOF_Frontend_Options.uid,\n              successCB: (response: any) => {\n                setLoadMore(false);\n\n                // Only trigger if only show variations individually is NOT enabled\n                if (\n                  !formSettings?.show_variations_individually &&\n                  Object.keys(response?.formProducts).length > 0\n                ) {\n                  setFetchingLazyLoadedVariations(true);\n                  setLoadMore(true);\n                  // Get the variations\n                  lazyLoadVariations({\n                    wholesale_role: WWOF_Frontend_Options.wholesale_role,\n                    orderFormId: response?.orderFormId,\n                    formProducts: response?.formProducts,\n                    form_settings: orderFormData.formSettings[orderFormId],\n                    productsData: response?.productsData,\n                    successCB: (response: any) => {\n                      setFetchingLazyLoadedVariations(false);\n\n                      // Get the variations wholesale data\n                      getVariationsWholesaleData({\n                        wholesale_role: WWOF_Frontend_Options.wholesale_role,\n                        orderFormId: orderFormId,\n                        selectedProducts:\n                          orderFormData.formSelectedProducts[orderFormId],\n                        formProducts: response?.formProducts,\n                        variations: response?.data?.variations,\n                        successCB: (data: any) => {\n                          setLoadMore(false);\n                          tableWrapper.setAttribute(\"loading-more\", \"no\");\n                        },\n                        failCB: () => {\n                          setLoadMore(false);\n                          console.log(\"error\");\n                        }\n                      });\n                    },\n                    failCB: () => {\n                      console.log(\"fail fetching variations\");\n                      setFetchingLazyLoadedVariations(false);\n                    }\n                  });\n                } else {\n                  tableWrapper.setAttribute(\"loading-more\", \"no\");\n                }\n              },\n              failCB: (response: any) => {\n                setLoadMore(false);\n                tableWrapper.setAttribute(\"loading-more\", \"no\");\n              }\n            });\n          }\n        }\n      }\n    }\n  }, [\n    // orderFormTableWrapper,\n    fetching,\n    fetchingVariations,\n    fetchingLazyLoadedVariations,\n    orderFormData?.formPagination\n  ]);\n\n  // Lazy loading scroll event\n  useEffect(() => {\n    if (isLazyLoadEnabled) {\n      handleScroll(); // On load check if the bottom row is visible\n      window.addEventListener(\"scroll\", handleScroll); // On scroll check if bottom row is visible\n      return () => window.removeEventListener(\"scroll\", handleScroll);\n    }\n  }, [isLazyLoadEnabled, handleScroll]);\n\n  // Uncheck Selected All\n  useEffect(() => {\n    try {\n      const selectedProducts =\n        orderFormData?.formSelectedProducts?.[orderFormId];\n      if (\n        typeof selectedProducts !== \"undefined\" &&\n        Object.keys(selectedProducts).length <= 0\n      ) {\n        setSelectedAll(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSelectedProducts, orderFormId]);\n\n  // If select all was checked\n  useEffect(() => {\n    try {\n      if (formTable !== undefined && somethingChanged) {\n        setSomethingChanged(false);\n        updateSelectedProducts({\n          selected: selectedAll,\n          orderFormData,\n          orderFormId\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [selectedAll]);\n\n  // When page is changed check if the page has selected all state\n  useEffect(() => {\n    try {\n      const formPagination = orderFormData?.formPagination?.[orderFormId];\n      if (\n        typeof formPagination !== \"undefined\" &&\n        typeof formPagination?.active_page !== \"undefined\"\n      ) {\n        setCurrentPage(formPagination?.active_page);\n\n        if (\n          typeof formPagination?.selectedAll !== \"undefined\" &&\n          typeof formPagination?.selectedAll[currentPage] !== \"undefined\"\n        ) {\n          setSelected(formPagination?.selectedAll[currentPage]);\n          setSelectedAll(formPagination?.selectedAll[currentPage]);\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [currentPage, orderFormData.formPagination, orderFormId, selectedAll]);\n\n  // When select all was checked save state\n  useEffect(() => {\n    try {\n      const formPagination = orderFormData?.formPagination?.[orderFormId];\n      if (\n        typeof formPagination !== \"undefined\" &&\n        typeof formPagination?.selectedAll !== \"undefined\" &&\n        typeof formPagination?.selectedAll[currentPage] !== \"undefined\"\n      ) {\n        setSelected(formPagination?.selectedAll?.[currentPage]);\n        setSelectedAll(formPagination?.selectedAll?.[currentPage]);\n      } else {\n        setSelected(false);\n        setSelectedAll(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [currentPage, orderFormData.formPagination, orderFormId]);\n\n  // Check if the page has variations available\n  // Used for variation dropdown table column \"Smart Visibility\"\n  useEffect(() => {\n    try {\n      const variations =\n        orderFormData?.formProducts?.[orderFormId]?.[\"variations\"];\n      if (\n        typeof variations !== \"undefined\" &&\n        Object.entries(variations).length > 0\n      ) {\n        setPageHasVariations(true);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formProducts, orderFormId]);\n\n  // Table Data Source\n  useEffect(() => {\n    setDataSource([]);\n\n    const searchInput =\n      orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"searchInput\"] ?? \"\";\n\n    const selectedCategory =\n      orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"selectedCategory\"] ?? \"\";\n\n    const data: any =\n      formProducts !== undefined && formProducts.length > 0\n        ? formProducts.map((product: any, i: number) => {\n            const printItemProps = {\n              orderFormId,\n              product,\n              getPropValue,\n              formStyles,\n              useStyleValue\n            };\n\n            return {\n              key: generateId(),\n              \"product-image\": (\n                <PrintItem {...printItemProps} itemId=\"product-image\" />\n              ),\n              \"product-name\": (\n                <PrintItem {...printItemProps} itemId=\"product-name\" />\n              ),\n              sku: <PrintItem {...printItemProps} itemId=\"sku\" />,\n              \"in-stock-amount\": (\n                <PrintItem {...printItemProps} itemId=\"in-stock-amount\" />\n              ),\n              price: <PrintItem {...printItemProps} itemId=\"price\" />,\n              \"quantity-input\": (\n                <PrintItem {...printItemProps} itemId=\"quantity-input\" />\n              ),\n              \"add-to-cart-button\": (\n                <PrintItem {...printItemProps} itemId=\"add-to-cart-button\" />\n              ),\n              \"variation-dropdown\": (\n                <PrintItem {...printItemProps} itemId=\"variation-dropdown\" />\n              ),\n              \"product-meta\": (\n                <PrintItem {...printItemProps} itemId=\"product-meta\" />\n              ),\n              \"global-attribute\": (\n                <PrintItem {...printItemProps} itemId=\"global-attribute\" />\n              ),\n              \"short-description\": (\n                <PrintItem {...printItemProps} itemId=\"short-description\" />\n              ),\n              \"add-to-cart-checkbox\": (\n                <PrintItem\n                  {...printItemProps}\n                  selectedAll={selectedAll}\n                  somethingChanged={somethingChanged}\n                  itemId=\"add-to-cart-checkbox\"\n                />\n              )\n            };\n          })\n        : [];\n\n    setDataSource(data);\n  }, [formProducts, formSettings, selectedAll, isLazyLoadEnabled, fetching]);\n\n  useEffect(() => {\n    if (formTable === undefined || formTable.length <= 0) return;\n    let table: any = formTable;\n\n    const columns: any = Object.keys(table[\"itemIds\"]).map((key: any) => {\n      const item = table[\"itemIds\"][key];\n\n      let alignment =\n        getPropValue({\n          formStyles,\n          item,\n          prop: \"justifyContent\"\n        }) || \"center\";\n\n      alignment =\n        alignment === \"flex-start\"\n          ? \"left\"\n          : alignment === \"flex-end\"\n          ? \"right\"\n          : \"center\";\n\n      let sortable = getPropValue({ formStyles, item, prop: \"sortable\" });\n\n      if (sortable === null) sortable = true;\n\n      switch (item) {\n        case \"product-image\":\n          return {\n            width: 100,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"product-image\",\n            key: \"product-image\"\n          };\n        case \"product-name\":\n          return {\n            width: 200,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"product-name\",\n            key: \"product-name\",\n            sorter: sortable\n          };\n        case \"sku\":\n          return {\n            width: 100,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"sku\",\n            key: \"sku\",\n            sorter: sortable\n          };\n        case \"in-stock-amount\":\n          return {\n            width: 100,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"in-stock-amount\",\n            key: \"in-stock-amount\"\n          };\n        case \"price\":\n          return {\n            width: 150,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"price\",\n            key: \"price\",\n            sorter: sortable\n          };\n        case \"quantity-input\":\n          return {\n            width: 100,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"quantity-input\",\n            key: \"quantity-input\"\n          };\n        case \"add-to-cart-button\":\n          return {\n            width: 100,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"add-to-cart-button\",\n            key: \"add-to-cart-button\"\n          };\n        case \"variation-dropdown\":\n          let smartVisibility = getPropValue({\n            formStyles,\n            item,\n            prop: \"smartVisibility\"\n          });\n          if (smartVisibility === undefined || smartVisibility === null) {\n            smartVisibility = true;\n          }\n\n          if (!pageHasVariations && smartVisibility) {\n            return {};\n          } else {\n            return {\n              width: 250,\n              align: alignment,\n              title:\n                getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n                formTableStrings?.[item],\n              dataIndex: \"variation-dropdown\",\n              key: \"variation-dropdown\"\n            };\n          }\n        case \"product-meta\":\n          return {\n            width: 100,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"product-meta\",\n            key: \"product-meta\"\n          };\n        // case \"global-attribute\":\n        //   return {\n        //     width: 100,\n        //     align: alignment,\n        //     title:\n        //       getPropValue({ formStyles, item, prop: \"columnHeading\" }) || \"\",\n        //     dataIndex: \"global-attribute\",\n        //     key: \"global-attribute\",\n        //   };\n        case \"short-description\":\n          return {\n            width: 250,\n            align: alignment,\n            title:\n              getPropValue({ formStyles, item, prop: \"columnHeading\" }) ||\n              formTableStrings?.[item],\n            dataIndex: \"short-description\",\n            key: \"short-description\"\n          };\n        case \"add-to-cart-checkbox\":\n          return {\n            width: 100,\n            align: \"center\",\n            title: (\n              <Checkbox\n                checked={selected}\n                onChange={() => {\n                  setSelectedAll(!selectedAll);\n                  setSomethingChanged(true);\n                }}\n              />\n            ),\n            dataIndex: \"add-to-cart-checkbox\",\n            key: \"add-to-cart-checkbox\"\n          };\n        default:\n          return {};\n      }\n    });\n\n    // Filter empty column\n    setTableColumns(\n      columns.filter((value: any) => Object.keys(value).length !== 0)\n    );\n  }, [formTable, pageHasVariations, selected]);\n\n  useEffect(() => {\n    try {\n      let styles: any = formStyles;\n      let tProps: any = {\n        loading: fetching || loadMore ? true : false,\n        dataSource: tableColumns.length > 0 ? dataSource : [],\n        columns: tableColumns,\n        pagination: false,\n        scroll: { x: \"100%\" }\n      };\n\n      let css = {};\n      let type = \"full-width\";\n\n      if (typeof styles?.[\"formTable\"]?.[\"box\"] !== \"undefined\") {\n        type = styles[\"formTable\"][\"box\"][\"width\"][\"type\"];\n      }\n\n      if (type === \"full-width\") {\n        css = { flexGrow: 1 };\n      }\n\n      setTableProps(tProps);\n      setWidthType(type);\n      setTableCSS(css);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [loadMore, tableColumns, dataSource, fetching, formStyles]);\n\n  const handleSorting = (pagination: any, filters: any, sorter: any) => {\n    try {\n      const sortBy = sorter.field === \"product-name\" ? \"title\" : sorter.field;\n\n      const perPage =\n        orderFormData?.formSettings?.[orderFormId]?.[\"products_per_page\"] ?? 10;\n\n      const searchInput =\n        orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"searchInput\"] ?? \"\";\n\n      const selectedCategory =\n        orderFormData?.[\"formFilters\"]?.[orderFormId]?.[\"selectedCategory\"] ??\n        \"\";\n\n      if (typeof sorter.order !== \"undefined\") {\n        setTableSorter({\n          [orderFormId]: {\n            ...orderFormData[\"formTableSorter\"][orderFormId],\n            sort_order: sorter.order === \"ascend\" ? \"asc\" : \"desc\",\n            sort_by: sortBy\n          }\n        });\n      } else {\n        setTableSorter({ [orderFormId]: {} });\n      }\n      fetchProducts({\n        orderFormData,\n        sort_order: sorter.order === \"ascend\" ? \"asc\" : \"desc\",\n        sort_by: sortBy,\n        search: searchInput,\n        category: selectedCategory,\n        active_page: 1,\n        searching: \"no\",\n        show_all: false,\n        attributes: { id: orderFormId },\n        wholesale_role: WWOF_Frontend_Options.wholesale_role,\n        per_page: perPage,\n        form_settings: orderFormData.formSettings[orderFormId],\n        uid: WWOF_Frontend_Options.uid,\n        successCB: (response: any) => {\n          fetchVariations({\n            wholesale_role: WWOF_Frontend_Options.wholesale_role,\n            orderFormId: response?.orderFormId,\n            formProducts: response?.formProducts,\n            form_settings: orderFormData.formSettings[orderFormId],\n            successCB: () => {},\n            failCB: () => console.log(\"fail fetching variations\")\n          });\n        },\n        failCB: () => {\n          console.log(\"fail\");\n        }\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <>\n      <ProductModal\n        orderFormData={orderFormData}\n        orderFormId={orderFormId}\n        getPropValue={getPropValue}\n      />\n      <div\n        ref={orderFormTableWrapper}\n        className=\"order-form-table-wrapper\"\n        style={{\n          display: widthType === \"full-width\" ? \"flex\" : \"inline-block\",\n          width: \"auto\",\n          marginBottom: \"1rem\"\n        }}\n      >\n        {width <= 768 ? (\n          <ResponsiveTable\n            key={pageHasVariations}\n            {...props}\n            getPropValue={getPropValue}\n            pageHasVariations={pageHasVariations}\n            useStyleValue={useStyleValue}\n            somethingChanged={somethingChanged}\n            formProducts={formProducts}\n            formStyles={formStyles}\n            formTable={formTable}\n            fetching={fetching}\n            fetchProducts={fetchProducts}\n            setTableSorter={setTableSorter}\n            selected={selected}\n            selectedAll={selectedAll}\n            setSelectedAll={setSelectedAll}\n            setSomethingChanged={setSomethingChanged}\n            // modalProps={modalProps}\n            // setModalProps={setModalProps}\n          />\n        ) : (\n          <Table\n            style={{\n              width: \"auto\",\n              ...tableCSS\n            }}\n            className={`wwof-order-form order-form-table-${orderFormId}`}\n            {...tableProps}\n            onChange={(pagination: any, filters: any, sorter: any) =>\n              handleSorting(pagination, filters, sorter)\n            }\n            locale={{\n              triggerDesc: formTableSortText?.[\"sort_desc\"],\n              triggerAsc: formTableSortText?.[\"sort_asc\"],\n              cancelSort: formTableSortText?.[\"sort_cancel\"]\n            }}\n          />\n        )}\n      </div>\n      {/* Loader - Load more products / Lazy load on scroll */}\n\n      {isLazyLoadEnabled && loadMore ? (\n        <Spin\n          tip={formTableText?.loading}\n          style={{\n            width: loadMoreWidth > 0 ? loadMoreWidth : \"auto\",\n            paddingBottom: \"20px\"\n          }}\n        />\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  orderFormData: store.orderFormData,\n  formTableStrings: store.i18n.frontend.table_column_headers,\n  formTableSortText: store.i18n.frontend.formTableSortText,\n  formTableText: store.i18n.frontend.form_table\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      updateSelectedProducts,\n      fetchProducts,\n      fetchVariations,\n      setTableSorter,\n      lazyLoadProducts,\n      lazyLoadVariations,\n      getVariationsWholesaleData\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormTable);\n","import { Col, Row, Skeleton, Space, Table } from \"antd\";\nconst LoadingSkeleton = (props: any) => {\n  const columns = [\n    {\n      title: <Skeleton.Button active={true} />,\n      dataIndex: \"name\",\n      key: \"name\",\n      className: \"name\"\n    },\n    {\n      title: <Skeleton.Button active={true} />,\n      dataIndex: \"sku\",\n      key: \"sku\"\n    },\n    {\n      title: <Skeleton.Button active={true} />,\n      dataIndex: \"price\",\n      key: \"price\",\n      className: \"price\"\n    },\n    {\n      title: <Skeleton.Button active={true} />,\n      dataIndex: \"quantity\",\n      key: \"quantity\"\n    },\n    {\n      title: <Skeleton.Button active={true} />,\n      dataIndex: \"\",\n      key: \"x\"\n    }\n  ];\n\n  return (\n    <Row>\n      <Col span={24}>\n        <Skeleton.Button style={{ width: 250 }} active={true} size=\"large\" />\n        <br />\n        <br />\n        <Space>\n          <Skeleton.Button style={{ width: 250 }} active={true} />\n          <Skeleton.Button style={{ width: 250 }} active={true} />\n          <Skeleton.Button style={{ width: 150 }} active={true} />\n          <Skeleton.Button style={{ width: 150 }} active={true} />\n        </Space>\n        <br />\n        <br />\n        <Table loading={true} columns={columns} />\n      </Col>\n    </Row>\n  );\n};\n\nexport default LoadingSkeleton;\n","import { useEffect, useState } from \"react\";\nimport FormHeaderFooter from \"./components/FormHeaderFooter\";\nimport FormTable from \"./components/FormTable\";\nimport { Tooltip, Alert, Skeleton, Space } from \"antd\";\nimport { InfoCircleOutlined } from \"@ant-design/icons\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\n\n// Actions\nimport {\n  orderFormActions,\n  orderFormDataActions,\n  i18nActions\n} from \"./store/actions/\";\nimport { getPropValue } from \"./helpers/getPropValue\";\nimport { getProductMinQtyAndStep } from \"./helpers/getProductMinQtyAndStep\";\nimport \"./styles.js\";\nimport useFormTableData from \"helpers/useFormTableData\";\nimport LoadingSkeleton from \"LoadingSkeleton\";\n\nconst {\n  fetchProducts,\n  fetchVariations,\n  fetchCategories,\n  getVariationWholesaleData,\n  getVariationsWholesaleData\n} = orderFormActions;\n\nconst {\n  fetchOrderFormData,\n  getMinOrderReqNotice,\n  setSelectedProductsToAddToCart\n} = orderFormDataActions;\nconst { fetchStrings } = i18nActions;\n\ndeclare var WWOF_Frontend_Options: any;\n\nconst ShowMinimumRequirementNotice = (props: any) => {\n  const { orderFormData, postId } = props;\n\n  const message = orderFormData?.formMinOrderReqNotice?.[postId]?.[\"message\"];\n\n  if (typeof message !== \"undefined\" && message !== \"\") {\n    return (\n      <>\n        <Alert\n          style={{ marginBottom: \"1rem\", fontSize: \"18px\" }}\n          message={\n            <div\n              style={{ paddingLeft: \"10px\" }}\n              dangerouslySetInnerHTML={{\n                __html: message\n              }}\n            />\n          }\n          type=\"info\"\n          showIcon\n        />\n      </>\n    );\n  } else return <></>;\n};\n\nconst OrderFormTitle = (props: any) => {\n  const { orderFormData, attributes, postId, frontendStrings } = props;\n  const formTitle = orderFormData?.formTitle?.[postId];\n  const hideFormTitle =\n    orderFormData?.formSettings?.[postId]?.hide_form_title ?? false;\n\n  if (typeof formTitle === \"undefined\" || hideFormTitle === true) return <></>;\n\n  // Show tooltip for draft order form.\n  if (\n    typeof attributes.post_status !== \"undefined\" &&\n    attributes.post_status === \"draft\"\n  )\n    return (\n      <h2>\n        {formTitle}\n        <Tooltip title={frontendStrings?.app?.draft_tooltip}>\n          <InfoCircleOutlined\n            style={{ fontSize: \"18px\", marginLeft: \"10px\", color: \"red\" }}\n          />\n        </Tooltip>\n      </h2>\n    );\n  else return <h2>{formTitle}</h2>;\n};\n\nconst App = (props: any) => {\n  const {\n    orderForm,\n    orderFormData,\n    attributes,\n    formStyles,\n    formProducts,\n    frontendStrings\n  } = props;\n  const postId = parseInt(attributes.id);\n  // Form Products Data\n  const { fetching, fetchingVariations } = useFormTableData({\n    orderFormData,\n    orderFormId: postId\n  });\n\n  const [test, setTest] = useState(false);\n\n  const {\n    fetchProducts,\n    fetchVariations,\n    fetchCategories,\n    fetchOrderFormData,\n    getMinOrderReqNotice,\n    setSelectedProductsToAddToCart,\n    fetchStrings,\n    getVariationWholesaleData,\n    getVariationsWholesaleData\n  } = props.actions;\n\n  useEffect(() => {\n    fetchStrings();\n  }, []);\n\n  // Pre-populate formSelectedProducts with current variable products with pre-selected variation\n  useEffect(() => {\n    try {\n      // Exit if pre select variation is disabled via wp filter\n      if (!WWOF_Frontend_Options?.pre_selected_variations) {\n        return;\n      }\n\n      // Return if no data yet or still fetching\n\n      if (fetching !== false || fetchingVariations !== false) {\n        return;\n      }\n\n      if (formProducts?.products && formProducts?.fetching === false) {\n        let variableProducts: any = {};\n\n        formProducts.products.map((product: any, i: number) => {\n          if (\n            product.type === \"variable\" &&\n            typeof formProducts.variations[product.id] !== \"undefined\" &&\n            Object.entries(formProducts.variations[product.id]).length > 0\n          ) {\n            let variationID = formProducts.variations[product.id][0]?.id; // Get first variation\n            let defaultVariationID = 0;\n            let variationList = formProducts.variations[product.id];\n            let attributeData = {\n              total: product.attributes.length,\n              defaultTotal: product.default_attributes.length\n            };\n            let variationData: any = [];\n            let variationName: string = \"\";\n            let stockStatus: string = \"\";\n            let selectedAtts: string[] = [];\n\n            // Get default attribute\n            // This is set in product editor\n            if (\n              attributeData.total === attributeData.defaultTotal &&\n              variationList.length > 0\n            ) {\n              for (const [, variation] of variationList.entries()) {\n                const attributes = variation.attributes;\n                let match = 0;\n                for (const [j, attr] of attributes.entries()) {\n                  if (\n                    product.default_attributes[j].id === attr.id &&\n                    product.default_attributes[j].name.toLowerCase() ===\n                      attr.name.toLowerCase() &&\n                    product.default_attributes[j].option.toLowerCase() ===\n                      attr.option.toLowerCase()\n                  ) {\n                    match += 1;\n                  }\n                }\n                if (match === attributeData.total) {\n                  variationID = variation.id;\n                  defaultVariationID = variation.id;\n                }\n              }\n            }\n\n            // Product Stock Status\n            stockStatus = product.stock_status;\n\n            if (variationID !== 0 && typeof variationID !== \"undefined\") {\n              variationData = formProducts.variations[product.id].find(\n                (data: any) => {\n                  return data.id === variationID;\n                }\n              );\n\n              // Variation Name\n              if (\n                variationData !== undefined &&\n                typeof variationData?.attributes !== \"undefined\"\n              ) {\n                variationName = variationData.attributes.map(\n                  (attributes: any) => {\n                    return attributes.name + \": \" + attributes.option;\n                  }\n                );\n\n                variationData.attributes.map((data: any, i: number) => {\n                  selectedAtts = {\n                    ...selectedAtts,\n                    [data.name]: data.option.toLowerCase()\n                  };\n                  return true;\n                });\n              }\n\n              // Variation Stock Status\n              stockStatus = variationData.stock_status;\n\n              // Variation Wholesale Data\n              variationData =\n                typeof variationData.wholesale_data !== \"undefined\"\n                  ? variationData.wholesale_data\n                  : [];\n            }\n\n            // Min Quantity and Step\n            const { minOrderQty } = getProductMinQtyAndStep({\n              productType: product.type,\n              wholesaleData:\n                typeof product.wholesale_data !== \"undefined\"\n                  ? product.wholesale_data\n                  : [],\n              variationData,\n              variationID\n            });\n\n            // Maintain the values when navigating to different page. Specially the selected value.\n            if (\n              typeof orderFormData.formSelectedProducts[postId] !==\n                \"undefined\" &&\n              typeof orderFormData.formSelectedProducts[postId][product.id] !==\n                \"undefined\"\n            ) {\n              variableProducts[product.id] = {\n                ...orderFormData.formSelectedProducts[postId][product.id],\n                productTitle: product.name,\n                productID: product.id,\n                variationID,\n                productType: product.type,\n                name: variationName,\n                defaultVariationID,\n                quantity: minOrderQty,\n                stockStatus,\n                variationData,\n                wholesaleData:\n                  typeof product.wholesale_data !== \"undefined\"\n                    ? product.wholesale_data\n                    : [],\n                selectedAtts\n              };\n            } else {\n              variableProducts[product.id] = {\n                productTitle: product.name,\n                productID: product.id,\n                variationID,\n                productType: product.type,\n                name: variationName,\n                defaultVariationID,\n                quantity: minOrderQty,\n                stockStatus,\n                variationData,\n                wholesaleData:\n                  typeof product.wholesale_data !== \"undefined\"\n                    ? product.wholesale_data\n                    : [],\n                selectedAtts\n              };\n            }\n          }\n\n          return true;\n        });\n\n        setSelectedProductsToAddToCart({\n          ...orderFormData.formSelectedProducts,\n          [postId]: {\n            ...orderFormData.formSelectedProducts[postId],\n            ...variableProducts\n          }\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [formProducts, fetching, fetchingVariations]);\n\n  // Fetch Order Form Data\n  useEffect(() => {\n    try {\n      // Fetch order form data\n      if (attributes.id !== undefined && postId > 0) {\n        fetchOrderFormData({\n          id: postId,\n          successCB: (response: any) => {},\n          failCB: () => {\n            console.log(\"Data cannot be fetched!\");\n          }\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [attributes.id, fetchOrderFormData, postId]);\n\n  // Fetch products\n  // Fired after order form data is fetched\n  useEffect(() => {\n    try {\n      if (typeof orderFormData.formSettings[postId] !== \"undefined\") {\n        fetchProducts({\n          orderFormData,\n          sort_order: orderFormData.formSettings[postId].sort_order ?? \"desc\",\n          sort_by: orderFormData.formSettings[postId].sort_by ?? \"date\",\n          search: \"\",\n          category: orderFormData.formSettings[postId].selected_category ?? \"\",\n          active_page: 1,\n          searching: \"no\",\n          products: attributes.products ?? \"\",\n          categories:\n            orderFormData.formSettings[postId].filtered_categories ?? \"\",\n          show_all: false,\n          attributes,\n          wholesale_role: WWOF_Frontend_Options.wholesale_role,\n          per_page:\n            orderFormData.formSettings[postId][\"products_per_page\"] ?? 10,\n          form_settings: orderFormData.formSettings[postId],\n          uid: WWOF_Frontend_Options.uid,\n          successCB: (response: any) => {\n            // Only trigger if only show variations individually is NOT enabled\n            if (\n              !orderFormData?.formSettings?.[postId]\n                ?.show_variations_individually &&\n              response?.formProducts?.products.length > 0\n            ) {\n              // Get the variations\n              fetchVariations({\n                wholesale_role: WWOF_Frontend_Options.wholesale_role,\n                orderFormId: response?.orderFormId,\n                formProducts: response?.formProducts,\n                form_settings: orderFormData.formSettings[postId],\n                successCB: (response: any) => {\n                  // Get the variations wholesale data\n                  getVariationsWholesaleData({\n                    wholesale_role: WWOF_Frontend_Options.wholesale_role,\n                    orderFormId: postId,\n                    selectedProducts:\n                      orderFormData.formSelectedProducts[postId],\n                    formProducts: response?.formProducts?.products,\n                    variations: response?.data?.variations,\n                    successCB: (data: any) => {},\n                    failCB: () => {\n                      console.log(\"error\");\n                    }\n                  });\n                },\n                failCB: (response: any) =>\n                  console.log(`fetchVariations: ${response?.data?.message}`)\n              });\n            }\n          },\n          failCB: (response: any) =>\n            console.log(`fetchProducts: ${response?.data?.message}`)\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [orderFormData.formSettings[postId]]);\n\n  // Fetch categories\n  useEffect(() => {\n    try {\n      fetchCategories({\n        categories: orderForm.categories,\n        successCB: (response: any) => {},\n        failCB: (response: any) =>\n          console.log(`fetchCategories: ${response?.data?.message}`)\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }, []);\n\n  // Fetch min requirement notice\n  useEffect(() => {\n    if (typeof orderFormData.formSettings[postId] !== \"undefined\") {\n      let showMinReqNotice = getPropValue({\n        formStyles,\n        item: \"formHeader\",\n        prop: \"showMinReqNotice\"\n      });\n\n      if (showMinReqNotice === null || showMinReqNotice === 1)\n        showMinReqNotice = true;\n\n      if (\n        showMinReqNotice === true &&\n        typeof WWOF_Frontend_Options !== \"undefined\" &&\n        WWOF_Frontend_Options.wwpp_active !== \"\" &&\n        attributes.id !== undefined &&\n        postId > 0 &&\n        WWOF_Frontend_Options.wholesale_role !== \"\"\n      ) {\n        getMinOrderReqNotice({\n          postId,\n          wholesale_role: WWOF_Frontend_Options.wholesale_role,\n          uid: WWOF_Frontend_Options.uid,\n          successCB: (response: any) => {},\n          failCB: () => {\n            console.log(\"Data cannot be fetched!\");\n          }\n        });\n      }\n    }\n  }, [orderFormData.formSettings[postId]]);\n\n  // Make sure translatable strings are loaded\n  if (frontendStrings?.length <= 0) {\n    return <LoadingSkeleton />;\n  }\n\n  if (attributes.id !== undefined && postId > 0) {\n    return (\n      <>\n        <ShowMinimumRequirementNotice {...props} postId={postId} />\n        <OrderFormTitle {...props} postId={postId} />\n        {Object.keys(orderFormData.formHeader).length > 0 ? (\n          <FormHeaderFooter section=\"formHeader\" orderFormId={postId} />\n        ) : (\n          \"\"\n        )}\n        {Object.keys(orderFormData.formTable).length > 0 ? (\n          <FormTable orderFormId={postId} />\n        ) : (\n          \"\"\n        )}\n        {Object.keys(orderFormData.formFooter).length > 0 ? (\n          <FormHeaderFooter section=\"formFooter\" orderFormId={postId} />\n        ) : (\n          \"\"\n        )}\n      </>\n    );\n  } else return <></>;\n};\n\nconst mapStateToProps = (store: any, props: any) => ({\n  orderForm: store.orderForm,\n  orderFormData: store.orderFormData,\n  attributes: props.attributes,\n  formStyles: store.orderFormData.formStyles[props.attributes.id],\n  formProducts: store.orderFormData.formProducts[props.attributes.id],\n  frontendStrings: store.i18n.frontend\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  actions: bindActionCreators(\n    {\n      fetchProducts,\n      fetchVariations,\n      fetchCategories,\n      fetchOrderFormData,\n      getMinOrderReqNotice,\n      setSelectedProductsToAddToCart,\n      fetchStrings,\n      getVariationWholesaleData,\n      getVariationsWholesaleData\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { EOrderFormActionTypes, IOrderFormAction } from \"types/OrderFormTypes\";\n\nconst defaults = {\n  categories: [],\n  cartURL: \"\",\n  showModal: false,\n  modalProps: {\n    orderFormId: 0,\n    product: [],\n    onClickAction: \"\",\n  },\n  attributes: {\n    show_search: \"\",\n    products: [],\n    categories: [],\n  },\n};\n\nexport default function orderFormReducer(\n  state: IOrderFormAction = defaults,\n  action: any\n) {\n  switch (action.type) {\n    case EOrderFormActionTypes.SET_APP_STATE:\n      const { cart_url, attributes } = action.payload.data;\n\n      return {\n        ...state,\n        cartURL: cart_url,\n        attributes,\n      };\n\n    case EOrderFormActionTypes.SET_CATEGORIES:\n      return {\n        ...state,\n        categories: action.payload.categories,\n      };\n\n    case EOrderFormActionTypes.SET_SHOW_MODAL:\n      return {\n        ...state,\n        showModal: action.payload.showModal,\n        modalProps: {\n          ...state.modalProps,\n          ...action.payload.modalProps,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n","import {\n  EOrderFormDataActionTypes,\n  IOrderFormData\n} from \"types/OrderFormDataTypes\";\nimport { EOrderFormActionTypes } from \"types/OrderFormTypes\";\n\nconst defaults = {\n  formTitle: [],\n  formFooter: [],\n  formHeader: [],\n  formTable: [],\n  formStyles: [],\n  formSettings: [],\n  formProducts: [],\n  formPagination: [],\n  formFilters: [],\n  formSelectedProducts: [],\n  formCartSubtotal: [],\n  formTableSorter: [],\n  formMinOrderReqNotice: []\n};\n\nexport default function orderFormDataReducer(\n  state: IOrderFormData = defaults,\n  action: any\n) {\n  switch (action.type) {\n    case EOrderFormDataActionTypes.SET_ORDER_FORM_DATA:\n      const {\n        formTitle,\n        formFooter,\n        formHeader,\n        formTable,\n        formStyles,\n        formSettings\n      } = action.payload;\n\n      return {\n        ...state,\n        formTitle: {\n          ...state.formTitle,\n          ...formTitle\n        },\n        formFooter: {\n          ...state.formFooter,\n          ...formFooter\n        },\n        formHeader: {\n          ...state.formHeader,\n          ...formHeader\n        },\n        formTable: {\n          ...state.formTable,\n          ...formTable\n        },\n        formStyles: {\n          ...state.formStyles,\n          ...formStyles\n        },\n        formSettings: {\n          ...state.formSettings,\n          ...formSettings\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_ORDER_FORM_PRODUCTS:\n      return {\n        ...state,\n        formProducts: {\n          ...state.formProducts,\n          ...action.payload\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_ORDER_FORM_PAGINATION:\n      return {\n        ...state,\n        formPagination: {\n          ...state.formPagination,\n          [action.payload.orderFormId]: {\n            ...state.formPagination[action.payload.orderFormId],\n            ...action.payload.data\n          }\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_PAGE_SELECTED_ALL:\n      const { orderFormId, data } = action.payload;\n      return {\n        ...state,\n        formPagination: {\n          ...state.formPagination,\n          [orderFormId]: {\n            ...state.formPagination[orderFormId],\n            selectedAll: {\n              ...state.formPagination[orderFormId].selectedAll,\n              ...data\n            }\n          }\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_ORDER_FORM_FILTERS:\n      return {\n        ...state,\n        formFilters: {\n          ...state.formFilters,\n          ...action.payload\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART:\n      return {\n        ...state,\n        formSelectedProducts: {\n          ...state.formSelectedProducts,\n          ...action.payload\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_ORDER_FORM_CART_SUBTOTAL:\n      return {\n        ...state,\n        formCartSubtotal: {\n          ...state.formCartSubtotal,\n          ...action.payload\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_ORDER_FORM_TABLE_SORTER:\n      return {\n        ...state,\n        formTableSorter: {\n          ...action.payload\n        }\n      };\n\n    case EOrderFormDataActionTypes.SET_MIN_ORDER_REQ_NOTICE:\n      return {\n        ...state,\n        formMinOrderReqNotice: {\n          ...state.formMinOrderReqNotice,\n          ...action.payload\n        }\n      };\n\n    case EOrderFormActionTypes.SET_VARIATION_WHOLESALE_DATA:\n      const { formId, productID, variationID, wholesale_data } = action.payload;\n\n      let updatedVariations = state?.formProducts?.[formId]?.variations?.[\n        productID\n      ].map((data: any) => {\n        if (parseInt(data?.id) === variationID) {\n          return {\n            ...data,\n            wholesale_data\n          };\n        }\n        return data;\n      });\n\n      return {\n        ...state,\n        formProducts: {\n          ...state.formProducts,\n          [formId]: {\n            ...state.formProducts[formId],\n            fetching: undefined,\n            fetching_variations_wholesale_data: true,\n            variations: {\n              ...state.formProducts[formId].variations,\n              [productID]: [...updatedVariations]\n            }\n          }\n        }\n      };\n\n    case EOrderFormActionTypes.SET_VARIATIONS_WHOLESALE_DATA:\n      let formId2 = action.payload.orderFormId;\n      let data2: any = action.payload.data;\n      let updatedVariations2 = state?.formProducts?.[formId2]?.variations;\n\n      Object.keys(updatedVariations2).map((d: any) => {\n        if (data2[d]) {\n          updatedVariations2[d].map((i: any, k: any) => {\n            if (parseInt(data2[d].variationId) === parseInt(i?.id)) {\n              updatedVariations2[d][k] = {\n                ...i,\n                wholesale_data: data2[d]?.wholesale_data\n              };\n            }\n          });\n        }\n      });\n\n      return {\n        ...state,\n        formProducts: {\n          ...state.formProducts,\n          [formId2]: {\n            ...state.formProducts[formId2],\n            variations: updatedVariations2\n          }\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import { EOrderFormI18nActionTypes, II18n } from \"types/index\";\n\nexport const defaults = {\n  frontend: [],\n};\n\nexport default function i18nReducer(state: II18n = defaults, action: any) {\n  switch (action.type) {\n    case EOrderFormI18nActionTypes.SET_STRINGS:\n      return {\n        frontend: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\n\n// Reducers\nimport orderFormReducer from \"./orderFormReducer\";\nimport orderFormDataReducer from \"./orderFormDataReducer\";\nimport i18nReducer from \"./i18nReducer\";\n\nconst reducers = combineReducers({\n  orderForm: orderFormReducer,\n  orderFormData: orderFormDataReducer,\n  i18n: i18nReducer,\n});\n\nexport default reducers;\n","import axios from \"axios\";\n\ndeclare var WWOF_Frontend_Options: any;\nlet headers = {};\n\nif (\n  typeof WWOF_Frontend_Options !== \"undefined\" &&\n  WWOF_Frontend_Options.nonce !== \"\"\n) {\n  headers = {\n    \"X-WP-Nonce\": WWOF_Frontend_Options.nonce\n  };\n}\n\nexport default axios.create({\n  baseURL: WWOF_Frontend_Options.root,\n  timeout: 0,\n  headers: {\n    ...headers\n  }\n});\n","import { takeEvery, put, call } from \"redux-saga/effects\";\nimport { EOrderFormActionTypes, IResponseGenerator } from \"types/index\";\nimport { orderFormActions, orderFormDataActions } from \"store/actions/index\";\nimport axiosInstance from \"helpers/axios\";\n\ndeclare var WWOF_Frontend_Options: any;\n\n// The initial fetching of products\n// Condition:\n// - When loading the order form page\nexport function* fetchProducts(action: any) {\n  const {\n    orderFormData,\n    search,\n    category,\n    active_page,\n    searching,\n    sort_order,\n    show_all,\n    products,\n    categories,\n    attributes,\n    wholesale_role,\n    per_page,\n    sort_by,\n    allow_sku_search,\n    form_settings,\n    uid,\n    successCB,\n    failCB\n  } = action.payload;\n\n  try {\n    if (attributes.id !== undefined) {\n      yield put(\n        orderFormDataActions.setOrderFormProducts({\n          [attributes.id]: {\n            ...orderFormData.formProducts[attributes.id],\n            fetching: true,\n            fetchingVariations: undefined,\n            fetching_variations_wholesale_data: false\n          }\n        })\n      );\n    }\n\n    const qs = require(\"qs\");\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.post(\n        WWOF_Frontend_Options.ajax,\n        qs.stringify({\n          action: \"wwof_api_get_products\",\n          nonce: WWOF_Frontend_Options.nonce,\n          search,\n          category,\n          page: active_page || 1,\n          searching: searching || \"no\",\n          sort_order: sort_order || [],\n          sort_by: sort_by || \"\",\n          products: products || [],\n          categories,\n          show_all,\n          wholesale_role,\n          per_page,\n          allow_sku_search: allow_sku_search || \"\",\n          form_settings,\n          uid,\n          // WC Aelia Currency Switcher integration\n          aelia_selected_currency: (window as any).wc_aelia_currency_switcher_params?.selected_currency ?? \"\"\n        })\n      )\n    );\n\n    let productsData = {};\n\n    if (response && response.data && response.data.status === \"success\") {\n      const data = { ...response.data, attributes, active_page, sort_order };\n\n      if (attributes.id !== undefined && attributes.id !== 0) {\n        yield put(orderFormActions.setAppState({ data }));\n\n        yield put(\n          orderFormDataActions.setCartSubtotal({\n            [attributes.id]: {\n              cartSubtotal: data.cart_subtotal\n            }\n          })\n        );\n\n        let variable = data?.products.filter(\n          (product: any) => product.type === \"variable\"\n        );\n        let variableProducts: any = {};\n\n        variable.forEach((product: any) => {\n          variableProducts[product.id] = {\n            fetching: true,\n            id: product?.id,\n            type: product?.type\n          };\n        });\n\n        productsData = {\n          fetching: false,\n          fetchingVariations: variableProducts.length === 0 ? false : undefined,\n          products: data.products,\n          variations: variableProducts,\n          lazy_load_variations_data: data.lazy_load_variations_data\n        };\n\n        yield put(\n          orderFormDataActions.setOrderFormProducts({\n            [attributes.id]: productsData\n          })\n        );\n\n        yield put(\n          orderFormDataActions.setOrderFormPagination({\n            orderFormId: attributes.id,\n            data: {\n              active_page,\n              per_page,\n              total_products: parseInt(data?.total_products) ?? 0,\n              total_page: parseInt(data?.total_page ?? 0)\n            }\n          })\n        );\n      }\n\n      if (typeof successCB === \"function\") {\n        successCB({\n          ...response,\n          orderFormId: attributes.id,\n          orderFormData,\n          formProducts: productsData,\n          lazyLoading: false\n        });\n      }\n    } else if (typeof failCB === \"function\") failCB(response);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// This is triggered after fetchProducts\n// Condition:\n// - After fetching products, fetch variable variations\nexport function* fetchVariations(action: any) {\n  const {\n    wholesale_role,\n    orderFormId,\n    formProducts,\n    form_settings,\n    successCB,\n    failCB\n  } = action.payload;\n\n  try {\n    yield put(\n      orderFormDataActions.setOrderFormProducts({\n        [orderFormId]: {\n          ...formProducts,\n          fetchingVariations: true\n        }\n      })\n    );\n\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.get(`wwof/v1/variations`, {\n        params: {\n          wholesale_role,\n          products: formProducts?.variations,\n          form_settings,\n          type: \"get_variations\"\n        }\n      })\n    );\n\n    if (response && response.data && response.data.status === \"success\") {\n      yield put(\n        orderFormDataActions.setOrderFormProducts({\n          [orderFormId]: {\n            ...formProducts,\n            fetchingVariations: false,\n            variations: response.data?.variations || [],\n            lazy_load_variations_data: formProducts?.lazy_load_variations_data\n          }\n        })\n      );\n\n      if (typeof successCB === \"function\") {\n        successCB({ ...response, formProducts });\n      }\n    } else if (typeof failCB === \"function\") failCB(response);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Get categories\n// Condition:\n// - When loading the order form page\nexport function* fetchCategories(action: any) {\n  const { categories, successCB, failCB } = action.payload;\n\n  try {\n    const qs = require(\"qs\");\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.post(\n        WWOF_Frontend_Options.ajax,\n        qs.stringify({\n          action: \"wwof_api_get_categories\",\n          categories: categories,\n          nonce: WWOF_Frontend_Options.nonce,\n        })\n      )\n    );\n\n    if (response && response.data && response.data.status === \"success\") {\n      const data = { ...response.data };\n\n      yield put(\n        orderFormActions.setCategories({ categories: data.categories })\n      );\n      if (typeof successCB === \"function\") {\n        successCB(response);\n      }\n    } else if (typeof failCB === \"function\") {\n      failCB(response);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Load more variations - lazy loading\n// Note: Since 2.0.4 we are now fetching all variations to avoid inaccurate loaded variations since api has limitations\n//        Atm, this is not being used.\n// Condition:\n// - When you scroll down the variation dropdown\n// - Used in combo dropdown\nexport function* loadMoreVariations(action: any) {\n  const {\n    orderFormId,\n    wholesale_role,\n    product_id,\n    current_page,\n    successCB,\n    failCB,\n    orderFormData\n  } = action.payload;\n\n  try {\n    const qs = require(\"qs\");\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.post(\n        WWOF_Frontend_Options.ajax,\n        qs.stringify({\n          action: \"wwof_api_get_wholesale_variations\",\n          product_id,\n          current_page,\n          wholesale_role,\n          uid: WWOF_Frontend_Options.uid,\n          form_settings: orderFormData.formSettings[orderFormId]\n        })\n      )\n    );\n\n    if (response && response.data.status === \"success\") {\n      // Append more variations\n      yield put(\n        orderFormDataActions.setOrderFormProducts({\n          [orderFormId]: {\n            ...orderFormData.formProducts[orderFormId],\n            variations: {\n              ...orderFormData.formProducts[orderFormId].variations,\n              [product_id]: [\n                ...orderFormData.formProducts[orderFormId].variations[\n                  product_id\n                ],\n                ...response.data.variations\n              ]\n            },\n            lazy_load_variations_data: {\n              ...orderFormData.formProducts[orderFormId]\n                .lazy_load_variations_data,\n              [product_id]: {\n                ...orderFormData.formProducts[orderFormId]\n                  .lazy_load_variations_data[product_id],\n                current_page\n              }\n            }\n          }\n        })\n      );\n\n      if (typeof successCB === \"function\") {\n        successCB(response);\n      }\n    } else if (typeof failCB === \"function\") failCB();\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Load more products - lazy loading\n// Condition:\n// - Lazy load is enabled\n// - Used to fetch succeeding products(page 2 and up)\nexport function* lazyLoadProducts(action: any) {\n  const {\n    orderFormId,\n    formProducts,\n    formVariations,\n    formLazyLoadVariationsData,\n    active_page,\n    per_page,\n    wholesale_role,\n    search,\n    category,\n    searching,\n    sort_order,\n    sort_by,\n    categories,\n    products,\n    allow_sku_search,\n    form_settings,\n    uid,\n    successCB,\n    failCB\n  } = action.payload;\n\n  try {\n    const qs = require(\"qs\");\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.post(\n        WWOF_Frontend_Options.ajax,\n        qs.stringify({\n          action: \"wwof_api_get_products\",\n          nonce: WWOF_Frontend_Options.nonce,\n          search,\n          category,\n          page: active_page || 1,\n          searching: searching || \"no\",\n          sort_order: sort_order || [],\n          sort_by: sort_by || \"\",\n          products: products || [],\n          categories,\n          wholesale_role,\n          per_page,\n          allow_sku_search,\n          form_settings,\n          uid,\n          // WC Aelia Currency Switcher integration\n          aelia_selected_currency: (window as any).wc_aelia_currency_switcher_params?.selected_currency ?? \"\"\n        })\n      )\n    );\n\n    if (response && response.data && response.data.status === \"success\") {\n      let variable = response.data?.products.filter(\n        (product: any) => product.type === \"variable\"\n      );\n      let variableProducts: any = {};\n\n      variable.forEach((product: any) => {\n        variableProducts[product.id] = [\n          {\n            fetching: true,\n            id: product?.id,\n            type: product?.type\n          }\n        ];\n      });\n\n      let productsData: any = {\n        fetching: false,\n        fetching_variations_wholesale_data:\n          variable.length === 0 ? undefined : false,\n        products: [...formProducts, ...response.data.products],\n        variations: {\n          ...formVariations,\n          ...variableProducts\n        },\n        lazy_load_variations_data: {\n          ...formLazyLoadVariationsData,\n          ...response.data.lazy_load_variations_data\n        }\n      };\n\n      // Add more products to the state\n      yield put(\n        orderFormDataActions.setOrderFormProducts({\n          [orderFormId]: productsData\n        })\n      );\n\n      // Update pagination active page\n      yield put(\n        orderFormDataActions.setOrderFormPagination({\n          orderFormId,\n          data: {\n            active_page\n          }\n        })\n      );\n      if (typeof successCB === \"function\") {\n        successCB({\n          ...response,\n          orderFormId,\n          productsData,\n          formProducts: variableProducts,\n          lazyLoading: true\n        });\n      }\n    } else if (typeof failCB === \"function\") failCB();\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Fetch variation - Lazy loading\n// Condition:\n// - Lazy load is enabled\n// - Combo or standard\n// - This is only triggered when loading second and succeeding pages.\n// - Triggered after lazyLoadProducts\nexport function* lazyLoadVariations(action: any) {\n  const {\n    wholesale_role,\n    orderFormId,\n    formProducts,\n    form_settings,\n    productsData,\n    successCB,\n    failCB\n  } = action.payload;\n\n  try {\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.get(`wwof/v1/variations`, {\n        params: {\n          wholesale_role,\n          products: formProducts,\n          form_settings,\n          type: \"get_variations\"\n        }\n      })\n    );\n\n    if (response && response.data && response.data.status === \"success\") {\n      yield put(\n        orderFormDataActions.setOrderFormProducts({\n          [orderFormId]: {\n            ...productsData,\n            variations: {\n              ...productsData?.variations,\n              ...response?.data?.variations\n            }\n          }\n        })\n      );\n\n      if (typeof successCB === \"function\") {\n        successCB({ ...response, formProducts: productsData?.products });\n      }\n    } else if (typeof failCB === \"function\") failCB();\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Condition:\n// - Selecting or pres-selecting a variation\n// - User is a wholesale user\n//\n// Triggered when auto selecting or selecting a variation\n// Fetch the wholesale data. Only triggered when the user is wholesale customer.\nexport function* getVariationWholesaleData(action: any) {\n  try {\n    const {\n      wholesale_role,\n      orderFormId,\n      productID,\n      variationID,\n      successCB,\n      failCB\n    } = action.payload;\n\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.get(`wwof/v1/variations/`, {\n        params: {\n          wholesale_role,\n          type: \"get_variation_wholesale_data\",\n          variationID\n        }\n      })\n    );\n\n    if (response && response.data) {\n      yield put(\n        orderFormDataActions.setVariationWholesaleData({\n          formId: orderFormId,\n          productID,\n          variationID,\n          wholesale_data: response?.data?.wholesale_data\n        })\n      );\n\n      if (typeof successCB === \"function\") successCB(response.data);\n    } else {\n      if (typeof failCB === \"function\") failCB();\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Condition:\n// - Triggered after fetching product variations\n// - Get the variation data of initialy selected variation\n//\n// Triggered when auto selecting or selecting a variation\n// Fetch the wholesale data. Only triggered when the user is wholesale customer.\nexport function* getVariationsWholesaleData(action: any) {\n  try {\n    const {\n      wholesale_role,\n      orderFormId,\n      variations,\n      formProducts,\n      successCB,\n      failCB\n    } = action.payload;\n\n    let defaultSelectedVariations: any[] = [];\n\n    Object.keys(variations).forEach((key: string) => {\n      let variationId = variations[key][0]?.id;\n      let product = formProducts.filter(\n        (product: any) => product?.id === parseInt(key)\n      )[0];\n      let variationList = variations[key];\n\n      let attributeData = {\n        total: product.attributes.length,\n        defaultTotal: product.default_attributes.length\n      };\n\n      // Get default attribute\n      // This is set in product editor\n      if (\n        attributeData.total === attributeData.defaultTotal &&\n        variationList.length > 0\n      ) {\n        for (const [, variation] of variationList.entries()) {\n          const attributes = variation.attributes;\n          let match = 0;\n          for (const [j, attr] of attributes.entries()) {\n            if (\n              product.default_attributes[j].id === attr.id &&\n              product.default_attributes[j].name.toLowerCase() ===\n                attr.name.toLowerCase() &&\n              product.default_attributes[j].option.toLowerCase() ===\n                attr.option.toLowerCase()\n            ) {\n              match += 1;\n            }\n          }\n          if (match === attributeData.total) {\n            variationId = variation.id;\n          }\n        }\n      }\n      defaultSelectedVariations.push([{ productId: product.id, variationId }]);\n    });\n\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.get(`wwof/v1/variations/`, {\n        params: {\n          wholesale_role,\n          type: \"get_variations_wholesale_data\",\n          variations: defaultSelectedVariations\n        }\n      })\n    );\n\n    if (response && response.data) {\n      yield put(\n        orderFormDataActions.setVariationsWholesaleData({\n          orderFormId,\n          data: response?.data?.data\n        })\n      );\n\n      if (typeof successCB === \"function\") successCB(response.data);\n    } else {\n      if (typeof failCB === \"function\") failCB();\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport const actionListener = [\n  takeEvery(EOrderFormActionTypes.FETCH_PRODUCTS, fetchProducts),\n  takeEvery(EOrderFormActionTypes.FETCH_VARIATIONS, fetchVariations),\n  takeEvery(EOrderFormActionTypes.FETCH_CATEGORIES, fetchCategories),\n  takeEvery(EOrderFormActionTypes.LOAD_MORE_VARIATIONS, loadMoreVariations),\n  takeEvery(EOrderFormActionTypes.LAZY_LOAD_PRODUCTS, lazyLoadProducts),\n  takeEvery(EOrderFormActionTypes.LAZY_LOAD_VARIATIONS, lazyLoadVariations),\n  takeEvery(\n    EOrderFormActionTypes.GET_VARIATION_WHOLESALE_DATA,\n    getVariationWholesaleData\n  ),\n  takeEvery(\n    EOrderFormActionTypes.GET_VARIATIONS_WHOLESALE_DATA,\n    getVariationsWholesaleData\n  )\n];\n","/*\n * Removes Pagination Component from displaying in header/footer in the frontend\n * @since 1.19\n * @return object\n */\ninterface IData {\n  title: string;\n  rows: any[];\n}\n\nexport const removePaginationComponent = (props: any) => {\n  const { formSettings, formHeader, formFooter } = props;\n\n  if (\n    typeof formSettings.lazy_loading !== \"undefined\" &&\n    formSettings.lazy_loading === true\n  ) {\n    let updatedComponents = {};\n    let removePagination = (data: IData) => {\n      Object.keys(data[\"rows\"]).map((d: any, i: number) => {\n        Object.keys(data[\"rows\"][i][\"columns\"]).map((row: any, j: number) => {\n          if (data[\"rows\"][i][\"columns\"][j].itemIds.includes(\"pagination\")) {\n            let filtered = data[\"rows\"][i][\"columns\"][j].itemIds.filter(\n              (el: string) => {\n                return el != \"pagination\";\n              }\n            );\n\n            data[\"rows\"][i][\"columns\"][j].itemIds = filtered;\n          }\n        });\n      });\n      return data;\n    };\n\n    if (typeof formHeader !== \"undefined\") {\n      updatedComponents = removePagination(formHeader);\n    } else {\n      updatedComponents = removePagination(formFooter);\n    }\n    return updatedComponents;\n  }\n\n  return typeof formHeader !== \"undefined\" ? formHeader : formFooter;\n};\n","/*\n * The purpose of these helper is to get all required option set per component that is needed for fetching products.\n * The form settings is stored in the db that contains required option but some order form doesnt have the save data yet in the db.\n * This is why get the option data in the component then store to redux state.\n * Incase the variation selector is not yet in db then we pull the data in the component option.\n * For now this only returns variation style, can be updated to return more data later.\n *\n * @since 1.19\n */\n\nimport { getPropValue } from \"./getPropValue\";\n\nexport const getComponentSettings = (props: any) => {\n  const { formStyles } = props;\n\n  const variationSelector =\n    getPropValue({\n      formStyles,\n      item: \"variation-dropdown\",\n      prop: \"variationSelectorStyle\",\n    }) || \"combo\";\n\n  return {\n    variation_selector_style: variationSelector,\n  };\n};\n","import { takeEvery, put, call } from \"redux-saga/effects\";\nimport { EOrderFormDataActionTypes } from \"types/OrderFormDataTypes\";\nimport { orderFormDataActions } from \"store/actions\";\nimport { IResponseGenerator } from \"types/IResponseGenerator\";\n\n// Helper\nimport { getProductMinQtyAndStep } from \"helpers/getProductMinQtyAndStep\";\n\nimport axios from \"axios\";\nimport { removePaginationComponent } from \"helpers/removePaginationComponent\";\nimport { getComponentSettings } from \"helpers/getComponentSettings\";\n\ndeclare var WWOF_Frontend_Options: any;\n\nlet headers = {};\n\nif (\n  typeof WWOF_Frontend_Options !== \"undefined\" &&\n  WWOF_Frontend_Options.nonce !== \"\"\n) {\n  headers = {\n    \"X-WP-Nonce\": WWOF_Frontend_Options.nonce,\n  };\n}\n\nexport function* fetchOrderFormData(action: any) {\n  try {\n    const { id, successCB, failCB } = action.payload;\n\n    const response: IResponseGenerator = yield call(() =>\n      axios.get(\n        `${WWOF_Frontend_Options.site_url}/wp-json/wwof/v1/order_forms/${id}`,\n        {\n          headers: {\n            ...headers,\n          },\n        }\n      )\n    );\n\n    if (response && response.data) {\n      let formHeader = removePaginationComponent({\n        formSettings: response.data.meta.settings,\n        formHeader: response.data.meta.editor_area.formHeader,\n      });\n      let formFooter = removePaginationComponent({\n        formSettings: response.data.meta.settings,\n        formFooter: response.data.meta.editor_area.formFooter,\n      });\n\n      yield put(\n        orderFormDataActions.setOrderFormData({\n          formTitle: {\n            [id]: response.data.title,\n          },\n          formFooter: {\n            [id]: formFooter,\n          },\n          formHeader: {\n            [id]: formHeader,\n          },\n          formTable: {\n            [id]: response.data.meta.editor_area.formTable,\n          },\n          formStyles: {\n            [id]: response.data.meta.styles,\n          },\n          formSettings: {\n            [id]: {\n              ...getComponentSettings({\n                formStyles: response.data.meta.styles,\n              }),\n              ...response.data.meta.settings,\n            },\n          },\n        })\n      );\n\n      if (typeof successCB === \"function\") successCB(response);\n    } else {\n      if (typeof failCB === \"function\") failCB();\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function* updateSelectedProducts(action: any) {\n  try {\n    const { selected, orderFormData, orderFormId, product } = action.payload;\n    let updatedSelectedProducts: any = orderFormData.formSelectedProducts || {};\n\n    if (selected) {\n      if (typeof product !== \"undefined\") {\n        // Per product select\n        // Get Wholesale Min Quantity\n        let variationName: [] = [];\n        let variationID: number = 0;\n        let wholesaleData: any =\n          typeof product.wholesale_data !== \"undefined\"\n            ? product.wholesale_data\n            : [];\n        let variationData: any = [];\n\n        if (product.type === \"variable\") {\n          variationID =\n            updatedSelectedProducts[orderFormId][product.id].variationID;\n        }\n\n        // Get selected variation data and name\n        if (variationID != 0) {\n          variationData = orderFormData.formProducts[orderFormId][\"variations\"][\n            product.id\n          ].find((data: any) => {\n            return data.id === variationID;\n          });\n\n          if (variationData !== undefined) {\n            variationName = variationData.attributes.map((attributes: any) => {\n              return `<strong>${attributes.name}</strong>:  ${attributes.option}`;\n            });\n          }\n\n          variationData =\n            typeof variationData.wholesale_data !== \"undefined\"\n              ? variationData.wholesale_data\n              : [];\n        } else if (product.type === \"variation\") {\n          variationName = product.attributes.map((attributes: any) => {\n            return `<strong>${attributes.name}</strong>:  ${attributes.option}`;\n          });\n        }\n\n        const { minOrderQty } = getProductMinQtyAndStep({\n          productType: product.type,\n          wholesaleData,\n          variationData,\n          variationID,\n          quantity: 1,\n        });\n\n        if (\n          typeof updatedSelectedProducts[orderFormId] !== \"undefined\" &&\n          typeof updatedSelectedProducts[orderFormId][product.id] !==\n            \"undefined\"\n        ) {\n          updatedSelectedProducts = {\n            ...updatedSelectedProducts,\n            [orderFormId]: {\n              ...updatedSelectedProducts[orderFormId],\n              [product.id]: {\n                quantity: minOrderQty,\n                stockStatus: product.stock_status,\n                ...updatedSelectedProducts[orderFormId][product.id],\n                selected,\n                productID: product.id,\n                productTitle: product.name,\n                productType: product.type,\n                wholesaleData,\n                variationData,\n                variationName: variationName.join(\"<br/>\"),\n              },\n            },\n          };\n        } else {\n          updatedSelectedProducts = {\n            ...updatedSelectedProducts,\n            [orderFormId]: {\n              ...updatedSelectedProducts[orderFormId],\n              [product.id]: {\n                selected,\n                quantity: minOrderQty,\n                stockStatus: product.stock_status,\n                productID: product.id,\n                productTitle: product.name,\n                productType: product.type,\n                wholesaleData,\n                variationData,\n                variationName: variationName.join(\"<br/>\"),\n              },\n            },\n          };\n        }\n\n        if (typeof orderFormData.formPagination[orderFormId] !== \"undefined\") {\n          yield put(\n            orderFormDataActions.setPageSelectedAll({\n              orderFormId,\n              data: {\n                [orderFormData.formPagination[orderFormId].active_page]: false,\n              },\n            })\n          );\n        }\n      } else if (\n        typeof orderFormData.formProducts[orderFormId] !== \"undefined\" &&\n        typeof orderFormData.formProducts[orderFormId][\"products\"] !==\n          \"undefined\"\n      ) {\n        // Selected all\n        orderFormData.formProducts[orderFormId][\"products\"].map(\n          (product: any, key: number) => {\n            let variationName: [] = [];\n            let variationID: number = 0;\n            let wholesaleData: any =\n              typeof product.wholesale_data !== \"undefined\"\n                ? product.wholesale_data\n                : [];\n            let variationData: any = [];\n            if (\n              product.type === \"variable\" &&\n              product.stock_status === \"instock\"\n            ) {\n              variationID =\n                updatedSelectedProducts[orderFormId][product.id].variationID;\n            }\n\n            // Get selected variation data and name\n            if (variationID != 0) {\n              variationData = orderFormData.formProducts[orderFormId][\n                \"variations\"\n              ][product.id].find((data: any) => {\n                return data.id === variationID;\n              });\n\n              if (variationData !== undefined) {\n                variationName = variationData.attributes.map(\n                  (attributes: any) => {\n                    return attributes.name + \": \" + attributes.option;\n                  }\n                );\n              }\n              variationData =\n                typeof variationData.wholesale_data !== \"undefined\"\n                  ? variationData.wholesale_data\n                  : [];\n            } else if (product.type === \"variation\") {\n              variationName = product.attributes.map((attributes: any) => {\n                return `<strong>${attributes.name}</strong>:  ${attributes.option}`;\n              });\n            }\n\n            // Get Wholesale Min Quantity\n            const { minOrderQty } = getProductMinQtyAndStep({\n              productType: product.type,\n              wholesaleData,\n              variationData,\n              variationID,\n              quantity: 1,\n            });\n\n            if (\n              typeof updatedSelectedProducts[orderFormId] !== \"undefined\" &&\n              typeof updatedSelectedProducts[orderFormId][product.id] !==\n                \"undefined\"\n            ) {\n              updatedSelectedProducts = {\n                ...updatedSelectedProducts,\n                [orderFormId]: {\n                  ...updatedSelectedProducts[orderFormId],\n                  [product.id]: {\n                    stockStatus: product.stock_status,\n                    ...updatedSelectedProducts[orderFormId][product.id],\n                    selected,\n                    productID: product.id,\n                    productTitle: product.name,\n                    productType: product.type,\n                    quantity: minOrderQty,\n                    wholesaleData,\n                    variationData,\n                    variationName: variationName.join(\"<br/>\"),\n                  },\n                },\n              };\n            } else {\n              updatedSelectedProducts = {\n                ...updatedSelectedProducts,\n                [orderFormId]: {\n                  ...updatedSelectedProducts[orderFormId],\n                  [product.id]: {\n                    selected,\n                    stockStatus: product.stock_status,\n                    productID: product.id,\n                    productTitle: product.name,\n                    productType: product.type,\n                    quantity: minOrderQty,\n                    wholesaleData,\n                    variationData,\n                    variationName: variationName.join(\"<br/>\"),\n                  },\n                },\n              };\n            }\n          }\n        );\n\n        if (typeof orderFormData.formPagination[orderFormId] !== \"undefined\") {\n          yield put(\n            orderFormDataActions.setPageSelectedAll({\n              orderFormId,\n              data: {\n                [orderFormData.formPagination[orderFormId].active_page]:\n                  selected,\n              },\n            })\n          );\n        }\n      }\n    } else {\n      let formSelectedProductsCopy = updatedSelectedProducts[orderFormId];\n\n      // Unselect product checkbox\n      if (typeof product !== \"undefined\") {\n        if (product.type === \"variable\")\n          formSelectedProductsCopy[product.id].selected = false;\n        else delete formSelectedProductsCopy[product.id];\n\n        if (typeof orderFormData.formPagination[orderFormId] !== \"undefined\") {\n          yield put(\n            orderFormDataActions.setPageSelectedAll({\n              orderFormId,\n              data: {\n                [orderFormData.formPagination[orderFormId].active_page]: false,\n              },\n            })\n          );\n        }\n\n        // Unselect All checkbox\n      } else if (\n        typeof orderFormData.formProducts[orderFormId] !== \"undefined\" &&\n        typeof orderFormData.formProducts[orderFormId][\"products\"] !==\n          \"undefined\"\n      ) {\n        orderFormData.formProducts[orderFormId][\"products\"].map(\n          (product: any, key: number) => {\n            if (\n              typeof formSelectedProductsCopy !== \"undefined\" &&\n              typeof formSelectedProductsCopy[product.id] !== \"undefined\" &&\n              formSelectedProductsCopy[product.id].productType !== \"variable\"\n            )\n              delete formSelectedProductsCopy[product.id];\n            else {\n              formSelectedProductsCopy[product.id].selected = false;\n            }\n          }\n        );\n\n        if (typeof orderFormData.formPagination[orderFormId] !== \"undefined\") {\n          yield put(\n            orderFormDataActions.setPageSelectedAll({\n              orderFormId,\n              data: {\n                [orderFormData.formPagination[orderFormId].active_page]:\n                  selected,\n              },\n            })\n          );\n        }\n      }\n\n      updatedSelectedProducts = {\n        [orderFormId]: {\n          ...formSelectedProductsCopy,\n        },\n      };\n    }\n\n    yield put(\n      orderFormDataActions.setSelectedProductsToAddToCart(\n        updatedSelectedProducts\n      )\n    );\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function* getMinOrderReqNotice(action: any) {\n  const { postId, wholesale_role, uid, successCB, failCB } = action.payload;\n\n  try {\n    const response: IResponseGenerator = yield call(() =>\n      axios.get(\n        WWOF_Frontend_Options.site_url +\n          \"/wp-json/wwof/v1/order_forms/get_wholesale_order_requirements\",\n        {\n          params: {\n            wholesale_role,\n            uid,\n          },\n          headers: {\n            ...headers,\n          },\n        }\n      )\n    );\n\n    if (response && response.data.status === \"success\") {\n      yield put(\n        orderFormDataActions.setMinOrderReqNotice({\n          [postId]: {\n            message: response.data.message,\n          },\n        })\n      );\n\n      if (typeof successCB === \"function\") successCB(response);\n    } else {\n      if (typeof successCB === \"function\") failCB();\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport const actionListener = [\n  takeEvery(\n    EOrderFormDataActionTypes.FETCH_ORDER_FORM_DATA,\n    fetchOrderFormData\n  ),\n  takeEvery(\n    EOrderFormDataActionTypes.UPDATE_ORDER_FORM_SELECTED_PRODUCTS,\n    updateSelectedProducts\n  ),\n  takeEvery(\n    EOrderFormDataActionTypes.GET_MIN_ORDER_REQ_NOTICE,\n    getMinOrderReqNotice\n  ),\n];\n","import { takeEvery, call } from \"redux-saga/effects\";\nimport { EProductListActionTypes } from \"types/ProductListTypes\";\n\nimport axios from \"helpers/axios\";\nimport { IResponseGenerator } from \"types/IResponseGenerator\";\n\ndeclare var WWOF_Frontend_Options: any;\n\nexport function* addProductToCart(action: any) {\n  const {\n    product_type,\n    product_id,\n    variation_id,\n    quantity,\n    successCB,\n    failCB,\n    form_settings,\n  } = action.payload;\n\n  try {\n    const qs = require(\"qs\");\n\n    const response: IResponseGenerator = yield call(() =>\n      axios.post(\n        WWOF_Frontend_Options.ajax,\n        qs.stringify({\n          action: \"wwof_add_product_to_cart\",\n          product_type: product_type,\n          product_id: product_id,\n          variation_id: variation_id,\n          quantity: quantity,\n          form_settings: form_settings,\n        })\n      )\n    );\n\n    if (response && response.data.status === \"success\") {\n      if (typeof successCB === \"function\") successCB(response);\n    } else if (response.data.status === \"failed\") {\n      if (typeof failCB === \"function\") failCB();\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function* addProductsToCart(action: any) {\n  const { products, successCB, failCB, form_settings } = action.payload;\n\n  try {\n    const qs = require(\"qs\");\n\n    const response: IResponseGenerator = yield call(() =>\n      axios.post(\n        WWOF_Frontend_Options.ajax,\n        qs.stringify({\n          action: \"wwof_add_products_to_cart\",\n          products: products,\n          form_settings: form_settings,\n        })\n      )\n    );\n\n    if (response && response.data.status === \"success\") {\n      if (typeof successCB === \"function\") successCB(response);\n    } else {\n      if (typeof failCB === \"function\") failCB();\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport const actionListener = [\n  takeEvery(EProductListActionTypes.ADD_PRODUCT_TO_CART, addProductToCart),\n  takeEvery(EProductListActionTypes.ADD_PRODUCTS_TO_CART, addProductsToCart),\n];\n","import { takeEvery, put, call } from \"redux-saga/effects\";\nimport { EOrderFormI18nActionTypes, IResponseGenerator } from \"types/index\";\nimport { i18nActions } from \"store/actions/index\";\nimport axiosInstance from \"helpers/axios\";\n\nexport function* fetchStrings(action: any) {\n  try {\n    const response: IResponseGenerator = yield call(() =>\n      axiosInstance.get(`wwof/v1/i18n/?source=frontend`)\n    );\n\n    if (response && response.data) {\n      yield put(i18nActions.setStrings(response.data));\n    } else console.log(response);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport const actionListener = [\n  takeEvery(EOrderFormI18nActionTypes.FETCH_STRINGS, fetchStrings),\n];\n","import { all } from \"redux-saga/effects\";\n\n// Sagas\nimport * as orderForm from \"./orderFormSaga\";\nimport * as orderFormData from \"./orderFormDataSaga\";\nimport * as productList from \"./productListSaga\";\nimport * as i18nSaga from \"./i18nSaga\";\n\nexport default function* rootSaga() {\n  yield all([...orderForm.actionListener]);\n  yield all([...orderFormData.actionListener]);\n  yield all([...productList.actionListener]);\n  yield all([...i18nSaga.actionListener]);\n}\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\n\nimport reducers from \"./reducers\";\nimport rootSaga from \"./sagas\";\n\ndeclare global {\n    interface Window {\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n    }\n}\n\n// redux dev tools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// create the saga middleware\nconst sagaMiddleware = createSagaMiddleware();\n\n// mount it on the Store\nconst store = createStore(\n    reducers,\n    composeEnhancers(applyMiddleware(sagaMiddleware))\n)\n\n// then run the saga\nsagaMiddleware.run(rootSaga);\n\nexport default store;","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { ConfigProvider } from \"antd\";\n\n// Store\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\ndeclare var WWOF_Frontend_Options: any;\n\nif (WWOF_Frontend_Options.root !== \"%REACT_APP_ROOT%\") {\n  // Find all DOM containers, and render order form into them.\n  document.querySelectorAll(\".order-form\").forEach((domContainer: any) => {\n    ReactDOM.render(\n      <Provider store={store}>\n        <ConfigProvider\n          direction={WWOF_Frontend_Options?.is_rtl ? \"rtl\" : \"ltr\"}\n        >\n          <App\n            attributes={JSON.parse(\n              domContainer.attributes[\"data-order-form-attr\"].value\n            )}\n          />\n        </ConfigProvider>\n      </Provider>,\n      domContainer\n    );\n  });\n} else {\n  document.querySelectorAll(\".order-form\").forEach((domContainer: any) => {\n    ReactDOM.render(\n      <p>\n        You have missing environment variables. Please see readme.txt for the\n        proper setup.\n      </p>,\n      domContainer\n    );\n  });\n}\n"],"sourceRoot":""}