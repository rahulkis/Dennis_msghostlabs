!function(r){if("undefined"==typeof wc_bogof_single_product_params)return;if(r('input[name^="wc_bogof_cart_rule"]').length<1&&void 0!==wc_bogof_single_product_params.cart_rules&&0<r("form.cart").length){var _=r("form.cart").first();wc_bogof_single_product_params.cart_rules.forEach(function(a){r("<input>").attr({type:"hidden",name:"wc_bogof_cart_rule[]",value:a}).appendTo(_)})}if(0<r("form.cart .ajax_add_to_cart[data-product_id]").length)r("form.cart .ajax_add_to_cart[data-product_id]").each(function(a,_){var o=[];r(_).closest("form.cart").find('input[name^="wc_bogof_cart_rule"]').each(function(a,_){o.push(r(_).val())}),0<o.length&&(r(_).data("wc_bogof_cart_rule",o),r(_).data("wc_bogof_single_product",1))});else if("undefined"!=typeof wc_add_to_cart_params){var o=[];if(r("form.cart").first().find('input[name^="wc_bogof_cart_rule"]').each(function(a,_){o.push("wc_bogof_cart_rule[]="+encodeURIComponent(r(_).val()))}),0<o.length){o.push("wc_bogof_single_product=1");var t=o.join("&");["ajax_url","wc_ajax_url"].forEach(function(a){void 0!==wc_add_to_cart_params[a]&&(wc_add_to_cart_params[a]+=wc_add_to_cart_params[a].indexOf("?")<0?"?"+t:"&"+t)})}}r(document.body).on("added_to_cart",function(a,_){if(_&&void 0!==_.wc_choose_your_gift_data){var o=_.wc_choose_your_gift_data;if(void 0!==o.cart_redirect&&"yes"===o.cart_redirect)return void(window.location=wc_bogof_single_product_params.cart_url)}})}(jQuery);